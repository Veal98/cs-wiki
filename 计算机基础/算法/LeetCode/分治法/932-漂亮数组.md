# 932. æ¼‚äº®æ•°ç»„

---

> è¯´å®è¯è¿™é¢˜æœ‰ç‚¹ä¼¼æ‡‚éæ‡‚ ğŸ˜‚

ğŸ‘‰ [932. Beautiful Array â€” Medium](https://leetcode-cn.com/problems/beautiful-array/)

## ğŸ“œ é¢˜ç›®æè¿°

For some fixed N, an array A is beautiful if it is a permutation (æ’åˆ—) of the integers 1, 2, ..., N, such that:

**For every `i < j`, there is no k with `i < k < j` such that `A[k] * 2 = A[i] + A[j]`**.

Given N, return any beautiful array A.  (It is guaranteed that one exists.)

å…¶å®å°±æ˜¯ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„åŒ…å« 1~N çš„æ•°å­—ï¼Œä»»æ„å¯¹è¿™ä¸ªæ•°ç»„å·¦è¾¹é€‰ä¸€ä¸ªæ•° A[i]ï¼Œå³è¾¹é€‰ä¸€ä¸ªæ•° A[j]ï¼Œä¸­é—´é€‰ä¸€ä¸ªæ•° A[k]ï¼Œ A[k] * 2 = A[i] + A[j] æ°¸è¿œä¸æˆç«‹ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å°±æ˜¯æ¼‚äº®æ•°ç»„

**Example 1**:

```
Input: 4
Output: [2,1,4,3]
```

**Example 2**:

```
Input: 5
Output: [3,1,2,5,4]
```

**Note**:

1 <= N <= 1000

## ğŸ’¡ è§£é¢˜æ€è·¯

é¦–å…ˆæ˜ç¡®ä¸€ä¸ªæ€§è´¨ï¼š

å¦‚æœæŸä¸ªæ•°ç»„ $[a_1, a_2, \cdots, a_n]$ æ˜¯æ¼‚äº®çš„ï¼Œé‚£ä¹ˆå¯¹è¿™ä¸ªæ•°ç»„è¿›è¡Œä»¿å°„å˜æ¢ï¼Œå¾—åˆ°çš„æ–°æ•°ç»„$[ka_1+b, ka_2+b, \cdots, ka_n+b]$ ä¹Ÿæ˜¯æ¼‚äº®çš„ï¼ˆå…¶ä¸­ $k \neq 0$ï¼‰ã€‚

é‚£ä¹ˆæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªæƒ³æ³•ï¼šå°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ† left å’Œ rightï¼Œåˆ†åˆ«æ±‚å‡ºä¸€ä¸ªæ¼‚äº®çš„æ•°ç»„ï¼Œç„¶åå°†å®ƒä»¬è¿›è¡Œä»¿å°„å˜æ¢ï¼Œä½¿å¾—ä¸å­˜åœ¨æ»¡è¶³ä¸‹é¢æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼š

`A[k] * 2 = A[i] + A[j], i < k < j`ï¼›

A[i] æ¥è‡ª left éƒ¨åˆ†ï¼ŒA[j] æ¥è‡ª right éƒ¨åˆ†ã€‚

å¯ä»¥å‘ç°ï¼Œ**ç­‰å¼ A[k] * 2 = A[i] + A[j] çš„å·¦ä¾§æ˜¯ä¸€ä¸ªå¶æ•°ï¼Œå³ä¾§çš„ä¸¤ä¸ªå…ƒç´ åˆ†åˆ«æ¥è‡ªä¸¤ä¸ªéƒ¨åˆ†ã€‚è¦æƒ³ç­‰å¼æ’ä¸æˆç«‹ï¼Œä¸€ä¸ªç®€å•çš„åŠæ³•å°±æ˜¯è®© left éƒ¨åˆ†çš„æ•°éƒ½æ˜¯å¥‡æ•°ï¼Œright éƒ¨åˆ†çš„æ•°éƒ½æ˜¯å¶æ•°ã€‚**

å› æ­¤æˆ‘ä»¬å°†æ‰€æœ‰çš„å¥‡æ•°æ”¾åœ¨ left éƒ¨åˆ†ï¼Œæ‰€æœ‰çš„å¶æ•°æ”¾åœ¨ right éƒ¨åˆ†ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç­‰å¼æ’ä¸æˆç«‹ã€‚å¯¹äº [1..N] çš„æ’åˆ—ï¼Œ**left éƒ¨åˆ†åŒ…æ‹¬ (N + 1) / 2 ä¸ªå¥‡æ•°ï¼Œright éƒ¨åˆ†åŒ…æ‹¬ N / 2 ä¸ªå¶æ•°**ã€‚

ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨ [1..N] ä¸­æœ‰ (N + 1) / 2 ä¸ªå¥‡æ•°å’Œ N / 2 ä¸ªå¶æ•°ã€‚æˆ‘ä»¬å°†å…¶åˆ†æ²»æˆä¸¤ä¸ªå­é—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºä¸è¶…è¿‡ (N + 1) / 2 çš„æ•´æ•°ï¼Œå¹¶æ˜ å°„åˆ°æ‰€æœ‰çš„å¥‡æ•°ï¼›å¦ä¸€ä¸ªä¸ºä¸è¶…è¿‡ N / 2 çš„æ•´æ•°ï¼Œå¹¶æ˜ å°„åˆ°æ‰€æœ‰çš„å¶æ•°ã€‚

## âœ… å…·ä½“ä»£ç 

```java
class Solution {

    Map<Integer, int[]> memo; // å­˜å‚¨ N å¯¹åº”çš„æ¼‚äº®æ•°ç»„ï¼Œé˜²æ­¢é‡å¤è®¡ç®—

    public int[] beautifulArray(int N) {
        memo = new HashMap<>();
        return f(N);
    }

    public int[] f(int N){
        // é˜²æ­¢é‡å¤è®¡ç®—
        if(memo.containsKey(N)){
            return memo.get(N);
        }

        int[] ans = new int[N]; // å­˜å‚¨æ¼‚äº®æ•°ç»„
        
        if(N == 1)
            ans[0] = 1;
        else {
            int t = 0; // æ•°ç»„ä¸‹æ ‡
            for(int odds : f((N+1)/2)){ // é€’å½’åˆ†æ²»å·¦è¾¹å¥‡æ•°
                ans[t] = 2 * odds - 1; 
                t ++;
            }
            for(int evens : f((N)/2)){ // é€’å½’åˆ†æ²»å³è¾¹å¶æ•°
                ans[t] = 2 * evens;
                t ++;
            }
        }

        memo.put(N, ans);
        return ans;
    }
}
```

## ğŸ†š å¤æ‚åº¦åˆ†æ

æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN)ï¼Œä»£ç ä¸­çš„å‡½æ•° f æ‰§è¡Œçš„æ¬¡æ•°ä¸º O(logN)ï¼Œæ¯æ¬¡æ‰§è¡Œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(NlogN)ã€‚