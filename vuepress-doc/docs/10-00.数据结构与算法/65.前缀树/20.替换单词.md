---
title: æ›¿æ¢å•è¯
date: 2022-04-28 10:30:13
permalink: /pages/5f52a6/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 063. æ›¿æ¢å•è¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/UhWRSj/)
- [648. å•è¯æ›¿æ¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/replace-words/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220428103057.png)

## ğŸ”” è§£é¢˜æ€è·¯

ä¸¤æ­¥èµ°ï¼š

1. åˆ›å»ºå‰ç¼€æ ‘
2. é’ˆå¯¹æ¯ä¸ªå•è¯åœ¨å‰ç¼€æ ‘ä¸­æœç´¢è¯æ ¹ï¼ˆå³ä»å‰ç¼€æ ‘çš„æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œé€ä¸ªåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æœ‰å­èŠ‚ç‚¹ä¸å•è¯çš„å­—ç¬¦å¯¹åº”ã€‚å¦‚æœåœ¨æŸ¥æ‰¾è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªisWord æ ‡è®°ä¸º true çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±æ‰¾åˆ°äº†å•è¯çš„å‰ç¼€ã€‚æŸ¥æ‰¾å‰ç¼€çš„ä»£ç å¦‚ä¸‹ `findPrefix` æ‰€ç¤ºï¼‰


```java
class Solution {
    
    public String replaceWords(List<String> dictionary, String sentence) {
        TrieNode root = buildTrie(dictionary);
        String[] words = sentence.split(" ");
        for (int i = 0; i < words.length; i ++) {
            String replaceWord = findPrefix(root, words[i]);
            // ç”¨æœ€çŸ­çš„è¯æ ¹è¿›è¡Œæ›¿æ¢
            if (replaceWord != null) {
                words[i] = replaceWord;
            }
        }

        return String.join(" ", words);
    }

    // å‰ç¼€æ ‘èŠ‚ç‚¹
    static class TrieNode {
        TrieNode[] children;
        boolean isWord;

        public TrieNode() {
            children = new TrieNode[26];
            isWord = false;
        }
    }

    // æ„é€ å‰ç¼€æ ‘
    private TrieNode buildTrie(List<String> dictionary) {
        TrieNode root = new TrieNode();
        for (String word : dictionary) {
            TrieNode node = root;
            for (char ch : word.toCharArray()) {
                if (node.children[ch - 'a'] == null) {
                    node.children[ch - 'a'] = new TrieNode();
                }

                node = node.children[ch - 'a'];
            }

            node.isWord = true;
        }

        return root;
    }

    // æŸ¥æ‰¾ word åœ¨å‰ç¼€æ ‘ä¸­çš„æœ€çŸ­è¯æ ¹
    private String findPrefix(TrieNode root, String word) {
        TrieNode node = root;
        // å­˜å‚¨éå†è¿‡ç¨‹ä¸­çš„è·¯å¾„
        StringBuilder sb = new StringBuilder();
        for (char ch : word.toCharArray()) {
            // å¦‚æœåœ¨æŸ¥æ‰¾è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ª isWord æ ‡è®°ä¸º true çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±æ‰¾åˆ°äº†å•è¯çš„å‰ç¼€
            if (node.children[ch - 'a'] == null || node.isWord) {
                break;
            }

            sb.append(ch);
            node = node.children[ch - 'a'];
        }

        return node.isWord ? sb.toString(): null;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(N)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N)

