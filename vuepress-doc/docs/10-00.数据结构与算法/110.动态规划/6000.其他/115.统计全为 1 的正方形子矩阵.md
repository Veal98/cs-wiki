## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[1277. ç»Ÿè®¡å…¨ä¸º 1 çš„æ­£æ–¹å½¢å­çŸ©é˜µ](https://leetcode.cn/problems/count-square-submatrices-with-all-ones/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220807182641569.png)

## ğŸ”” è§£é¢˜æ€è·¯

å’Œ [221. æœ€å¤§æ­£æ–¹å½¢](https://leetcode.cn/problems/maximal-square/) æ€è·¯ä¸€æ ·ï¼Œå…³é”®å°±åœ¨äºï¼š**`dp[i][j] = x` ä¹Ÿè¡¨ç¤ºä»¥ `(i, j)` ä¸ºå³ä¸‹è§’çš„æ­£æ–¹å½¢çš„æ•°ç›®ä¸º `x`**ï¼ˆå³è¾¹é•¿ä¸º `1, 2, ..., x` çš„æ­£æ–¹å½¢å„ä¸€ä¸ªï¼‰


```java
class Solution {
    public int countSquares(int[][] matrix) {
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return 0;
        }
        
        int row = matrix.length;
        int col = matrix[0].length;
        // dp[i][j] è¡¨ç¤ºä»¥ matrix[i][j] ä¸ºå³ä¸‹è§’çš„æœ€å¤§æ­£æ–¹å½¢çš„è¾¹é•¿
        int[][] dp = new int[row][col];
		
        // å…¨ 1 æ­£æ–¹å½¢æ•°ç›®
        int res = 0;

        for (int i = 0; i < row; i ++) {
            for (int j = 0; j < col; j ++) {
                if (matrix[i][j] == 1) {
                   if (i == 0 || j == 0) {
                       dp[i][j] = 1;
                   }
                   else {
                       dp[i][j] = Math.min(Math.min(dp[i - 1][j], dp[i][j - 1]), dp[i - 1][j - 1]) + 1;
                   }
                }

                res += dp[i][j];
            }
        }

        return res;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

