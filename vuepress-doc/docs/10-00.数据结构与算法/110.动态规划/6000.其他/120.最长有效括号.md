---
title: æœ€é•¿æœ‰æ•ˆæ‹¬å·
date: 2022-08-08 17:23:01
permalink: /pages/e4c41a/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode.cn/problems/longest-valid-parentheses/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220808172324522.png)

## ğŸ”” è§£é¢˜æ€è·¯

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220808172350555.png)

è‡ªå·±åŠ¨æ‰‹ç”»ä¸ªå›¾å°±èƒ½æ˜ç™½äº†ï¼Œå…ˆç©ºç€ï¼Œåé¢æˆ‘ä¼šè¡¥ä¸Š


```java
class Solution {
    public int longestValidParentheses(String s) {
        int len = s.length();
        // ä»¥ s[i] ç»“å°¾çš„æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²çš„é•¿åº¦
        int[] dp = new int[len];

        int res = 0;

        for (int i = 1; i < len; i ++) {
            if (s.charAt(i) == ')') {
                if (s.charAt(i - 1) == '(') {
                    dp[i] = (i - 2 >= 0 ? dp[i - 2] : 0) + 2;
                }
                else if (i - dp[i - 1] - 1 >= 0 && s.charAt(i - dp[i - 1] - 1) == '(') {
                    dp[i] = (i - dp[i - 1] - 2 >= 0 ? dp[i - dp[i - 1] - 2] : 0) + dp[i - 1] + 2;
                }
            }
            else {
                dp[i] = 0;
            }

            res = Math.max(res, dp[i]);
        }

        return res;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š