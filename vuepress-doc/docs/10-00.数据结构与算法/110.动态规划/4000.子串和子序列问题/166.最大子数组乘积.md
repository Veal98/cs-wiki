---
title: æœ€å¤§å­æ•°ç»„ä¹˜ç§¯
date: 2022-09-22 10:56:41
permalink: /pages/75ac89/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode.cn/problems/maximum-product-subarray/)

## ğŸ”” è§£é¢˜æ€è·¯

æŒ‰ç…§ [53. æœ€å¤§å­æ•°ç»„å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/maximum-subarray/) è¿™é¢˜çš„æ€è·¯å»åšçš„è¯ï¼Œå³ dp[i] = Math.max(dp[i - 1] + nums[i], nums[i])ï¼Œè¿™æ ·ä¼šå‡ºç°é—®é¢˜ï¼

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220922110120.png)

```java
class Solution {
    public int maxProduct(int[] nums) {
        if (nums == null || nums.length == 0) {
            return 0;
        }
		
        // nums[i] å·¦è¾¹çš„æœ€å¤§ä¹˜ç§¯
        int[] maxDp = new int[nums.length];
        // nums[i] å·¦è¾¹çš„æœ€å°ä¹˜ç§¯
        int[] minDp = new int[nums.length];

        // base case
        maxDp[0] = nums[0];
        minDp[0] = nums[0];

        int res = maxDp[0];

        for (int i = 1; i < nums.length; i ++) {
            maxDp[i] = Math.max(Math.max(maxDp[i - 1] * nums[i], minDp[i - 1] * nums[i]), nums[i]);
            minDp[i] = Math.min(Math.min(maxDp[i - 1] * nums[i], minDp[i - 1] * nums[i]), nums[i]);
            res = Math.max(maxDp[i], res);
        }

        return res;
    }
}
```

çŠ¶æ€å‹ç¼©ï¼š

```java
class Solution {
    public int maxProduct(int[] nums) {
        if (nums == null || nums.length == 0) {
            return 0;
        }
		
        // nums[i] å·¦è¾¹çš„æœ€å¤§ä¹˜ç§¯
        int preMax = nums[0];
        // nums[i] å·¦è¾¹çš„æœ€å°ä¹˜ç§¯
        int preMin = nums[0];

        int res = nums[0];

        for (int i = 1; i < nums.length; i ++) {
            int curMax = Math.max(Math.max(preMax * nums[i], preMin * nums[i]), nums[i]);
            int curMin = Math.min(Math.min(preMax * nums[i], preMin * nums[i]), nums[i]);

            res = Math.max(res, curMax);
            
            preMax = curMax;
            preMin = curMin;
        }

        return res;
    }
}
```



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š
