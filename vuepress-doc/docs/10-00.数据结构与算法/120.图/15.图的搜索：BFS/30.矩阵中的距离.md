---
title: çŸ©é˜µä¸­çš„è·ç¦»
date: 2022-03-20 11:53:59
permalink: /pages/5e56d4/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 107. çŸ©é˜µä¸­çš„è·ç¦» - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/2bCMpM/)
- [542. 01 çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/01-matrix/)

ç»™å®šä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„çŸ©é˜µ mat ï¼Œè¯·è¾“å‡ºä¸€ä¸ªå¤§å°ç›¸åŒçš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€ä¸ªæ ¼å­æ˜¯ mat ä¸­å¯¹åº”ä½ç½®å…ƒç´ **åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»**ã€‚

ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º 1ã€‚

 

ç¤ºä¾‹ 1ï¼š

![img](https://pic.leetcode-cn.com/1626667201-NCWmuP-image.png)

```
è¾“å…¥ï¼šmat = [[0,0,0],[0,1,0],[0,0,0]]
è¾“å‡ºï¼š[[0,0,0],[0,1,0],[0,0,0]]
```

ç¤ºä¾‹ 2ï¼š

![img](https://pic.leetcode-cn.com/1626667205-xFxIeK-image.png)

```
è¾“å…¥ï¼šmat = [[0,0,0],[0,1,0],[1,1,1]]
è¾“å‡ºï¼š[[0,0,0],[0,1,0],[1,2,1]]
```

## ğŸ”” è§£é¢˜æ€è·¯

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220516115435.png)

å¯¹äºä¸Šé¢çš„ä¸¤ç§åšæ³•ï¼Œç¬¬ä¸€ç§çœ‹ä¸Šå»ç®€æ´æœ‰æ•ˆï¼Œåªéœ€è¦å¯¹æ¯ä¸€ä¸ªä½ç½®è®¡ç®—å°±è¡Œï¼›ç¬¬äºŒç§éœ€è¦å®ç°å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œä¼šå¤æ‚ä¸€äº›ã€‚ä½†æ˜¯ï¼Œåˆ«å¿˜äº†æˆ‘ä»¬çš„é¢˜ç›®ä¸­ä¼šæœ‰ä¸æ­¢ä¸€ä¸ª 0ï¼Œè¿™æ ·ä»¥æ¥ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ç¬¬ä¸€ç§åšæ³•ï¼Œå°±å¿…é¡»å¯¹äºæ¯ä¸ª 1 è®¡ç®—ä¸€æ¬¡å®ƒåˆ°æ‰€æœ‰çš„ 0 çš„è·ç¦»ï¼Œå†ä»ä¸­å–ä¸€ä¸ªæœ€å°å€¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šéå¸¸é«˜ï¼Œæ— æ³•é€šè¿‡æœ¬é¢˜ã€‚è€Œå¯¹äºç¬¬äºŒç§åšæ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæœ‰æ•ˆåœ°å¤„ç†æœ‰å¤šä¸ª 0 çš„æƒ…å†µã€‚

å¤„ç†çš„æ–¹æ³•å¾ˆç®€å•ï¼šæˆ‘ä»¬åœ¨è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ—¶å€™ä¼šä½¿ç”¨åˆ°é˜Ÿåˆ—ï¼Œåœ¨åªæœ‰ä¸€ä¸ª 0 çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨æœç´¢å‰ä¼šæŠŠè¿™ä¸ª 0 çš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼Œæ‰èƒ½å¼€å§‹è¿›è¡Œæœç´¢ï¼›å¦‚æœæœ‰å¤šä¸ª 0ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè¿™äº› 0 çš„ä½ç½®éƒ½åŠ å…¥é˜Ÿåˆ—å°±è¡Œäº†ã€‚

æˆ‘ä»¬è¿˜æ˜¯ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰ä¸¤ä¸ª 0ï¼š

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220516115543.png)

> æ€»ç»“ä¸‹æœ¬é¢˜çš„ BFS æ€è·¯ï¼šä»¥ 0 ä¸ºèµ·ç‚¹ï¼ˆåˆå§‹åŒ–çš„æ—¶å€™å°†å€¼ä¸º 0 çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­ï¼‰ï¼Œä¾æ¬¡æœç´¢å’Œæ¯å±‚ 1 çš„è·ç¦»ï¼ˆå¾ªç¯å¤„ç†é˜Ÿåˆ—çš„æ—¶å€™è¦å°†å€¼ 1 çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼‰


```java
class Solution {
    public int[][] updateMatrix(int[][] mat) {
        int row = mat.length;
        int col = mat[0].length;
        //  mat ä¸­å¯¹åº”ä½ç½®å…ƒç´ åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»
        int[][] dists = new int[row][col];
        boolean[][] visited = new boolean[row][col];

        Queue<int[]> queue = new LinkedList<>();
        for (int i = 0; i < row; i ++) {
            for (int j = 0; j < col; j ++) {
                // å°†æ‰€æœ‰çš„ 0 æ·»åŠ è¿›åˆå§‹é˜Ÿåˆ—ä¸­
                if (mat[i][j] == 0) {
                    queue.offer(new int[]{i, j});
                    visited[i][j] = true;
                }
            }
        }
		
        // BFS
        // ä»¥å€¼ä¸º 0 çš„èŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹åšå¹¿åº¦ä¼˜å…ˆæœç´¢
        int[][] dirs = {{-1, 0}, {1, 0}, {0, 1}, {0, -1}};
        while (!queue.isEmpty()) {
            int[] cur = queue.poll();
            // å½“å‰æ ¼å­åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»
            int dist = dists[cur[0]][cur[1]];
            // å¤„ç†ç›¸é‚»æ ¼å­
            for (int[] dir : dirs) {
                int i = cur[0] + dir[0]; // æ¨ªåæ ‡
                int j = cur[1] + dir[1]; // çºµåæ ‡

                // å¦‚æœè¿™ä¸ªæ ¼å­æ²¡æœ‰å¤„ç†è¿‡ (æ²¡è¢«å¤„ç†è¿‡çš„æ ¼å­ä¸€å®šæ˜¯å€¼ä¸º 1 çš„)
                if (i >= 0 && i < row && j >= 0 && j < col && !visited[i][j]) {
                    // ä»å½“å‰æ ¼å­ cur èµ°ä¸€æ­¥åˆ°è¾¾è¯¥å€¼ä¸º 1 çš„æ ¼å­ï¼Œé‚£ä¹ˆè¯¥æ ¼å­ç¦»æœ€è¿‘çš„ 0 çš„è·ç¦»æ˜¯ dist + 1
                    dists[i][j] = dist + 1;
                    queue.offer(new int[]{i, j});
                    visited[i][j] = true;
                }
            }
        }

        return dists;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

