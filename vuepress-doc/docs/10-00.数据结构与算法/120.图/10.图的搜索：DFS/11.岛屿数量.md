---
title: å²›å±¿æ•°é‡
date: 2022-04-19 10:53:27
permalink: /pages/36be6b/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [200. å²›å±¿æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/number-of-islands/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220419105553.png)

## ğŸ”” è§£é¢˜æ€è·¯

å’Œä¸Šé“é¢˜ [å‰‘æŒ‡ Offer II 105. å²›å±¿çš„æœ€å¤§é¢ç§¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/ZL6zAn/) æ€è·¯ä¸€æ ·ï¼Œè¿™é‡Œå°±å½“è‡ªæµ‹ä¸‹å§

### DFS

è¿é€šæ€§é—®é¢˜ç”¨ DFS åšæ•ˆç‡æ›´é«˜

```java
class Solution {
    public int numIslands(char[][] grid) {
        if (grid == null || grid[0].length == 0) {
            return 0;
        }

        // å²›å±¿çš„æ•°é‡
        int num = 0;

        boolean[][] visited = new boolean[grid.length][grid[0].length];

        for (int i = 0; i < grid.length; i ++) {
            for (int j = 0; j < grid[0].length; j ++) {
                if (grid[i][j] == '1' && !visited[i][j]) {
                    // dfs grid[row][col] æ‰€åœ¨çš„å²›å±¿ï¼Œæ›´æ–° visited
                    dfs(grid, visited, i, j);
                    // å²›å±¿æ•°é‡ + 1
                    num ++;
                }
            }
        }

        return num;
    }
	
    // dfs grid[row][col] æ‰€åœ¨çš„å²›å±¿ï¼Œæ›´æ–° visited
    private void dfs(char[][] grid, boolean[][] visited, int row, int col) {
        visited[row][col] = true;
		
        int[][] dirs = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};
		
        // dfs grid[row][col] çš„ç›¸é‚»é™†åœ°èŠ‚ç‚¹
        for (int[] dir : dirs) {
            int i = row + dir[0];
            int j = col + dir[1];

            if (i >= 0 && i < grid.length && j >= 0 && j < grid[0].length && 
            !visited[i][j] && grid[i][j] == '1') {
                dfs(grid, visited, i, j);
            }
        }
    }
}
```



### BFS


```java
class Solution {
    public int numIslands(char[][] grid) {
        int rows = grid.length;
        int cols = grid[0].length;

        // æ ‡è¯†æ¯ä¸ªæ ¼å­æ˜¯å¦è¢«è®¿é—®è¿‡
        boolean[][] visited = new boolean[rows][cols];

        // å²›å±¿çš„æ•°é‡
        int count = 0;

        for (int i = 0; i < rows; i ++) {
            for (int j = 0; j < cols; j ++) {
                // å¦‚æœé‡åˆ°ä¸€ä¸ªå€¼ä¸º 1 çš„æ ¼å­å¹¶ä¸”å®ƒä¸åœ¨ä¹‹å‰å·²çŸ¥çš„å²›å±¿ä¸Šï¼Œé‚£ä¹ˆå°±åˆ°è¾¾äº†ä¸€ä¸ªæ–°çš„å²›å±¿
                if (grid[i][j] == '1' && !visited[i][j]) {
                    count ++;
                    // æœç´¢è¿™ä¸ªæ–°å²›å±¿
                    bfs(grid, visited, i, j);
                }
            }
        }

        return count;
    }

    // BFS grid[row, col] æ‰€åœ¨å²›å±¿
    private void bfs(char[][] grid, boolean[][] visited, int row, int col) {
        // é˜Ÿåˆ—ä¸­ç”¨æ•°ç»„å­˜å‚¨æ¯ä¸ªæ ¼å­çš„åæ ‡
        Queue<int[]> queue = new LinkedList<>();
        // èµ·å§‹èŠ‚ç‚¹å…¥é˜Ÿ
        queue.offer(new int[]{row, col});
        // è®°å½•å½“å‰èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡
        visited[row][col] = true;

        // ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
        int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};

        while (!queue.isEmpty()) {
            int size = queue.size();
            for (int k = 0; k < size; k ++) {
                // ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªèŠ‚ç‚¹
                int[] pos = queue.poll();
                
                // ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šå€¼ä¸º 1 çš„æ ¼å­ä¾æ¬¡å…¥é˜Ÿ
                for (int[] dir : dirs) {
                    int i = pos[0] + dir[0]; // æ¨ªåæ ‡
                    int j = pos[1] + dir[1]; // çºµåæ ‡

                    if (i >= 0 && i < grid.length && j >= 0 && j < grid[0].length && 
                        grid[i][j] == '1' && !visited[i][j]) {
                        queue.offer(new int[]{i, j});
                        visited[i][j] = true;
                    }
                }
            }
        }

    }
}
```

å¯¹äºå±‚åºéå†æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬ä¸éœ€è¦å­˜å‚¨æ¯ä¸€å±‚éå†çš„ç»“æœçš„è¯ï¼Œå…¶å®é‚£ä¸ª `for (int k = 0; k < size; k ++)` å¾ªç¯æ˜¯å¯ä»¥çœç•¥æ‰çš„ï¼Œå¦‚ä¸‹ï¼š

```java
// BFS grid[row, col] æ‰€åœ¨å²›å±¿
private void bfs(char[][] grid, boolean[][] visited, int row, int col) {
    // é˜Ÿåˆ—ä¸­ç”¨æ•°ç»„å­˜å‚¨æ¯ä¸ªæ ¼å­çš„åæ ‡
    Queue<int[]> queue = new LinkedList<>();
    // èµ·å§‹èŠ‚ç‚¹å…¥é˜Ÿ
    queue.offer(new int[]{row, col});
    // è®°å½•å½“å‰èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡
    visited[row][col] = true;

    // ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};

    while (!queue.isEmpty()) {
        int size = queue.size();
        // ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªèŠ‚ç‚¹
        int[] pos = queue.poll();

        // ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šå€¼ä¸º 1 çš„æ ¼å­ä¾æ¬¡å…¥é˜Ÿ
        for (int[] dir : dirs) {
            int i = pos[0] + dir[0]; // æ¨ªåæ ‡
            int j = pos[1] + dir[1]; // çºµåæ ‡

            if (i >= 0 && i < grid.length && j >= 0 && j < grid[0].length && 
                grid[i][j] == '1' && !visited[i][j]) {
                queue.offer(new int[]{i, j});
                visited[i][j] = true;
            }
        }
    }

}
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

