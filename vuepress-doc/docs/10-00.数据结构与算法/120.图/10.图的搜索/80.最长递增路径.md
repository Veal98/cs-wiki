---
title: æœ€é•¿é€’å¢è·¯å¾„
date: 2022-03-21 20:46:42
permalink: /pages/87f6af/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 112. æœ€é•¿é€’å¢è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/fpTFWP/)
- [329. çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/longest-increasing-path-in-a-matrix/)

ç»™å®šä¸€ä¸ª m x n æ•´æ•°çŸ©é˜µ matrix ï¼Œæ‰¾å‡ºå…¶ä¸­ **æœ€é•¿**é€’å¢è·¯å¾„ çš„é•¿åº¦ã€‚

å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä¸èƒ½ åœ¨ å¯¹è§’çº¿ æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ° è¾¹ç•Œå¤–ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ã€‚

ç¤ºä¾‹ 1ï¼š

![img](https://assets.leetcode.com/uploads/2021/01/05/grid1.jpg)

```
è¾“å…¥ï¼šmatrix = [[9,9,4],[6,6,8],[2,1,1]]
è¾“å‡ºï¼š4 
è§£é‡Šï¼šæœ€é•¿é€’å¢è·¯å¾„ä¸º [1, 2, 6, 9]ã€‚
```

ç¤ºä¾‹ 2ï¼š

![img](https://assets.leetcode.com/uploads/2021/01/27/tmp-grid.jpg)

```
è¾“å…¥ï¼šmatrix = [[3,4,5],[3,2,6],[2,2,1]]
è¾“å‡ºï¼š4 
è§£é‡Šï¼šæœ€é•¿é€’å¢è·¯å¾„æ˜¯ [3, 4, 5, 6]ã€‚æ³¨æ„ä¸å…è®¸åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨ã€‚
```

## ğŸ”” è§£é¢˜æ€è·¯

æœ‰å‘æ— ç¯å›¾

![](https://staticcdn1-5.umiwi.com/epms_ebook/2897d244a7177910fc7e4267bf0806ba.jpg?x-oss-process=image/resize,w_1707,m_lfit)

![img](https://staticcdn1-5.umiwi.com/epms_ebook/0b26a741104eeb4e10693c529319d435.jpg?x-oss-process=image/resize,w_1707,m_lfit)

è§£å†³å›¾æœç´¢é€šå¸¸ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢å’Œæ·±åº¦ä¼˜å…ˆæœç´¢è¿™ä¸¤ç§ä¸åŒçš„æ–¹æ³•ã€‚è¿™ä¸ªé—®é¢˜ä¸­çš„è·¯å¾„æ˜¯éå¸¸å…³é”®çš„ä¿¡æ¯ï¼Œè€Œ**æ·±åº¦ä¼˜å…ˆæœç´¢èƒ½å¤Ÿå¾ˆæ–¹ä¾¿åœ°è®°å½•æœç´¢çš„è·¯å¾„ï¼Œå› æ­¤æ·±åº¦ä¼˜å…ˆæœç´¢æ›´é€‚åˆè¿™ä¸ªé—®é¢˜**ã€‚

```java
class Solution {
    public int longestIncreasingPath(int[][] matrix) {
        if (matrix == null || matrix.length == 0) {
            return 0;
        }

        // å­˜å‚¨ä» matrix[i][j] å‡ºå‘çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦
        int[][] lengths = new int[matrix.length][matrix[0].length];

        // å­˜å‚¨æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦
        int res = 0;

        for (int i = 0; i < matrix.length; i ++) {
            for (int j = 0; j < matrix[0].length; j ++) {
                int length = dfs(matrix, lengths, i, j);
                res = Math.max(res, length);
            }
        }

        return res;
    }

    // è¿”å›ä» matrix[row][col] å‡ºå‘çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦
    private int dfs(int[][] matrix, int[][] lengths, int row, int col) {
        // å¦‚æœ lengths[i][j] > 0ï¼Œå°±è¯´æ˜ä¹‹å‰å·²ç»è®¡ç®—è¿‡ä» matrix[row][col] å‡ºå‘çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ï¼Œç›´æ¥è¿”å›
        if (lengths[row][col] > 0) {
            return lengths[row][col];
        }
        
        // å­˜å‚¨ä» matrix[row][col] å‡ºå‘çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ï¼Œæœ€å°‘ä¸º 1
        int length = 1;
        
        // éå† matrix[row][col] çš„ç›¸é‚»èŠ‚ç‚¹
        int[][] dirs = {{-1, 0}, {1, 0}, {0, 1}, {0, -1}};
        for (int[] dir : dirs) {
            int i = row + dir[0]; // æ¨ªåæ ‡
            int j = col + dir[1]; // çºµåæ ‡

            if (i >= 0 && i < matrix.length && j >= 0 && j < matrix[0].length && matrix[i][j] > matrix[row][col]) {
                // ä» matrix[i][j] å‡ºå‘çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦
                int path = dfs(matrix, lengths, i, j);
                // ä» matrix[row][col] å‡ºå‘çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ = ä» matrix[i][j] å‡ºå‘çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ + 1
                length = Math.max(path + 1, length);
            }
        }

        // æ›´æ–° lengths æ•°ç»„
        lengths[row][col] = length;

        return length;
    }
}
```



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

