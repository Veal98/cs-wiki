---
title: æ—¥ç¨‹è¡¨
date: 2022-04-27 09:53:27
permalink: /pages/e64d29/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 058. æ—¥ç¨‹è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/fi9suh/)
- [729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/my-calendar-i/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220427095402.png)

## ğŸ”” è§£é¢˜æ€è·¯

### æš´åŠ›æ³•

æˆ‘ä»¬å°†ç»´æŠ¤ä¸€ä¸ªæ—¥ç¨‹å®‰æ’åˆ—è¡¨ï¼ˆä¸ä¸€å®šè¦æ’åºï¼‰ã€‚å½“ä¸”ä»…å½“å…¶ä¸­ä¸€ä¸ªæ—¥ç¨‹å®‰æ’åœ¨å¦ä¸€ä¸ªæ—¥ç¨‹å®‰æ’ç»“æŸåå¼€å§‹æ—¶ï¼Œä¸¤ä¸ªæ—¥ç¨‹å®‰æ’ [s1ï¼Œe1) å’Œ [s2ï¼Œe2) ä¸å†²çªï¼še1<=s2 æˆ– e2<=s1ã€‚è¿™æ„å‘³ç€å½“ s1 < e2 å’Œ s2 < e1 æ—¶ï¼Œæ—¥ç¨‹å®‰æ’å‘ç”Ÿå†²çªã€‚

```java
class MyCalendar {
    private List<int[]> list;

    public MyCalendar() {
        list = new ArrayList<>();
    }
    
    public boolean book(int start, int end) {
        for (int[] item : list) {
            if (item[0] < end && item[1] > start) {
                return false;
            }
        }

        list.add(new int[]{start, end});

        return true;
    }
}

/**
 * Your MyCalendar object will be instantiated and called as such:
 * MyCalendar obj = new MyCalendar();
 * boolean param_1 = obj.book(start,end);
 */
```

- ç©ºé—´å¤æ‚åº¦ï¼šO(N)
- æ—¶é—´å¤æ‚åº¦ï¼š`book` çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)

### å¹³è¡¡äºŒå‰æ ‘

å¦‚æœå¾…æ·»åŠ çš„äº‹é¡¹å ç”¨çš„æ—¶é—´åŒºé—´æ˜¯[startï¼Œendï¼‰ï¼Œå°±éœ€è¦æ‰¾å‡ºå¼€å§‹æ—¶é—´å°äº start çš„æ‰€æœ‰äº‹é¡¹ä¸­å¼€å§‹æœ€æ™šçš„ä¸€ä¸ªï¼Œä»¥åŠå¼€å§‹æ—¶é—´å¤§äº start çš„æ‰€æœ‰äº‹é¡¹ä¸­å¼€å§‹æœ€æ—©çš„ä¸€ä¸ªã€‚

å¦‚æœå¾…æ·»åŠ çš„äº‹é¡¹å’Œè¿™ä¸¤ä¸ªäº‹é¡¹éƒ½æ²¡æœ‰é‡å ï¼Œé‚£ä¹ˆè¯¥äº‹é¡¹å¯ä»¥æ·»åŠ åœ¨æ—¥ç¨‹è¡¨ä¸­ã€‚

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220427102049.png)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220427102238.png)


```java
class MyCalendar {
    private TreeMap<Integer, Integer> treeMap;

    public MyCalendar() {
        treeMap = new TreeMap<>();
    }
    
    public boolean book(int start, int end) {
        // å¼€å§‹æ—¶é—´å°äºç­‰äº start çš„æ‰€æœ‰äº‹é¡¹ä¸­å¼€å§‹æœ€æ™šçš„ä¸€ä¸ªäº‹é¡¹
        Map.Entry<Integer, Integer> entry = treeMap.floorEntry(start);
        if (entry != null && entry.getValue() > start) {
            return false;
        }

        // å¼€å§‹æ—¶é—´å¤§äº start çš„æ‰€æœ‰äº‹é¡¹ä¸­å¼€å§‹æœ€æ—©çš„ä¸€ä¸ª
        entry = treeMap.ceilingEntry(start);
        if (entry != null && entry.getKey() < end) {
            return false;
        }

        treeMap.put(start, end);

        return true;
    }
}

/**
 * Your MyCalendar object will be instantiated and called as such:
 * MyCalendar obj = new MyCalendar();
 * boolean param_1 = obj.book(start,end);
 */
```

- ç©ºé—´å¤æ‚åº¦ï¼šO(N)
- æ—¶é—´å¤æ‚åº¦ï¼š`book` çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(LogN)

