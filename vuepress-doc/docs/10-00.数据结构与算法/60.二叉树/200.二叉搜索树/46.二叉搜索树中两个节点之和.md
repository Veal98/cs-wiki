---
title: äºŒå‰æœç´¢æ ‘ä¸­ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹å’Œ
date: 2022-04-26 11:39:24
permalink: /pages/e1d8ae/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 056. äºŒå‰æœç´¢æ ‘ä¸­ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/opLdQZ/)
- [653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/two-sum-iv-input-is-a-bst/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220426114025.png)

æ³¨æ„ï¼šé¢˜ç›®å‡è®¾äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„å€¼å‡å”¯ä¸€

## ğŸ”” è§£é¢˜æ€è·¯

### å“ˆå¸Œè¡¨

æ²¡å•¥éš¾åº¦ï¼Œç›´æ¥éå† + å“ˆå¸Œè¡¨å°±è¡Œäº†


```java
class Solution {
    public boolean findTarget(TreeNode root, int k) {
        if (root == null) {
            return false;
        }
        
        // å“ˆå¸Œè¡¨
        Set<Integer> set = new HashSet<>();
        // è¾…åŠ©æ ˆ
        Stack<TreeNode> stack = new Stack<>();
        // å·¥ä½œæŒ‡é’ˆ
        TreeNode cur = root;

        while (!stack.isEmpty() || cur != null) {
            while (cur != null) {
                stack.push(cur);
                cur = cur.left;
            }

            cur = stack.pop();
            if (set.contains(k - cur.val)) {
                return true;
            }
            set.add(cur.val);
            cur = cur.right;
        }

        return false;
    }
}
```

è‹¥äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°ä¸º Nï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ O(N)ï¼Œç©ºé—´å¤æ‚åº¦ O(N)ã€å“ˆå¸Œè¡¨çš„æ—¶é—´å¤æ‚åº¦ O(N), æ ˆçš„æ—¶é—´å¤æ‚åº¦ O(LogN)ï¼Œæ‰€ä»¥æ€»çš„æ˜¯ O(N)ã€‘

### åŒæŒ‡é’ˆ

> è¿™ä¸ªåšæ³•æœ‰ç‚¹æ„æ€å‘€

æŒ‰ç…§ä¸­åºéå†çš„é¡ºåºéå†äºŒå‰æœç´¢æ ‘å°†å¾—åˆ°ä¸€ä¸ªé€’å¢çš„åºåˆ—ï¼Œå…¶å®å¾ˆå®¹æ˜“æƒ³åˆ°ç”¨åŒæŒ‡é’ˆåšï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªé¢˜ç›®ï¼Œè¿™ä¿©æŒ‡é’ˆåˆ°åº•è¯¥å¦‚ä½•å®šä¹‰å‘¢ï¼Ÿ

å‚è€ƒä¸Šé¢˜ [å‰‘æŒ‡ Offer II 055. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/kTOapQ/)ï¼Œè¿™é‡Œé¢çš„ next() å‡½æ•°å…¶å®å°±æ˜¯æ±‚çš„ä¸­åºéå†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·ï¼Œå€¼æ˜¯è¶Šæ¥è¶Šå¤§çš„ï¼Œå¯ä»¥å……å½“å·¦æŒ‡é’ˆ

æˆ‘ä»¬å¯ä»¥ç±»ä¼¼å†å†™ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ±‚å‡º**é€†ä¸­åºéå†**çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·ï¼Œå€¼æ˜¯è¶Šæ¥è¶Šå°çš„ï¼Œå¯ä»¥å……å½“å³æŒ‡é’ˆ

```java
class Solution {
    public boolean findTarget(TreeNode root, int k) {
        if (root == null) {
            return false;
        }

        BSTIterator nextIterator = new BSTIterator(root);
        BSTPrevIterator prevIterator = new BSTPrevIterator(root);

        int left = nextIterator.next();
        int right = prevIterator.next();

        // é¢˜ç›®å‡è®¾äºŒå‰æ ‘ä¸­èŠ‚ç‚¹å€¼å‡å”¯ä¸€ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ç”¨è¿™ä¸ªåˆ¤æ–­ä½œä¸ºç»“æŸæ¡ä»¶
        while (left != right) {
            if (left + right == k) {
                return true;
            }
            else if (left + right < k) {
                // å·¦æŒ‡é’ˆå³ç§»
                left = nextIterator.next();
            }
            else {
                // å³æŒ‡é’ˆå·¦ç§»
                right = prevIterator.next();
            }
        }

        return false;
    }

    // ä¸­åºéå†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè¶Šæ¥è¶Šå¤§ï¼Œå……å½“å·¦æŒ‡é’ˆï¼‰
    public class BSTIterator {
        TreeNode cur;
        Stack<TreeNode> stack;

        public BSTIterator(TreeNode root) {
            cur = root;
            stack = new Stack<>();
        }
        
        public int next() {
            while (cur != null) {
                stack.push(cur);
                cur = cur.left;
            }

            cur = stack.pop();
            int res = cur.val;
            cur = cur.right;

            return res;
        }
    }

    // é€†ä¸­åºéå†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè¶Šæ¥è¶Šå°ï¼Œå……å½“å³æŒ‡é’ˆï¼‰
    public class BSTPrevIterator {
        TreeNode cur;
        Stack<TreeNode> stack;

        public BSTPrevIterator(TreeNode root) {
            cur = root;
            stack = new Stack<>();
        }
        
        public int next() {
            while (cur != null) {
                stack.push(cur);
                cur = cur.right;
            }

            cur = stack.pop();
            int res = cur.val;
            cur = cur.left;

            return res;
        }
    }
}
```

è‹¥äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°ä¸º Nï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ O(N)ã€ä¸¤ä¸ªè¿­ä»£å™¨ä¸€èµ·ä½¿ç”¨å¯èƒ½éœ€è¦éå†æ•´ä¸ªäºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‘ï¼Œç©ºé—´å¤æ‚åº¦ O(LogN)ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘çš„æ·±åº¦è¿œå°äºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œç›¸æ¯”äºæ–¹æ³•ä¸€è¦èŠ‚çœä¸å°‘ç©ºé—´ï¼Œ

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

