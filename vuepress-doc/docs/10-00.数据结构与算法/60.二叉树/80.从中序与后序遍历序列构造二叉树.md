---
title: ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘
date: 2021-11-21 15:10:26
permalink: /pages/5b5650/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/)

æ ¹æ®ä¸€æ£µæ ‘çš„ä¸­åºéå†ä¸ååºéå†æ„é€ äºŒå‰æ ‘ã€‚

æ³¨æ„:ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚

ä¾‹å¦‚ï¼Œç»™å‡º

- ä¸­åºéå† inorder = [9,3,15,20,7]
- ååºéå† postorder = [9,15,7,20,3]

è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š

```
    3
   / \
  9  20
    /  \
   15   7
```

## ğŸ”” è§£é¢˜æ€è·¯

ä¸­åºéå†ï¼šå·¦æ ¹å³ï¼Œååºéå†ï¼šå·¦å³æ ¹

æ ¹æ®ååºéå†çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°æ ¹èŠ‚ç‚¹çš„ä½ç½®ï¼Œç„¶åå°±å¯ä»¥åˆ’åˆ†å·¦å³å­æ ‘äº†

![](https://assets.leetcode-cn.com/solution-static/106/6.png)

éœ€è¦æ³¨æ„çš„ç»†èŠ‚å°±æ˜¯ä¸‹æ ‡çš„é€‰å–è¦æ§åˆ¶å¥½ï¼Œå·¦é—­å³å¼€è¿˜æ˜¯å·¦å¼€å³é—­è¿˜æ˜¯å·¦é—­å³é—­ï¼Ÿè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯å·¦é—­å³å¼€


```java
class Solution {
    public TreeNode buildTree(int[] inorder, int[] postorder) {
        return buildTree1(inorder, 0, inorder.length,
                          postorder, 0, postorder.length);
    }

    /**
     * @param inorder (å·¦é—­å³å¼€)
     * @param inLeft inorder æ•°ç»„çš„èµ·å§‹ä¸‹æ ‡
     * @param inRight inorder æ•°ç»„çš„ç»ˆæ­¢ä¸‹æ ‡
     * @param postorder (å·¦é—­å³å¼€)
     * @param postLeft postorder æ•°ç»„çš„èµ·å§‹ä¸‹æ ‡
     * @param postRight postorder æ•°ç»„çš„ç»ˆæ­¢ä¸‹æ ‡
     * @return
     */
    private TreeNode buildTree1(int[] inorder, int inLeft, int inRight,
                                int[] postorder, int postLeft, int postRight) {
        // åªæœ‰ä¸€ä¸ªå…ƒç´ 
        if (inLeft + 1 == inRight) {
            return new TreeNode(inorder[inLeft]);
        }
        // æ²¡æœ‰å…ƒç´ 
        if (inLeft + 1 > inRight) {
            return null;
        }

        // ååºæ•°ç»„çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹
        TreeNode root = new TreeNode(postorder[postRight - 1]);
        // åœ¨ä¸­åºæ•°ç»„ä¸­æ‰¾åˆ°æ ¹èŠ‚ç‚¹çš„ä½ç½®
        int index = inLeft;
        for (; index < inRight; index ++) {
            if (inorder[index] == root.val) {
                break;
            }
        }

        // æ„å»ºå·¦å­æ ‘
        root.left = buildTree1(inorder, inLeft, index,
                               postorder, postLeft, postLeft + (index - inLeft));
        // æ„å»ºå³å­æ ‘
        root.right = buildTree1(inorder, index + 1, inRight,
                                postorder, postLeft + (index - inLeft), postRight - 1);

        return root;

    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211121153259.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(LogN)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N)

