---
title: ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„æ•°å­—ä¹‹å’Œ
date: 2022-04-21 16:56:56
permalink: /pages/9124c0/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 049. ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„æ•°å­—ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/3Etpl5/)
- [129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/sum-root-to-leaf-numbers/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220421165729.png)

## ğŸ”” è§£é¢˜æ€è·¯

### é€’å½’

å½“éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå…ˆç´¯åŠ ä»æ ¹èŠ‚ç‚¹å¼€å§‹çš„è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å€¼ä¹‹å’Œï¼Œå†è®¡ç®—åˆ°å®ƒçš„å·¦å³å­èŠ‚ç‚¹çš„è·¯å¾„çš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚


```java
class Solution {
    public int sumNumbers(TreeNode root) {
        return dfs(root, 0);
    }

    private int dfs(TreeNode root, int pathSum) {
        if (root == null) {
            return 0;
        }
		
        // 1. å…ˆç´¯åŠ ä»æ ¹èŠ‚ç‚¹å¼€å§‹çš„è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å€¼ä¹‹å’Œ
        pathSum = pathSum * 10 + root.val;

        // åªæœ‰é‡åˆ°å¶èŠ‚ç‚¹æ‰è¿”å›è·¯å¾„å’Œ
        if (root.left == null && root.right == null) {
            return pathSum;
        }
		
        // 2. å†è®¡ç®—åˆ°å®ƒçš„å·¦å³å­èŠ‚ç‚¹çš„è·¯å¾„çš„èŠ‚ç‚¹å€¼ä¹‹å’Œ
        return dfs(root.left, pathSum) + dfs(root.right, pathSum);

    }
}
```

### å›æº¯

å’Œä¸Šä¸€é¢˜ [257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/binary-tree-paths/) å·®ä¸å¤šï¼Œè®°å½•ä¸‹æ¯æ¡è·¯å¾„ï¼Œç„¶ååŠ ä¸€ä¸‹è·¯å¾„å’Œå°±è¡Œäº†

```java
class Solution {
    public int sumNumbers(TreeNode root) {
        // å­˜å‚¨æ‰€æœ‰è·¯å¾„ æ¯”å¦‚ï¼Œ[â€œ12â€ï¼Œâ€œ13â€]
        List<String> paths = new ArrayList<>();
        
        // å­˜å‚¨æ¯æ¡è·¯å¾„
        StringBuilder track = new StringBuilder();
        // æ ¹èŠ‚ç‚¹åŠ å…¥æ¯æ¡è·¯å¾„
        track.append(root.val);
        
        backtrack(root, track, paths);
    
        int res = 0;
        for (String path : paths) {
            res += Integer.parseInt(path);
        }

        return res;
    }

    private void backtrack(TreeNode root, StringBuilder track, List<String> paths) {
        // ç»“æŸæ¡ä»¶
        if (root.left == null && root.right == null) {
            paths.add(track.toString());
            return ;
        }

        if (root.left != null) {
            // åšé€‰æ‹©
            track.append(root.left.val);
            // å›æº¯
            backtrack(root.left, track, paths);
            // æ’¤é”€é€‰æ‹©
            track.deleteCharAt(track.length() - 1);
        }

        if (root.right != null) {
            track.append(root.right.val);
            backtrack(root.right, track, paths);
            track.deleteCharAt(track.length() - 1);
        }
    }
}
```

å½“ç„¶äº†ï¼Œå’Œä¸Šä¸€é¢˜ä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥å°†åšé€‰æ‹©çš„è¿‡ç¨‹æå‰ï¼š

```java
class Solution {
    public int sumNumbers(TreeNode root) {
        // å­˜å‚¨æ‰€æœ‰è·¯å¾„ æ¯”å¦‚ï¼Œâ€œ12â€ï¼Œâ€œ13â€
        List<String> paths = new ArrayList<>();
        
        // å­˜å‚¨æ¯æ¡è·¯å¾„
        StringBuilder track = new StringBuilder();
        
        backtrack(root, track, paths);
    
        int res = 0;
        for (String path : paths) {
            res += Integer.parseInt(path);
        }

        return res;
    }

    private void backtrack(TreeNode root, StringBuilder track, List<String> paths) {
        // 1. å½“å‰å±‚(åšé€‰æ‹©çš„è¿‡ç¨‹æå‰)
        track.append(root.val);
        
        // ç»“æŸæ¡ä»¶
        if (root.left == null && root.right == null) {
            paths.add(track.toString());
            return ;
        }

        // 2. è¿›å…¥ä¸‹ä¸€å±‚
        if (root.left != null) {
            backtrack(root.left, track, paths);
            // 3. å›æº¯
            track.deleteCharAt(track.length() - 1);
        }
        if (root.right != null) {
            backtrack(root.right, track, paths);
            track.deleteCharAt(track.length() - 1);
        }

    }
}
```



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

