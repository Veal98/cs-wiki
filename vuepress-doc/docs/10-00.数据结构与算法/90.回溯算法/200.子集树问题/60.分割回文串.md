---
title: åˆ†å‰²å›æ–‡ä¸²
date: 2021-12-15 22:12:58
permalink: /pages/4a8a40/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 086. åˆ†å‰²å›æ–‡å­å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/M99OJA/)
- [131. åˆ†å‰²å›æ–‡ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/palindrome-partitioning/)

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè¯·ä½ å°† s åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯ å›æ–‡ä¸²ã€‚è¿”å› s æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚

å›æ–‡ä¸² æ˜¯æ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š[["a","a","b"],["aa","b"]]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šs = "a"
è¾“å‡ºï¼š[["a"]]
```

## ğŸ”” è§£é¢˜æ€è·¯

æœ€æš´åŠ›çš„æ€è·¯ï¼ŒåŒå±‚å¾ªç¯ï¼Œä¾æ¬¡é€‰å–å­ä¸²ï¼Œæ¯æ·»åŠ ä¸€ä¸ªå­—ç¬¦å°±åˆ¤æ–­ä¸€æ¬¡æ˜¯å¦æ˜¯å›æ–‡ä¸²

äº‹å®ä¸Šï¼Œè¿™é“é¢˜å…¶å®å°±æ˜¯ä¸€é“ç»„åˆé¢˜

å›æƒ³ä¸‹ç»„åˆé¢˜çš„å¥—è·¯ï¼š

- å¯¹äºå­—ç¬¦ä¸² abcdeï¼šé€‰å–ä¸€ä¸ª a ä¹‹åï¼Œåœ¨ bcde ä¸­å†å»é€‰å–ç¬¬äºŒä¸ªï¼Œé€‰å– b ä¹‹ååœ¨ cde ä¸­åœ¨é€‰ç¬¬ä¸‰ä¸ª.....

è€Œè¿™åˆ°åˆ‡å‰²é—®é¢˜ï¼š

- å¯¹äºå­—ç¬¦ä¸² abcdeï¼šåˆ‡å‰²ä¸€ä¸ª a ä½œä¸ºå›æ–‡ä¸²åï¼Œåœ¨ bcde ä¸­å†å»åˆ‡å‰²ç¬¬äºŒæ®µï¼Œåˆ‡å‰² b ä½œä¸ºå›æ–‡ä¸²ä¹‹ååœ¨ cdef ä¸­ç»§ç»­åˆ‡å‰²ç¬¬ä¸‰æ®µ.....

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215223828.png)


```java
class Solution {
    private List<String[]> res = new ArrayList<>();

    public String[][] partition(String s) {
        List<String> track = new ArrayList<>();
        // æ ‡å¿—ä½ï¼Œä»å“ªä¸ªä¸‹æ ‡å¼€å§‹åˆ‡å‰²
        int start = 0;
        backtrack(s, track, start);
        return res.toArray(new String[res.size()][]);
    }

    private void backtrack(String s, List<String> track, int start) {
        // å¦‚æœèµ·å§‹ä½ç½®å·²ç»èµ°åˆ° s.length()ï¼Œè¯´æ˜å·²ç»æ‰¾åˆ°äº†ä¸€ç»„åˆ†å‰²æ–¹æ¡ˆäº†
        if (start == s.length()) {
            res.add(track.toArray(new String[track.size()]));
            return;
        }

        // éå†é€‰æ‹©åˆ—è¡¨
        for (int i = start; i < s.length(); i ++) {
            // 1. å‰ªæ(ä¸æ˜¯å›æ–‡ä¸²)
            if (!isPalindrome(s, start, i)) {
                continue;
            }

            // 2. åšé€‰æ‹©, è·å–å›æ–‡å­ä¸² s[start,i]
            // substing å·¦é—­å³å¼€
            track.add(s.substring(start, i + 1));
            // 3. è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘ (åœ¨å‰©ä¸‹çš„å­ä¸²ä¸­ç»§ç»­åˆ‡å‰²)
            backtrack(s, track, i + 1);
            // 4. å›æº¯
            track.remove(track.size() - 1);
        }
    }

    // åˆ¤æ–­ s[left, right] æ˜¯å¦å›æ–‡
    private boolean isPalindrome(String s, int left, int right) {
        if (left > right) {
            return false;
        }
        if (left == right) {
            return true;
        }

        while (left < right) {
            if (s.charAt(left) != s.charAt(right)) {
                // ä¸æ˜¯å›æ–‡ä¸²
                return false;
            }

            left ++;
            right --;
        }

        return true;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211215223008.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š*O*(*n*)ã€‚æˆ‘ä»¬åˆ†åˆ«éœ€è¦ O(n) çš„ç©ºé—´å­˜å‚¨ resã€trackã€ä»¥åŠé€’å½’éœ€è¦çš„æ ˆ
- æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸€ä¸ªèŠ‚ç‚¹æœ‰ 2 ä¸ªé€‰æ‹©ï¼Œåˆ‡å‰²è¿˜æ˜¯ä¸åˆ‡å‰²ï¼Œä¸€å…± n ä¸ªèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ $O(2^n)$ï¼Œå¦å¤–ï¼Œå›æ–‡ä¸²çš„åˆ¤æ–­æ—¶é—´å¤æ‚åº¦ O(n) ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n * 2^n)$

