---
title: ä¸¤æ•°ä¹‹å’Œ
date: 2021-12-20 22:46:47
permalink: /pages/bba3d1/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[491. é€’å¢å­åºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/increasing-subsequences/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºå¹¶è¿”å›æ‰€æœ‰è¯¥æ•°ç»„ä¸­ä¸åŒçš„é€’å¢å­åºåˆ—ï¼Œ**é€’å¢å­åºåˆ—ä¸­ è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ ** ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚

**æ•°ç»„ä¸­å¯èƒ½å«æœ‰é‡å¤å…ƒç´ **ï¼Œ**å¦‚å‡ºç°ä¸¤ä¸ªæ•´æ•°ç›¸ç­‰ï¼Œä¹Ÿå¯ä»¥è§†ä½œé€’å¢åºåˆ—çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µ**ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [4,6,7,7]
è¾“å‡ºï¼š[[4,6],[4,6,7],[4,6,7,7],[4,7],[4,7,7],[6,7],[6,7,7],[7,7]]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [4,4,3,2,1]
è¾“å‡ºï¼š[[4,4]]
```

## ğŸ”” è§£é¢˜æ€è·¯

æ³¨æ„è¿™é¢˜æ˜¯ä¸èƒ½å¯¹æ•°ç»„è¿›è¡Œæ’åºæˆ–è€…å…¶ä»–é‡ç»„æ“ä½œçš„ï¼Œå› ä¸ºæœ€ç»ˆç»“æœä¾èµ–äºæ•°ç»„çš„åŸå§‹é¡ºåºã€‚

é‚£ä¹ˆè¿™é“é¢˜è¯¥å¦‚ä½•è¿›è¡Œå»é‡æ“ä½œå‘¢ï¼Ÿ

ç”±äºé¡ºåºè¢«å›ºå®šæ­»äº†ï¼Œä¸åŒäºä¹‹å‰ä½¿ç”¨æ•°ç»„ used æ¥å­˜å‚¨å¯¹åº”å…ƒç´ æ˜¯å¦ä½¿ç”¨è¿‡ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥**ç”¨ set æ¥æ ‡è®°æŸå±‚è§£ç©ºé—´æ ‘çš„å…ƒç´ æ˜¯å¦è¢«ä½¿ç”¨è¿‡**

ä¸¾ä¸ªä¾‹å­ï¼Œ[4,6,7,7]

å‡è®¾ç›®å‰éå†åˆ° 4ï¼Œ4 çš„ç¬¬ä¸€å±‚é€‰æ‹©åˆ—è¡¨æœ‰ä¸‰ä¸ªï¼š

- é€‰æ‹© 6ï¼Œå­˜å…¥ set
- é€‰æ‹©ç¬¬ä¸€ä¸ª 7ï¼Œå­˜å…¥ set
- é€‰æ‹©ç¬¬äºŒä¸ª 7ï¼Œå‘ç° set ä¸­å·²ç»å­˜åœ¨è¿™ä¸ªæ•°ï¼Œcontinue

ç„¶åå¥—æˆ‘ä»¬ä¹‹å‰åœ¨ [78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/subsets/) ä¸­æ€»ç»“çš„å­é›†é—®é¢˜æ¨¡æ¿å°± ok äº†ï¼š

```java
result = []
def backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, æ ‡å¿—ä½):
    result.add(è·¯å¾„)

    for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
        æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰
        åšé€‰æ‹©
        è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘ backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, æ ‡å¿—ä½ + 1 ç­‰ éšæœºåº”å˜)
        æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
```

ä»£ç å¦‚ä¸‹ï¼š


```java
class Solution {
    private List<List<Integer>> res = new ArrayList<>();

    public List<List<Integer>> findSubsequences(int[] nums) {
        if (nums == null || nums.length == 0) {
            return res;
        }

        List<Integer> track = new ArrayList<>();
        // æ ‡è®°ä½ï¼šä»å“ªä¸ªä½ç½®å¼€å§‹é€‰å–
        int start = 0;
        backtrack(nums, start, track);
        return res;
    }

    private void backtrack(int[] nums, int start, List<Integer> track) {
        if (track.size() >= 2) {
            res.add(new ArrayList<>(track));
        }

        // å­˜å‚¨æœ¬å±‚è§£ç©ºé—´æ ‘ä¸­ä½¿ç”¨è¿‡çš„å…ƒç´ 
        Set<Integer> set = new HashSet<>();

        // éå†é€‰æ‹©åˆ—è¡¨
        for (int i = start; i < nums.length; i ++) {
            // å‰ªæ
            if (!track.isEmpty() && nums[i] < track.get(track.size() - 1) || set.contains(nums[i])) {
                continue;
            }
            // åšé€‰æ‹©
            track.add(nums[i]);
            set.add(nums[i]);
            // è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘
            backtrack(nums, i + 1, track);
            // å›æº¯
            track.remove(track.size() - 1);
        }
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211220232502.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)
- æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸ªå…ƒç´ æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€å…± n ä¸ªå…ƒç´ (ä¹Ÿå°±æ˜¯é€’å½’çš„æœ€å¤§å±‚æ•°ï¼Œå½“ç„¶äº†ï¼Œ**ç”±äºå‰ªæçš„å­˜åœ¨ï¼Œå®é™…ä¸Šå¯èƒ½å¹¶ä¸ä¼šé€’å½’åˆ°è¿™ä¹ˆå¤šå±‚**)ï¼Œæ—¶é—´å¤æ‚åº¦ $O(2^n)$ï¼Œå°† track åŠ å…¥ res éœ€è¦æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ $O(n * 2^n)$

