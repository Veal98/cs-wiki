---
title: Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨
date: 2022-03-20 11:53:59
permalink: /pages/06c0a1/
---
# LeetCode 25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨

---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/reverse-nodes-in-k-group/)

ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚

k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚

å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ k çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚

<img src="https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210317174628.png" style="zoom:67%;" />

## ğŸ”” è§£é¢˜æ€è·¯

è¿™é¢˜ä¹ä¸€çœ‹å¥½åƒå°±æ˜¯ [24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/swap-nodes-in-pairs/) çš„å‡çº§ç‰ˆï¼Œä½†æ˜¯ä½ è¦è¿˜æ˜¯ç”¨è¿­ä»£æ³•ï¼Œé‚£æŒ‡é’ˆçš„é¡ºåºèƒ½æŠŠä½ æç–¯ã€‚

æ‰€ä»¥æœ€ä½³æ–¹æ¡ˆæ˜¯é€’å½’ï¼Œå› ä¸ºç¿»è½¬ k ä¸ªèŠ‚ç‚¹çš„æ“ä½œæ˜¯ä¸€æ ·çš„ï¼Œä¸åŒç‚¹å°±åœ¨äºï¼Œæ¯ä¸€æ®µçš„èµ·å§‹èŠ‚ç‚¹ä¸åŒç½¢äº†ã€‚æˆ‘ä»¬æŠŠç¿»è½¬ k ä¸ªèŠ‚ç‚¹çš„æ–¹æ³•æå–å‡ºæ¥ï¼Œç„¶åä¸æ–­åœ°å»è°ƒç”¨å®ƒï¼Œæ¯è°ƒç”¨å®Œä¸€æ¬¡ï¼Œå°±æ›´æ–°ä¸‹ä¸€æ®µèµ·å§‹èŠ‚ç‚¹ã€‚

ä»¥ä¸‹å›¾ç‰‡é…åˆä»£ç ä½¿ç”¨ï¼Œä¿è¯èƒ½æ‡‚ï¼ï¼ï¼ï¼š

1ï¼‰å…ˆåè½¬å‰ k ä¸ª [head, tail), å¾—åˆ°çš„å¤´èŠ‚ç‚¹å°±æ˜¯æœ€ç»ˆé“¾è¡¨çš„å¤´èŠ‚ç‚¹

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211019180518.png)

2ï¼‰é€’å½’è°ƒç”¨åè½¬åç»­çš„é“¾è¡¨

![image-20211019180559836](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211019180559.png)

> äºŒåˆ·æ„Ÿè¨€ï¼Œç†è§£é€’å½’å‡½æ•°çš„è¿”å›æ„ä¹‰å¾ˆé‡è¦
>
> è¿™é‡Œ reverseKGroup(ListNode head, int k) è¡¨ç¤ºå¯¹ head é“¾è¡¨è¿›è¡Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„çš„ç¿»è½¬ï¼Œè¿”å›ç¿»è½¬åçš„é“¾è¡¨å¤´èŠ‚ç‚¹

```java
class Solution {
    public ListNode reverseKGroup(ListNode head, int k) {
        if (head == null || head.next == null) {
            return head;
        }

        // æ‰¾åˆ°ç¬¬ k + 1 ä¸ªèŠ‚ç‚¹(ä½œä¸ºè¿›å…¥ç¬¬ä¸€æ®µé€’å½’è°ƒç”¨çš„æœ«å°¾èŠ‚ç‚¹)
        ListNode tail = head;
        for (int i = 0; i < k; i ++) {
            if (tail == null) {
                // é“¾è¡¨ä¸ªæ•°ä¸è¶³ k ä¸ª
                return head;
            }
            tail = tail.next;
        }

        // å…ˆåè½¬å‰ k ä¸ª [head, tail), å¾—åˆ°çš„å¤´èŠ‚ç‚¹å°±æ˜¯æœ€ç»ˆé“¾è¡¨çš„å¤´èŠ‚ç‚¹
        ListNode newHead = reverse(head, tail);
        // å¯¹ tail é“¾è¡¨è¿›è¡Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„çš„ç¿»è½¬ï¼Œè¿”å›ç¿»è½¬åçš„é“¾è¡¨å¤´èŠ‚ç‚¹
        head.next = reverseKGroup(tail, k);

        return newHead;
    }

    // åŸåœ°åè½¬ä» head åˆ° tailï¼ˆä¸åŒ…å« tailï¼‰ çš„é“¾è¡¨
    private ListNode reverse(ListNode head, ListNode tail) {
        ListNode cur = head;
        ListNode pre = null;
        // ä¿å­˜ cur = åç»§èŠ‚ç‚¹
        ListNode successor;

        while (cur != tail) {
            successor = cur.next;

            // æ›´æ”¹ next æŒ‡å‘
            cur.next = pre;

            // è¿›å…¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
            pre = cur;
            cur = successor;
        }

        // åè½¬ä¹‹åï¼Œ head ä»æŒ‡å‘åŸæ¥é‚£ä¸ªå…ƒç´ ï¼Œpre æŒ‡å‘æ–°çš„ç¬¬ä¸€ä¸ªå…ƒç´ )
        // è¿”å›åè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹
        return pre;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211019175114.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼šhead æŒ‡é’ˆåŸºæœ¬ä¸Šä¼šä¾æ¬¡éå†åˆ°æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šä¼šæ‰§è¡Œæ—¶é—´å¤æ‚åº¦ä¸º O(1) çš„ç¿»è½¬æ“ä½œ 
