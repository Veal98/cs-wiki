---
title: 0å’Œ1ä¸ªæ•°ç›¸åŒçš„å­æ•°ç»„
date: 2022-04-07 09:30:15
permalink: /pages/07ce0a/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 011. 0 å’Œ 1 ä¸ªæ•°ç›¸åŒçš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/A1NYOS/)
- [525. è¿ç»­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/contiguous-array/)

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ nums , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚

 

ç¤ºä¾‹ 1:

```
è¾“å…¥: nums = [0,1]
è¾“å‡º: 2
è¯´æ˜: [0, 1] æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: nums = [0,1,0]
è¾“å‡º: 2
è¯´æ˜: [0, 1] (æˆ– [1, 0]) æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚
```

## ğŸ”” è§£é¢˜æ€è·¯

### æš´åŠ›

```java
class Solution {
    public int findMaxLength(int[] nums) {
        if (nums == null || nums.length == 0) {
            return 0;
        }

        // å­æ•°ç»„é•¿åº¦
        int maxLen = 0;

        for (int i = 0; i < nums.length; i ++) {
            // count[0]: 0 çš„ä¸ªæ•°ï¼Œcount[1]: 1 çš„ä¸ªæ•°
            int[] count = new int[2];            
            
            for (int j = i; j < nums.length; j ++) {
                if (nums[j] == 0) {
                    count[0] ++;
                }
                else if (nums[j] == 1) {
                    count[1] ++;
                }

                if (count[0] == count[1]) {
                    maxLen = Math.max(maxLen, j - i + 1);
                }
            }
        }

        return maxLen;
    }
}
```

æ—¶é—´å¤æ‚åº¦ O(N^2)ï¼Œä¼šè¶…æ—¶

### å“ˆå¸Œè¡¨

è¦æŠŠè¿™ä¸ªé¢˜ç›®ç¨å¾®å˜æ¢ä¸€ä¸‹å°±èƒ½é‡ç”¨ä¸Šåˆ°é¢˜ [å‰‘æŒ‡ Offer II 010. å’Œä¸º k çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/QTMn0o/) çš„è§£é¢˜æ€è·¯ã€‚

é¦–å…ˆ**æŠŠè¾“å…¥æ•°ç»„ä¸­æ‰€æœ‰çš„ 0 éƒ½æ›¿æ¢æˆ-1**ï¼Œé‚£ä¹ˆé¢˜ç›®å°±å˜æˆæ±‚åŒ…å«ç›¸åŒæ•°ç›®çš„-1å’Œ1çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ã€‚åœ¨ä¸€ä¸ªåªåŒ…å«æ•°å­—1å’Œ-1çš„æ•°ç»„ä¸­ï¼Œå¦‚æœå­æ•°ç»„ä¸­-1å’Œ1çš„æ•°ç›®ç›¸åŒï¼Œé‚£ä¹ˆå­æ•°ç»„çš„æ‰€æœ‰æ•°å­—ä¹‹å’Œå°±æ˜¯0ï¼Œå› æ­¤è¿™ä¸ªé¢˜ç›®å°±å˜æˆ**æ±‚æ•°å­—ä¹‹å’Œä¸º0çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦**ã€‚

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220406105002.png)

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ‡çº¢çš„é‚£æ®µ [j + 1, i]ï¼ˆé•¿åº¦ä¸º `i - j`ï¼‰ï¼Œå°±æ˜¯å’Œä¸º 0 çš„å­æ•°ç»„

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220406104758.png)


```java
class Solution {
    public int findMaxLength(int[] nums) {
        if (nums == null || nums.length == 0) {
            return 0;
        }

        // key: ä»ç¬¬ä¸€ä¸ªæ•°åˆ°å½“å‰æ•°çš„å’Œï¼Œvalueï¼šå½“å‰æ•°çš„ä¸‹æ ‡
        Map<Integer, Integer> map = new HashMap<>();
        // å½“ preSum = 0 çš„æ—¶å€™ï¼ŒpreSum - 0 = 0ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦äº‹å…ˆå¡«å…¥ä¸€ä¸ªï¼ˆ0ï¼Œ-1ï¼‰çš„è®°å½•ï¼Œé˜²æ­¢å¤„ç†ä¸åˆ°è¿™ç§æƒ…å†µ
        map.put(0, -1);

        int preSum = 0;
        // å­æ•°ç»„é•¿åº¦
        int maxLen = 0;

        for (int i = 0; i < nums.length; i ++) {
            preSum += (nums[i] == 0 ? -1 : 1);
            if (map.containsKey(preSum - 0)) {
                maxLen = Math.max(maxLen, i - map.get(preSum - 0));
            }
            // æ›´æ–° map
            else {
                map.put(preSum, i);
            }
        }

        
        return maxLen;
    }
}
```

æ—¶é—´å¤æ‚åº¦ï¼šO(N)

