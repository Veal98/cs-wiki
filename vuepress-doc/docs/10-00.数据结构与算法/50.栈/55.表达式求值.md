## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[BM49 è¡¨è¾¾å¼æ±‚å€¼](https://www.nowcoder.com/practice/c215ba61c8b1443b996351df929dc4d4?tpId=295&tqId=1076787&ru=/exam/oj&qru=/ta/format-top101/question-ranking&sourceUrl=%2Fexam%2Foj)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220918181045015.png)

## ğŸ”” è§£é¢˜æ€è·¯

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220918181130603.png)


```java
import java.util.*;
public class Solution {

    public int solve (String s) {
        // write code here
        char[] chars = s.toCharArray();
        Stack<Integer> stack = new Stack<>();

        int num = 0;
        // op è¡¨ç¤º num å‰çš„ç¬¦å·
        char op = '+';

        for (int i = 0; i < chars.length; i ++) {
            char c = chars[i];
            // æ•´æ•°å¯èƒ½ä¸æ­¢ä¸€ä½
            if (c >= '0' && c <= '9') {
                num = num * 10 + (c - '0');
            }

            // '('
            else if (c == '(') {
                // æ‰¾åˆ°å¯¹åº”çš„ )ï¼Œé‡Œé¢å¯èƒ½åµŒå¥—å¾ˆå¤šä¸ª ()
                int j = i + 1;
                // ( çš„æ•°é‡
                int count = 1;
                while (count > 0 && j < chars.length) {
                    if (chars[j] == '(') {
                        count ++;
                    }
                    if (chars[j] == ')') {
                        count --;
                    }

                    j ++;
                }
                // é€’å½’æ±‚ () å†…çš„è¡¨è¾¾å¼
                num = solve(s.substring(i + 1, j - 1));
                i = j - 1;
            }

            // op
            if (!Character.isDigit(c) || i == chars.length - 1) {
                // å¤„ç†ä¸Šä¸€ä¸ªè¿ç®—ç¬¦
                if (op == '+') {
                    stack.push(num);
                } else if (op == '-') {
                    stack.push(-num);
                } else if (op == '*') {
                    stack.push(num * stack.pop());
                } else if (op == '/') {
                    stack.push(stack.pop() / num);
                }

                // æ›´æ–°å½“å‰è¿ç®—ç¬¦
                op = c;
                num = 0;
            }

        }

        int res = 0;
        while (!stack.isEmpty()) {
            res += stack.pop();
        }

        return res;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

