---
title: ç›‘æ§äºŒå‰æ ‘
date: 2022-03-20 11:53:59
permalink: /pages/ebac2f/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[968. ç›‘æ§äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/binary-tree-cameras/)

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæˆ‘ä»¬åœ¨æ ‘çš„èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ã€‚

**èŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´éƒ½å¯ä»¥ç›‘è§†å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡**ã€‚

è®¡ç®—ç›‘æ§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ‰€éœ€çš„æœ€å°æ‘„åƒå¤´æ•°é‡ã€‚

ç¤ºä¾‹ 1ï¼š

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/29/bst_cameras_01.png)

```
è¾“å…¥ï¼š[0,0,null,0,0]
è¾“å‡ºï¼š1
è§£é‡Šï¼šå¦‚å›¾æ‰€ç¤ºï¼Œä¸€å°æ‘„åƒå¤´è¶³ä»¥ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚
```

ç¤ºä¾‹ 2ï¼š

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/29/bst_cameras_02.png)

```
è¾“å…¥ï¼š[0,0,null,0,null,0,null,null,0]
è¾“å‡ºï¼š2
è§£é‡Šï¼šéœ€è¦è‡³å°‘ä¸¤ä¸ªæ‘„åƒå¤´æ¥ç›‘è§†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº†æ‘„åƒå¤´æ”¾ç½®çš„æœ‰æ•ˆä½ç½®ä¹‹ä¸€ã€‚
```

## ğŸ”” è§£é¢˜æ€è·¯

é‡ç‚¹ï¼šæ‘„åƒå¤´ä¸è¦æ”¾åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œæ‘„åƒå¤´å¯ä»¥è¦†ç›–ä¸Šä¸­ä¸‹ä¸‰å±‚ï¼Œå¦‚æœæŠŠæ‘„åƒå¤´æ”¾åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œå°±æµªè´¹çš„ä¸€å±‚çš„è¦†ç›–ã€‚

â­ æ‰€ä»¥æˆ‘ä»¬è¦**ä»ä¸‹å¾€ä¸Šçœ‹**ï¼ˆååºéå†ï¼‰ï¼š

**å±€éƒ¨æœ€ä¼˜ï¼šè®©å¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å®‰æ‘„åƒå¤´ï¼Œæ‰€ç”¨æ‘„åƒå¤´æœ€å°‘ï¼›æ•´ä½“æœ€ä¼˜ï¼šå…¨éƒ¨æ‘„åƒå¤´æ•°é‡æ‰€ç”¨æœ€å°‘**

æ­¤æ—¶ï¼Œå¤§ä½“æ€è·¯å°±æ˜¯**ä»ä¸‹åˆ°ä¸Šï¼Œå…ˆç»™å¶å­èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹æ”¾ä¸ªæ‘„åƒå¤´ï¼Œç„¶åéš”ä¸€ä¸ªèŠ‚ç‚¹æ”¾ä¸€ä¸ªæ‘„åƒå¤´ï¼Œç›´è‡³åˆ°äºŒå‰æ ‘å¤´ç»“ç‚¹**ã€‚

æ­¤æ—¶è¿™é“é¢˜ç›®è¿˜æœ‰ä¸¤ä¸ªéš¾ç‚¹ï¼š

1. äºŒå‰æ ‘å¦‚ä½•ä»ä¸‹å¾€ä¸Šéå†ï¼Ÿï¼ˆååºéå†ï¼Œå·¦å³æ ¹ï¼‰
2. å¦‚ä½•éš”ä¸€ä¸ªèŠ‚ç‚¹æ”¾ä¸€ä¸ªæ‘„åƒå¤´ï¼Ÿ

æˆ‘ä»¬æ¥åˆ—ä¸¾ä¸‹æ¯ä¸ªèŠ‚ç‚¹å¯èƒ½çš„çŠ¶æ€ï¼š

1. æœ‰æ‘„åƒå¤´

2. æ²¡æœ‰æ‘„åƒå¤´ï¼Œåˆåˆ†ä¸ºï¼š

   2.1 è¢«è¦†ç›–åˆ°

   2.2 æ²¡æœ‰è¢«è¦†ç›–åˆ°

æ‰€ä»¥å®é™…ä¸Šå°±æ˜¯ 3 ä¸ªçŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ 3 ä¸ªæ•°å­—æ¥è¡¨ç¤ºï¼š

ã€0ã€‘ï¼šæ²¡æœ‰è¢«è¦†ç›–åˆ°

ã€1ã€‘ï¼šè¢«è¦†ç›–åˆ°

ã€2ã€‘ï¼šæœ‰æ‘„åƒå¤´

é‚£ä¹ˆçªç ´ç‚¹åœ¨å“ªé‡Œï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ£µæ ‘çš„åˆå§‹å€¼è¯¥æ€ä¹ˆè®¾ç½®ï¼Ÿè¿™äº›çŠ¶æ€çš„åˆ¤æ–­è‚¯å®šå¾—æœ‰ä¸€ä¸ªåˆå§‹å€¼æ‰èƒ½è¿è½¬èµ·æ¥å¯¹å§ã€‚

çªç ´ç‚¹å°±æ˜¯ç©ºèŠ‚ç‚¹ï¼

è€ƒè™‘ä¸‹ç©ºèŠ‚ç‚¹çš„çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿ

- æ²¡æœ‰è¢«è¦†ç›–åˆ°ï¼Ÿé‚£ä¸è¡Œï¼Œä¸€ä¸ªå¶å­èŠ‚ç‚¹å¯¹åº”ä¸¤ä¸ªç©ºèŠ‚ç‚¹ï¼Œè¦æ˜¯ç©ºèŠ‚ç‚¹çš„çŠ¶æ€æ˜¯æ²¡æœ‰è¢«è¦†ç›–åˆ°ï¼Œé‚£å¶å­èŠ‚ç‚¹å°±éœ€è¦æ”¾æ‘„åƒå¤´äº†

- æœ‰æ‘„åƒå¤´ï¼Ÿé‚£ä¸è¡Œï¼Œä¾æ®é¢˜æ„ï¼ŒèŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´å¯ä»¥ç›‘è§†å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡ã€‚ç©ºç»“ç‚¹å¦‚æœæœ‰æ‘„åƒå¤´çš„è¯ï¼Œé‚£ä¹ˆå…¶çˆ¶èŠ‚ç‚¹ä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹çš„çŠ¶æ€å°±æ˜¯è¢«è¦†ç›–åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªå¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å°±ä¸ä¼šåœ¨æ”¾ç½®æ‘„åƒå¤´äº†ï¼Œæ˜¾ç„¶ä¸ç¬¦åˆé€»è¾‘ã€‚

- æ‰€ä»¥ç©ºèŠ‚ç‚¹çš„çŠ¶æ€åªèƒ½æ˜¯è¢«è¦†ç›–åˆ°ï¼Œè¿™æ ·å…¶çˆ¶èŠ‚ç‚¹ä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹å°±ä¸éœ€è¦æ”¾ç½®æ‘„åƒå¤´ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªå¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ”¾ç½®æ‘„åƒå¤´äº†

  ```java
  if (cur == null) {
  	return 1
  }
  ```

  

ç¡®å®šäº†çªç ´å£æ˜¯ç©ºèŠ‚ç‚¹åï¼Œæˆ‘ä»¬å†æ¥å¤„ç†éå¶å­èŠ‚ç‚¹ï¼ˆè®°ä¸º curï¼‰çš„æƒ…å†µï¼š

> æ ¹æ®æˆ‘ä»¬ä»ä¸‹å¾€ä¸Šå¤„ç†çš„ååºéå†çš„é€»è¾‘ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯è¦è®© cur çš„å·¦å³å­©å­éƒ½èƒ½è¢«è¦†ç›–åˆ°ï¼

1. å·¦å³å­©å­éƒ½æœ‰è¦†ç›–ï¼šè¯´æ˜å·¦å³å­©å­çš„å­©å­æœ‰æ‘„åƒå¤´ï¼Œå½“ç„¶è¿™ä¸ªæ‘„åƒå¤´æ²¡æ³•è¦†ç›–åˆ° curï¼Œæ‰€ä»¥ cur åº”è¯¥å°±æ˜¯æ— è¦†ç›–çš„çŠ¶æ€äº†

   ```java
   if (cur.left == 1 && cur.right == 1) {
   	return 0;
   }
   ```

2. å·¦å³å­©å­è‡³å°‘æœ‰ä¸€ä¸ªæ— è¦†ç›–çš„æƒ…å†µï¼šæ­¤æ—¶éœ€è¦åœ¨ cur èŠ‚ç‚¹å¤„æ”¾ç½®æ‘„åƒå¤´

   ```java
   if (cur.left == 0 || cur.right == 0) {
       res ++; // æ‘„åƒå¤´æ•°é‡
       return 2;
   }
   ```

3. å·¦å³èŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªæœ‰æ‘„åƒå¤´ï¼šæ­¤æ—¶ cur èŠ‚ç‚¹è¢«è¦†ç›–

   ```java
   if (cur.left == 2 || cur.right == 2) {
   	return 1;
   }
   ```

   å¦‚æœå·¦èŠ‚ç‚¹æœ‰æ‘„åƒå¤´ã€2ã€‘ï¼Œå³èŠ‚ç‚¹æ²¡æ‘„åƒå¤´å¹¶ä¸”ä¹Ÿæ²¡è¢«è¦†ç›–ã€0ã€‘æ€ä¹ˆåŠå‘¢ï¼Ÿ

   è¿™ç§æƒ…å†µåœ¨ç¬¬ 2 ç‚¹å·²ç»åˆ¤æ–­è¿‡äº†

æ‰€æœ‰æƒ…å†µå¤„ç†å®Œä¹‹åï¼Œæˆ‘ä»¬è¿˜**éœ€è¦åˆ¤æ–­ä¸‹æ ¹èŠ‚ç‚¹æ˜¯å¦è¢«è¦†ç›–**ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™éœ€è¦æ·»åŠ æ‘„åƒå¤´


```java
class Solution {
    // æ‘„åƒå¤´æ•°é‡
    private int res = 0;

    // æ²¡æœ‰è¢«è¦†ç›–åˆ°
    private static int UNCOVERED = 0;
    // è¢«è¦†ç›–åˆ°
    private static int COVERED = 1;
    // æœ‰æ‘„åƒæœº
    private static int CAMERA = 2;

    public int minCameraCover(TreeNode root) {
        if (root == null) {
            return 0;
        }
        // traversal(root) è¿”å›çš„æ˜¯ root èŠ‚ç‚¹çš„çŠ¶æ€
        if (traversal(root) == UNCOVERED) {
            res ++;
        }
        return res;
    }

    // è¿”å› cur èŠ‚ç‚¹çš„çŠ¶æ€
    private int traversal(TreeNode cur) {
        if (cur == null) {
            return COVERED;
        }
        
        int left = traversal(cur.left);
        int right = traversal(cur.right);

        // å·¦å³å­©å­éƒ½è¢«è¦†ç›–
        if (left == COVERED && right == COVERED) {
            return UNCOVERED;
        }

        // å·¦å³å­©å­è‡³å°‘æœ‰ä¸€ä¸ªæ²¡è¢«è¦†ç›–
        if (left == UNCOVERED || right == UNCOVERED) {
            res ++;
            return CAMERA;
        }

        // å·¦å³å­©å­è‡³å°‘æœ‰ä¸€ä¸ªæœ‰æ‘„åƒå¤´
        if (left == CAMERA || right == CAMERA) {
            return COVERED;
        }
        
        // ä¸ä¼šèµ°åˆ°è¿™é‡Œ
        return -1;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220120114326.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(LogN)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N)

