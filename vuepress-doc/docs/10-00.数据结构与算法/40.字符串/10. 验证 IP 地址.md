## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[468. éªŒè¯IPåœ°å€](https://leetcode.cn/problems/validate-ip-address/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220708115448480.png)

## ğŸ”” è§£é¢˜æ€è·¯

æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œè¾¹ç•Œæƒ…å†µï¼ˆcorner caseï¼‰æ¯”è¾ƒå¤š

å¦å¤–ï¼Œæˆ– `|`ï¼Œç‚¹ `.`ï¼ŒåŠ  `+`ï¼Œä¹˜ `*`ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°æ—¶ï¼Œå¦‚æœè¿™ä¸ªå­—ç¬¦ä¸²éœ€è¦è¢« splitï¼Œåˆ™ split æ—¶å€™ï¼Œéœ€è¦åœ¨å‰é¢åŠ ä¸¤ä¸ªåæ–œæ  `\\` è¿›è¡Œè½¬ä¹‰


```java
class Solution {
    private static final String IPV4 = "IPv4";
    private static final String IPv6 = "IPv6";
    private static final String NEITHER = "Neither";

    public String validIPAddress(String queryIP) {
        if (isIpv4(queryIP)) {
            return IPV4;
        }
        else if (isIpv6(queryIP)) {
            return IPv6;
        }

        return NEITHER;
    }

    private boolean isIpv4(String s) {
        if (s == null || s.length() == 0) {
            return false;
        }

        // å¦‚æœæœ€å n ä½éƒ½æ˜¯åˆ‡å‰²ç¬¦ï¼Œsplit(" ")ä¸ä¼šç»§ç»­åˆ‡åˆ†ï¼Œsplit(" ", -1) ä¼šç»§ç»­åˆ‡åˆ†
        // é˜²æ­¢è¯¸å¦‚ 192.168.1.1.. è¿™ç§æƒ…å†µ
        String[] str = s.split("\\.", -1);
        if (str.length != 4) {
            return false;
        }

        for (String item : str) {
            if (item.length() > 3 || item.length() < 1) {
                return false;
            }

            int sum = 0;

            // å‰å¯¼ 0
            if (item.length() > 1 && item.charAt(0) == '0') {
                return false;
            }

            for (char c : item.toCharArray()) {
                if (c > '9' || c < '0') {
                    return false;
                }

                sum = sum * 10 + c - '0';
                if (sum > 255 || sum < 0) {
                    return false;
                }
            }
        }

        return true;
    }

    private boolean isIpv6(String s) {
        if (s == null || s.length() == 0) {
            return false;
        }

        // å¦‚æœæœ€å n ä½éƒ½æ˜¯åˆ‡å‰²ç¬¦ï¼Œsplit(" ")ä¸ä¼šç»§ç»­åˆ‡åˆ†ï¼Œsplit(" ", -1) ä¼šç»§ç»­åˆ‡åˆ†
        String[] str = s.split(":", -1);
        if (str.length != 8) {
            return false;
        }

        for (String item : str) {
            if (item.length() > 4 || item.length() < 1) {
                return false;
            }

            for (char c : item.toCharArray()) {
                if (!((c <= '9' && c >= '0') || (c <= 'F' && c >= 'A') || (c <= 'f' && c >= 'a'))) {
                    return false;
                }
            }
        }

        return true;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

