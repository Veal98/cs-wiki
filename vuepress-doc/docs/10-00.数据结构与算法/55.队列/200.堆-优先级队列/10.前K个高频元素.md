---
title: å‰ K ä¸ªé«˜é¢‘å…ƒç´ 
date: 2021-11-02 10:20:41
permalink: /pages/985c4b/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [347. å‰ K ä¸ªé«˜é¢‘å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/top-k-frequent-elements/)
- [å‰‘æŒ‡ Offer II 060. å‡ºç°é¢‘ç‡æœ€é«˜çš„ k ä¸ªæ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/g5c51o/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ è¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚**ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆ**ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: nums = [1,1,1,2,2,3], k = 2
è¾“å‡º: [1,2]
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: nums = [1], k = 1
è¾“å‡º: [1]
```

## ğŸ”” è§£é¢˜æ€è·¯

**ç»å…¸ TopK é—®é¢˜**

åœ¨é¢è¯•è¿‡ç¨‹ä¸­é‡åˆ°è¿™ä¸ªé¢˜ç›®ï¼Œé¦–å…ˆè¦æƒ³åˆ°çš„æ˜¯è§£å†³è¿™ä¸ªé¢˜ç›®éœ€è¦ç”¨åˆ°**å“ˆå¸Œè¡¨**ã€‚è¿™ä¸ªé¢˜ç›®çš„è¾“å…¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå“ˆå¸Œè¡¨å¯ä»¥ç”¨æ¥ç»Ÿè®¡æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„é¢‘ç‡ï¼Œå“ˆå¸Œè¡¨çš„é”®æ˜¯æ•°ç»„ä¸­å‡ºç°çš„æ•°å­—ï¼Œè€Œå€¼æ˜¯æ•°å­—å‡ºç°çš„é¢‘ç‡

æ¥ä¸‹æ¥æ‰¾å‡ºå‡ºç°é¢‘ç‡æœ€é«˜çš„ k ä¸ªæ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨å°æ ¹å †ï¼Œæ¯æ¬¡å¼¹å‡ºå †é¡¶å…ƒç´ ï¼ˆå‡ºç°é¢‘ç‡æœ€ä½çš„å…ƒç´ ï¼‰ï¼Œç›´åˆ°å †ä¸­ç•™ä¸‹çš„å…ƒç´ ä¸ªæ•°ä¸º k ä¸ªï¼Œå°±æ˜¯å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ 


```java
class Solution {
    public int[] topKFrequent(int[] nums, int k) {
        if (nums == null || nums.length < k) {
            return new int[0];
        }

        // å­˜å‚¨æœ€ç»ˆç»“æœ
        int[] res = new int[k];

        // è®¡ç®—æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°
        Map<Integer, Integer> map = new HashMap<>();
        for (int num : nums) {
            map.put(num, map.getOrDefault(num, 0) +  1);
        }

        // æŒ‰ç…§å‡ºç°é¢‘ç‡æ„é€ å°é¡¶å †
        PriorityQueue<Map.Entry<Integer, Integer>> minHeap = new PriorityQueue<>(
                (o1, o2) -> o1.getValue() - o2.getValue()
        );
        // ç­‰ä»·äº
        // PriorityQueue<Map.Entry<Integer, Integer>> minHeap = new PriorityQueue<>(
        //     new Comparator<Map.Entry<Integer, Integer>>() {
        //         @Override
        //         public int compare(Map.Entry<Integer, Integer> o1, Map.Entry<Integer, Integer> o2) {
        //             return o1.getValue() - o2.getValue();
        //         }
        //     }
        // );
        
        for (Map.Entry<Integer, Integer> entry : map.entrySet()) {
            if (minHeap.size() < k) {
                minHeap.offer(entry);
            }

            else {
                if (entry.getValue() > minHeap.peek().getValue()) {
                    minHeap.poll();
                    minHeap.offer(entry);
                }
            }
        }

        for (int i = 0; i < k; i ++) {
            res[i] = minHeap.poll().getKey();
        }
        
        return res;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211102104309.png)

> åªç”¨å“ˆå¸Œè¡¨ä¹Ÿèƒ½åšè¿™é“é¢˜ï¼Œä¸è¿‡ç›¸å¯¹æ¥è¯´è€ƒè™‘çš„ä¸œè¥¿ä¼šå¤šä¸€ç‚¹

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(Nlogk)ï¼Œå…¶ä¸­ N ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬é¦–å…ˆéå†åŸæ•°ç»„ï¼Œå¹¶ä½¿ç”¨å“ˆå¸Œè¡¨è®°å½•å‡ºç°æ¬¡æ•°ï¼Œæ¯ä¸ªå…ƒç´ éœ€è¦ O(1) çš„æ—¶é—´ï¼Œå…±éœ€ O(N) çš„æ—¶é—´ã€‚éšåï¼Œæˆ‘ä»¬éå†å“ˆå¸Œè¡¨æ„é€ å°é¡¶å †ï¼Œç”±äºå †çš„å¤§å°è‡³å¤šä¸º kï¼Œå› æ­¤æ¯æ¬¡å †æ“ä½œéœ€è¦ O(logk) çš„æ—¶é—´ï¼Œå…±éœ€ O(Nlogk) çš„æ—¶é—´ã€‚äºŒè€…ä¹‹å’Œä¸º O(Nlogk)
- ç©ºé—´å¤æ‚åº¦ï¼šO(N)ã€‚å“ˆå¸Œè¡¨çš„å¤§å°ä¸º O(N)ï¼Œè€Œå †çš„å¤§å°ä¸º O(k)ï¼Œå…±è®¡ä¸º O(N)

