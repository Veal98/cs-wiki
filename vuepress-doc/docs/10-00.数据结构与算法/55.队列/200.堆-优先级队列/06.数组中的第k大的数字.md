---
title: æ•°ç»„ä¸­çš„ç¬¬ k å¤§çš„æ•°å­—
date: 2022-03-20 11:53:59
permalink: /pages/d06bbc/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/kth-largest-element-in-an-array/)
- [å‰‘æŒ‡ Offer II 076. æ•°ç»„ä¸­çš„ç¬¬ k å¤§çš„æ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/xx4gT2/)

ç»™å®šæ•´æ•°æ•°ç»„ nums å’Œæ•´æ•° kï¼Œè¯·è¿”å›æ•°ç»„ä¸­ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚

è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2
è¾“å‡º: 5
```

## ğŸ”” è§£é¢˜æ€è·¯

### æœ€å°å †

å’Œä¸Šä¸€é¢˜ [å‰‘æŒ‡ Offer II 059. æ•°æ®æµçš„ç¬¬ K å¤§æ•°å€¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/jBjn9C/) å·®ä¸å¤š

```java
class Solution {
    public int findKthLargest(int[] nums, int k) {
        PriorityQueue<Integer> minHeap = new PriorityQueue<>();

        for (int i = 0; i < nums.length; i ++) {
            // å¦‚æœæœ€å°å †ä¸­å…ƒç´ çš„æ•°ç›®è¿˜å°äº kï¼Œé‚£ä¹ˆç›´æ¥å°†å®ƒæ·»åŠ åˆ°æœ€å°å †ä¸­
            if (minHeap.size() < k) {
                minHeap.offer(nums[i]);
            }
            // å¦‚æœæœ€å°å †ä¸­å·²ç»æœ‰kä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå°†å…¶å’Œä½äºå †é¡¶çš„æœ€å°å€¼è¿›è¡Œæ¯”è¾ƒã€‚
            // å¦‚æœæ–°çš„æ•°å­—å¤§äºå †é¡¶çš„æ•°å­—ï¼Œé‚£ä¹ˆå †é¡¶çš„æ•°å­—å°±æ˜¯ç¬¬ k + 1 å¤§çš„æ•°å­—ï¼Œå¯ä»¥å°†å®ƒä»å †ä¸­åˆ é™¤ï¼Œå¹¶å°†æ–°çš„æ•°å­—æ·»åŠ åˆ°å †ä¸­ï¼Œè¿™æ ·å †ä¸­ä¿å­˜çš„ä»ç„¶æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ä»æ•°æ®æµä¸­è¯»å‡ºçš„æœ€å¤§çš„ k ä¸ªæ•°å­—ï¼Œæ­¤æ—¶ç¬¬ k å¤§çš„æ•°å­—æ­£å¥½ä½äºæœ€å°å †çš„å †é¡¶
            else if (nums[i] > minHeap.peek()) {
                minHeap.poll();
                minHeap.offer(nums[i]);
            }
            // else if (val < minHeap.peek()) 
            // å¦‚æœæ–°è¯»å‡ºçš„æ•°å­—å°äºæˆ–ç­‰äºå †ä¸­çš„æœ€å°å€¼ï¼Œæ²¡æœ‰æ’å…¥çš„å¿…è¦
            // å› ä¸ºå †ä¸­çš„ k ä¸ªæ•°å­—éƒ½æ¯” val å¤§ï¼Œå› æ­¤ val ä¸å¯èƒ½æ˜¯ k ä¸ªæœ€å¤§çš„æ•°å­—ä¸­çš„ä¸€ä¸ª
        }

        return minHeap.peek();
    }
}
```



### å¿«é€Ÿæ’åº

[å‰‘æŒ‡ Offer II 059. æ•°æ®æµçš„ç¬¬ K å¤§æ•°å€¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/jBjn9C/) ä¸­çš„æ•°æ®ä½äºä¸€ä¸ªæ•°æ®æµä¸­ï¼Œä¸èƒ½ä¸€æ¬¡æ€§åœ°å°†æ‰€æœ‰æ•°æ®å…¨éƒ¨è¯»å…¥å†…å­˜ã€‚è€Œæœ¬é¢˜ä¸ä¸€æ ·ï¼Œæ•°æ®éƒ½ä¿å­˜åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ‰€æœ‰æ“ä½œéƒ½åœ¨å†…å­˜ä¸­å®Œæˆã€‚æˆ‘ä»¬æœ‰æ›´å¿«æ‰¾å‡ºç¬¬ k å¤§çš„æ•°å­—çš„ç®—æ³•ã€‚

åœ¨é•¿åº¦ä¸º n çš„æ’åºæ•°ç»„ä¸­ï¼Œç¬¬ k å¤§çš„æ•°å­—çš„ä¸‹æ ‡æ˜¯ n-k ã€‚

ä¸‹é¢ç”¨å¿«é€Ÿæ’åºçš„å‡½æ•°partitionå¯¹æ•°ç»„åˆ†åŒº:

- å¦‚æœå‡½æ•°partitioné€‰å–çš„ä¸­é—´å€¼åœ¨åˆ†åŒºä¹‹åçš„ä¸‹æ ‡æ­£å¥½æ˜¯n-kï¼Œç›´æ¥ä¸­é—´å€¼å°±è¡Œäº†
- å¦‚æœå‡½æ•°partitioné€‰å–çš„ä¸­é—´å€¼åœ¨åˆ†åŒºä¹‹åçš„ä¸‹æ ‡å¤§äºn-kï¼Œé‚£ä¹ˆç¬¬kå¤§çš„æ•°å­—ä¸€å®šä½äºä¸­é—´å€¼çš„å·¦ä¾§ï¼Œäºæ˜¯å†å¯¹ä¸­é—´å€¼å·¦ä¾§çš„å­æ•°ç»„åˆ†åŒº
- å¦‚æœå‡½æ•°partitioné€‰å–çš„ä¸­é—´å€¼åœ¨åˆ†åŒºä¹‹åçš„ä¸‹æ ‡å°äºn-kï¼Œé‚£ä¹ˆç¬¬kå¤§çš„æ•°å­—ä¸€å®šä½äºä¸­é—´å€¼çš„å³ä¾§ï¼Œäºæ˜¯å†å¯¹ä¸­é—´å€¼å³ä¾§çš„å­æ•°ç»„åˆ†åŒºã€‚

é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å‡½æ•°partitionçš„è¿”å›å€¼æ­£å¥½æ˜¯ä¸‹æ ‡ä¸º n-k çš„ä½ç½®ã€‚


```java
class Solution {
    public int findKthLargest(int[] nums, int k) {
        if (nums == null || nums.length == 0) {
            return -1;
        }

        return find(nums, k, 0, nums.length - 1);
    }

    private int find(int[] nums, int k, int left, int right) {
        // ä¸­é—´å€¼çš„ä¸‹æ ‡
        int pivot = partition(nums, left, right);
        if (pivot == nums.length - k) {
            return nums[pivot];
        }
        else if (pivot > nums.length - k){
            return find(nums, k, left, pivot - 1);
        }
        
        return find(nums, k, pivot + 1, right);
    }

    private int partition(int[] nums, int left, int right) {
        int l = left;
        int r = right;
        // ä¸€èˆ¬éƒ½æ˜¯ç”¨æœ€å·¦å…ƒç´ ä½œåŸºå‡†å…ƒç´ 
        int pivot = nums[left]; 
        while (l < r) {
            while (l < r && nums[r] >= pivot)
                r --;
            while (l < r && nums[l] <= pivot)
                l ++;
            if (l < r) {
                // äº¤æ¢
                swap(nums, l, r);
            }
        }

        // å°†åŸºå‡†æ•°æ”¾åˆ°æœ€ç»ˆçš„ä½ç½®ï¼ˆåŸºå‡†æ•°å½’ä½ï¼‰
        swap(nums, l, left);

        return l;
    }

    private void swap(int[] nums, int a, int b){
        int temp = nums[a];
        nums[a] = nums[b];
        nums[b] = temp;
    }
}
```

å½“ç„¶äº†ï¼Œä¸Šé¢çš„é€’å½’æµç¨‹å¯ä»¥å†™æˆè¿­ä»£æ ·å¼ï¼š

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220313213258.png)

è¿­ä»£ï¼š

```java
class Solution {
    // è¿­ä»£
    public int findKthLargest(int[] nums, int k) {
        if (nums == null || nums.length == 0) {
            return -1;
        }

        int target = nums.length - k;

        int left = 0;
        int right = nums.length - 1;
        int pivot = partition(nums, left, right);
        
        while (pivot != target) {
            if (pivot > target) {
                right = pivot - 1;
            }
            else {
                left = pivot + 1;
            }

            pivot = partition(nums, left, right);
        }

        return nums[pivot];
    }


    private int partition(int[] nums, int left, int right) {
        
    }

    private void swap(int[] nums, int a, int b){
        
    }
}
```



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

