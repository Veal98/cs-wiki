---
title: æ•´æ•°é™¤æ³•
date: 2022-03-30 14:05:22
permalink: /pages/5bb118/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 001. æ•´æ•°é™¤æ³• - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/xoh6Oh/)
- [29. ä¸¤æ•°ç›¸é™¤ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/divide-two-integers/)

ç»™å®šä¸¤ä¸ªæ•´æ•° a å’Œ b ï¼Œæ±‚å®ƒä»¬çš„é™¤æ³•çš„å•† a/b ï¼Œè¦æ±‚ä¸å¾—ä½¿ç”¨ä¹˜å· '*'ã€é™¤å· '/' ä»¥åŠæ±‚ä½™ç¬¦å· '%' ã€‚

æ³¨æ„ï¼š

æ•´æ•°é™¤æ³•çš„ç»“æœåº”å½“æˆªå»ï¼ˆtruncateï¼‰å…¶å°æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼štruncate(8.345) = 8 ä»¥åŠ truncate(-2.7335) = -2
å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231, 231âˆ’1]ã€‚æœ¬é¢˜ä¸­ï¼Œå¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œåˆ™è¿”å› $2^{31} âˆ’ 1$


ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼ša = 15, b = 2
è¾“å‡ºï¼š7
è§£é‡Šï¼š15/2 = truncate(7.5) = 7
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼ša = 7, b = -3
è¾“å‡ºï¼š-2
è§£é‡Šï¼š7/-3 = truncate(-2.33333..) = -2
```

## ğŸ”” è§£é¢˜æ€è·¯

### æš´åŠ›

æœ€ç®€å•çš„ï¼Œä¸æ–­å¾ªç¯åšå‡æ³•

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220330142822.png)

å¦å¤–ï¼Œï¼Œintå‹æ•´æ•°çš„é™¤æ³•åªæœ‰ä¸€ç§æƒ…å†µä¼šå¯¼è‡´æº¢å‡ºï¼Œå³ $ï¼ˆ-2^{31}ï¼‰/ï¼ˆ-1ï¼‰ = 2^{31}$ï¼Œè€Œæœ€å¤§çš„æ­£æ•°åªæœ‰ $2^{31}-1$


```java
class Solution {
    public int divide(int a, int b) {
        // è¾¹ç•Œæ¡ä»¶
        if (a == Integer.MIN_VALUE && b == -1) {
            return Integer.MAX_VALUE;
        }

        // ç¬¦å·
        int sign = 1;
        if ((a < 0 && b > 0) || (a > 0 && b < 0)) {
            sign = -1;
        }
        
        int res = 0;

        // å…¨éƒ½å˜æˆè´Ÿæ•°åšè¿ç®—ï¼Œå› ä¸ºæœ€å°å€¼çš„ç»å¯¹å€¼æ¯”æœ€å¤§å€¼çš„ç»å¯¹å€¼è¦å¤§ 1
        a = (a > 0) ? -a : a;
        b = (b > 0) ? -b : b;
        

        while (a <= b) {
            a -= b;
            res ++;
        }

        return sign == 1 ? res : -res;
    }
}
```

æ—¶é—´å¤æ‚åº¦ O(N)

### ä¼˜åŒ–

å¯ä»¥å°†ä¸Šè¿°è§£æ³•ç¨åšè°ƒæ•´ã€‚**å½“è¢«é™¤æ•°å¤§äºé™¤æ•°æ—¶ï¼Œç»§ç»­æ¯”è¾ƒåˆ¤æ–­è¢«é™¤æ•°æ˜¯å¦å¤§äºé™¤æ•°çš„2å€ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç»§ç»­åˆ¤æ–­è¢«é™¤æ•°æ˜¯å¦å¤§äºé™¤æ•°çš„4å€ã€8å€ç­‰**ã€‚å¦‚æœè¢«é™¤æ•°æœ€å¤šå¤§äºé™¤æ•°çš„ 2^k å€ï¼Œé‚£ä¹ˆå°†è¢«é™¤æ•°å‡å»é™¤æ•°çš„ 2^k å€ï¼Œç„¶åå°†å‰©ä½™çš„è¢«é™¤æ•°é‡å¤å‰é¢çš„æ­¥éª¤

ç”±äºæ¯æ¬¡å°†é™¤æ•°ç¿»å€ï¼Œå› æ­¤ä¼˜åŒ–åçš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(logn)$

ä¸‹é¢ä»¥ 15/2 ä¸ºä¾‹è®¨è®ºè®¡ç®—çš„è¿‡ç¨‹

- 15å¤§äº2ï¼Œä¹Ÿå¤§äº2çš„2å€ï¼ˆå³4ï¼‰ï¼Œè¿˜å¤§äº2çš„4å€ï¼ˆå³8ï¼‰ï¼Œä½†å°äº2çš„8å€ï¼ˆå³16ï¼‰ï¼Œäºæ˜¯å…ˆå°† 15 å‡å»8ï¼ˆ2 çš„ 4 å€ï¼‰ï¼Œè¿˜å‰©ä½™ 7ã€‚ç”±äºå‡å»çš„æ˜¯é™¤æ•°çš„4å€ï¼Œå‡å»è¿™éƒ¨åˆ†å¯¹åº”çš„å•†æ˜¯ `4`
- æ¥ä¸‹æ¥å¯¹å‰©ä½™çš„ 7 å’Œé™¤æ•° 2 è¿›è¡Œæ¯”è¾ƒï¼Œ7 å¤§äº2ï¼Œå¤§äº2çš„2å€ï¼ˆå³4ï¼‰ï¼Œä½†å°äº2çš„4å€ï¼ˆå³8ï¼‰ï¼Œäºæ˜¯å°† 7 å‡å» 4ï¼ˆ2çš„ 2 å€ï¼‰ï¼Œè¿˜å‰©ä½™3ã€‚è¿™ä¸€æ¬¡å‡å»çš„æ˜¯é™¤æ•°2çš„2å€ï¼Œå¯¹åº”çš„å•†æ˜¯ `2`
- ç„¶åå¯¹å‰©ä½™çš„ 3 å’Œé™¤æ•° 2 è¿›è¡Œæ¯”è¾ƒï¼Œ3 å¤§äº2ï¼Œä½†å°äº2çš„2å€ï¼ˆå³4ï¼‰ï¼Œäºæ˜¯å°†3å‡å»2ï¼Œè¿˜å‰©ä½™ 1ã€‚è¿™ä¸€æ¬¡å‡å»çš„æ˜¯é™¤æ•°çš„ 1 å€ï¼Œå¯¹åº”çš„å•†æ˜¯ `1`ã€‚
- æœ€åå‰©ä½™çš„æ•°å­—æ˜¯1ï¼Œæ¯”é™¤æ•°å°ï¼Œä¸èƒ½å†å‡å»é™¤æ•°äº†ã€‚äºæ˜¯ 15/2 çš„å•†æ˜¯ `4+2+1`ï¼Œå³ 7

```java
class Solution {
    public int divide(int a, int b) {
        // è¾¹ç•Œæ¡ä»¶
        if (a == Integer.MIN_VALUE && b == -1) {
            return Integer.MAX_VALUE;
        }

        // ç¬¦å·
        int sign = 1;
        if ((a < 0 && b > 0) || (a > 0 && b < 0)) {
            sign = -1;
        }
        
        int res = 0;

        // å…¨éƒ½å˜æˆè´Ÿæ•°åšè¿ç®—ï¼Œå› ä¸ºæœ€å°å€¼çš„ç»å¯¹å€¼æ¯”æœ€å¤§å€¼çš„ç»å¯¹å€¼è¦å¤§ 1
        a = (a > 0) ? -a : a;
        b = (b > 0) ? -b : b;
        
        while (a <= b) {
            // è¢«é™¤æ•°æ¯æ¬¡ç¿»å€
            int divisor = b;
            // å½“å‰è¢«é™¤æ•°çš„å€æ•°
            int quotient = 1;

            // ä»£ç ä¼˜åŒ–ï¼šå¦‚æœ divisor å·²ç»å¤§äºæœ€å°å€¼çš„ä¸€åŠçš„è¯ï¼Œé‚£ä¹ˆé€€å‡ºæœ¬æ¬¡ while å¾ªç¯
            // å› ä¸ºè¿™ä¸ªæ—¶å€™ divisor * 2 è‚¯å®šä¼šå°äºæœ€å°å€¼ï¼Œè¶…è¿‡äº†é¢˜ç›®ç»™çš„èŒƒå›´
            while (divisor > Integer.MIN_VALUE >> 1 && a <= divisor + divisor) {
                // è¢«é™¤æ•°ç¿»å€
                quotient += quotient; 
                divisor += divisor;
            }

            res += quotient;
            a -= divisor;
        }

        return sign == 1 ? res : -res;
    }
}
```



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

