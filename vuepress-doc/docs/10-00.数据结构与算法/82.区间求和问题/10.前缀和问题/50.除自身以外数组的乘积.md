---
title: é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯
date: 2022-09-22 11:43:11
permalink: /pages/868a31/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯](https://leetcode.cn/problems/product-of-array-except-self/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220922114335142.png)

## ğŸ”” è§£é¢˜æ€è·¯

æˆ‘ä»¬ä¸å¿…å°†æ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯é™¤ä»¥ç»™å®šç´¢å¼•å¤„çš„æ•°å­—å¾—åˆ°ç›¸åº”çš„ç­”æ¡ˆï¼Œè€Œæ˜¯åˆ©ç”¨ç´¢å¼•å·¦ä¾§æ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯å’Œå³ä¾§æ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯ï¼ˆå³å‰ç¼€ä¸åç¼€ï¼‰ç›¸ä¹˜å¾—åˆ°ç­”æ¡ˆã€‚

å¯¹äºç»™å®šç´¢å¼• iï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒå·¦è¾¹æ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯ä¹˜ä»¥å³è¾¹æ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯


```java
class Solution {
    public int[] productExceptSelf(int[] nums) {
        if (nums == null || nums.length == 0) {
            return new int[0];
        }

        int[] res = new int[nums.length];
		
        // nums[i] å·¦è¾¹æ‰€æœ‰æ•°çš„ä¹˜ç§¯ï¼ˆä¸åŒ…æ‹¬ nums[i]ï¼‰
        int[] leftAccumulate = new int[nums.length];
        // nums[i] å³è¾¹æ‰€æœ‰æ•°çš„ä¹˜ç§¯ï¼ˆä¸åŒ…æ‹¬ nums[i]ï¼‰
        int[] rightAccumulate = new int[nums.length];
        // base case
        leftAccumulate[0] = 1;
        rightAccumulate[nums.length - 1] = 1;
        
        for (int i = 1; i  < nums.length; i ++) {
            leftAccumulate[i] = leftAccumulate[i - 1] * nums[i - 1];
        }
        for (int i = nums.length - 2; i >= 0; i --) {
            rightAccumulate[i] = rightAccumulate[i + 1] * nums[i + 1]; 
        }

        for (int i = 0; i < nums.length; i ++) {
            res[i] = leftAccumulate[i] * rightAccumulate[i];
        }

        return res;
    }
}
```

æˆ‘ä»¬ç”¨äº†ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªç”¨æ¥è®°å½•å·¦è¾¹ä¹˜ç§¯ï¼Œä¸€ä¸ªç”¨æ¥è®°å½•å³è¾¹ä¹˜ç§¯ï¼Œå¯ä»¥ä¼˜åŒ–ä¸‹ï¼Œ**å…¶ä¸­ä¸€ä¸ªæ•°ç»„æˆ‘ä»¬ç›´æ¥ç”¨ä¸€ä¸ªå˜é‡æ¥å­˜å°±è¡Œäº†**

æ¯”å¦‚æˆ‘ä»¬ä¸å»æ„é€  rightAccumulate æ•°ç»„ã€‚è€Œæ˜¯ç”¨ä¸€ä¸ªéå†æ¥è·Ÿè¸ªå³è¾¹å…ƒç´ çš„ä¹˜ç§¯ã€‚å¹¶æ›´æ–°æ•°ç»„ `res[i] = leftAccumulate[i] * rightAccumulate;`ã€‚ç„¶å rightAccumulate  æ›´æ–°ä¸º `rightAccumulate *= nums[i];`ï¼Œå…¶ä¸­å˜é‡ rightAccumulate è¡¨ç¤ºçš„å°±æ˜¯ç´¢å¼•å³ä¾§æ•°å­—çš„ä¹˜ç§¯ã€‚

```java
class Solution {
    public int[] productExceptSelf(int[] nums) {
        if (nums == null || nums.length == 0) {
            return new int[0];
        }

        int[] res = new int[nums.length];

        int[] leftAccumulate = new int[nums.length];
        // base case
        leftAccumulate[0] = 1;
        
        for (int i = 1; i  < nums.length; i ++) {
            leftAccumulate[i] = leftAccumulate[i - 1] * nums[i - 1];
        }

        int rightAccumulate = 1;
		
        // æ³¨æ„è¿™é‡Œæ˜¯ä»åå¾€å‰éå†
        for (int i = nums.length - 1; i >= 0; i --) {
            res[i] = leftAccumulate[i] * rightAccumulate;
            rightAccumulate *= nums[i];
        }

        return res;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š