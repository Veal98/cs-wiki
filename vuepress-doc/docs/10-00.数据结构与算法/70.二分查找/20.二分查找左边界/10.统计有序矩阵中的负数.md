---
title: ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•°
date: 2021-09-20 16:51:45
permalink: /pages/df6e9c/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[1351. ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/count-negative-numbers-in-a-sorted-matrix/)

ç»™ä½ ä¸€ä¸ª m * n çš„çŸ©é˜µ gridï¼ŒçŸ©é˜µä¸­çš„å…ƒç´ æ— è®ºæ˜¯æŒ‰è¡Œè¿˜æ˜¯æŒ‰åˆ—ï¼Œéƒ½ä»¥**éé€’å¢é¡ºåº**æ’åˆ—ã€‚ 

è¯·ä½ ç»Ÿè®¡å¹¶è¿”å› grid ä¸­ è´Ÿæ•° çš„æ•°ç›®ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šgrid = [[4,3,2,-1],[3,2,1,-1],[1,1,-1,-2],[-1,-1,-2,-3]]
è¾“å‡ºï¼š8
è§£é‡Šï¼šçŸ©é˜µä¸­å…±æœ‰ 8 ä¸ªè´Ÿæ•°ã€‚
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šgrid = [[3,2],[1,0]]
è¾“å‡ºï¼š0
```

ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šgrid = [[1,-1],[-1,-1]]
è¾“å‡ºï¼š3
```

ç¤ºä¾‹ 4ï¼š

```
è¾“å…¥ï¼šgrid = [[-1]]
è¾“å‡ºï¼š1
```

## ğŸ”” è§£é¢˜æ€è·¯

æ‰€è°“éé€’å¢ï¼Œå³**é€’å‡æ’åºä½†æ˜¯å­˜åœ¨é‡å¤å…ƒç´ **ï¼Œç¬¦åˆäºŒåˆ†æŸ¥æ‰¾è¾¹ç•Œç±»å‹çš„ç¬¬ä¸€ç§æƒ…å†µã€‚é¢˜ç›®è¦æ±‚æŸ¥æ‰¾æ‰€æœ‰è´Ÿæ•°çš„ä¸ªæ•°

æ€»çš„æ¥è¯´ï¼Œå…·ä½“æ€è·¯å°±æ˜¯ï¼š

- ä¾æ¬¡äºŒåˆ†æŸ¥æ‰¾æ¯ä¸€è¡Œä¸­ç¬¬ä¸€ä¸ªè´Ÿæ•°çš„ä½ç½®ï¼Œæ ¹æ®è¿™ä¸ªä½ç½®æˆ‘ä»¬å°±å¯ä»¥ç«‹å³æ¨å‡ºè¯¥è¡Œè´Ÿæ•°çš„ä¸ªæ•°äº†

å¥—**äºŒåˆ†æŸ¥æ‰¾å·¦è¾¹ç•Œçš„ç¬¬ä¸€ç§æƒ…å†µ**çš„æ¨¡æ¿ï¼š


```java
class Solution {
    public int countNegatives(int[][] grid) {
        int count = 0;

        int rowLen = grid.length; // è¡Œæ•°
        int columnLen = grid[0].length; // åˆ—æ•°

        int right = columnLen - 1;
        // ä¾æ¬¡äºŒåˆ†æŸ¥æ‰¾æ¯ä¸€è¡Œ
        for (int i = 0; i < rowLen; i++) {
            int left = 0;
            while (left < right) {
                int mid = left + ((right - left) >> 1);
                // æ”¶ç¼©å·¦è¾¹ç•Œ
                if (grid[i][mid] >= 0) {
                    left = mid + 1;
                } else {
                    // æ”¶ç¼©å³è¾¹ç•Œ
                    right = mid;
                }
            }

            // æ‰“ä¸ªè¡¥ä¸
            count += grid[i][left] >= 0 ? 0 : columnLen - left;
        }

        return count;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210920171556.png)

æ€è€ƒä¸€ä¸‹è¿™é‡Œæˆ‘ä»¬æ˜¯ä¸æ˜¯è¿˜å¯ä»¥ä¼˜åŒ–ä¸‹ï¼Œä¸Šé¢çš„ä»£ç æˆ‘ä»¬å…¶å®åªç”¨åˆ°äº†è¡Œçš„éé€’å¢ç‰¹æ€§ï¼Œå¹¶æ²¡æœ‰ç”¨åˆ°åˆ—çš„éé€’å¢ç‰¹æ€§ã€‚

å‡å¦‚åœ¨ç¬¬ 2 è¡Œä¸­æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªè´Ÿæ•°çš„ä¸‹æ ‡æ˜¯ 2ï¼Œé‚£ä¹ˆç¬¬ä¸‰è¡Œä¸‹æ ‡ä¸º 2 çš„ä½ç½®ä¸€å®šæ˜¯è´Ÿæ•°ï¼Œå¯¹å§ã€‚é‚£æˆ‘ä»¬åœ¨å¤„ç†ç¬¬ 3 è¡Œçš„æ—¶å€™ï¼Œå°±æ²¡æœ‰å¿…è¦ä»æœ€åä¸€ä¸ªæ•°å¼€å§‹æ”¶ç¼©å³è¾¹ç•Œäº†ï¼Œå¯ä»¥ç›´æ¥ä»ç¬¬ 2 è¡Œç¬¬ä¸€ä¸ªè´Ÿæ•°çš„ä½ç½®å¼€å§‹æ”¶ç¼©ã€‚

ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹ï¼š

```java
class Solution {
    public int countNegatives(int[][] grid) {
        int count = 0;

        int rowLen = grid.length; // è¡Œæ•°
        int columnLen = grid[0].length; // åˆ—æ•°

        int right = columnLen - 1;
        // ä¾æ¬¡äºŒåˆ†æŸ¥æ‰¾æ¯ä¸€è¡Œ
        for (int i = 0; i < rowLen; i++) {
            int left = 0;
            while (left < right) {
                int mid = left + ((right - left) >> 1);
                // æ”¶ç¼©å·¦è¾¹ç•Œ
                if (grid[i][mid] >= 0) {
                    left = mid + 1;
                } else {
                    // æ”¶ç¼©å³è¾¹ç•Œ
                    right = mid;
                }
            }

            // æ‰“ä¸ªè¡¥ä¸
            count += grid[i][left] >= 0 ? 0 : columnLen - left;
        }

        return count;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210920172104.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)
- æ—¶é—´å¤æ‚åº¦ï¼šO(NLogN)

