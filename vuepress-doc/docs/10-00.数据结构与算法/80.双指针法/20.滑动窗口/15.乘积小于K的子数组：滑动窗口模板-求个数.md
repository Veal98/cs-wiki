---
title: ä¹˜ç§¯å°äºKçš„å­æ•°ç»„
date: 2022-04-04 18:07:14
permalink: /pages/650579/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 009. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/ZVAVXX/)
- [713. ä¹˜ç§¯å°äºKçš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/subarray-product-less-than-k/)

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ numså’Œæ•´æ•° k ï¼Œè¯·æ‰¾å‡ºè¯¥æ•°ç»„å†…ä¹˜ç§¯å°äº k çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: nums = [10,5,2,6], k = 100
è¾“å‡º: 8
è§£é‡Š: 8 ä¸ªä¹˜ç§¯å°äº 100 çš„å­æ•°ç»„åˆ†åˆ«ä¸º: [10], [5], [2], [6], [10,5], [5,2], [2,6], [5,2,6]ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ [10,5,2] å¹¶ä¸æ˜¯ä¹˜ç§¯å°äº100çš„å­æ•°ç»„ã€‚
```

ç¤ºä¾‹ 2:

```
è¾“å…¥: nums = [1,2,3], k = 0
è¾“å‡º: 0
```

## ğŸ”” è§£é¢˜æ€è·¯

å’Œä¸Šé“é¢˜ [å‰‘æŒ‡ Offer II 008. å’Œå¤§äºç­‰äº target çš„æœ€çŸ­å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/2VG8Kg/) å¤§å·®ä¸å·®ï¼Œç¨å¾®æœ‰äº›å˜åŒ–ï¼Œä¸Šé“é¢˜æ˜¯è¦æ‰¾åˆ°æœ€å°çš„çª—å£ï¼Œæ‰€ä»¥å½“çª—å£ä¸­çš„å’Œå°äºç›®æ ‡çš„æ—¶å€™ï¼ˆçª—å£æ”¶ç¼©çš„æ—¶æœºï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œæ”¶ç¼©ä»¥è¿›ä¸€æ­¥æ‰¾åˆ°æ›´å°çš„çª—å£

è€Œè¿™é“é¢˜å¹¶ä¸éœ€è¦æœ€å€¼ï¼Œåªè¦çª—å£ä¸­çš„ä¹˜ç§¯å°äº k å°±è¡Œï¼Œæ‰€ä»¥**å½“çª—å£ä¸­å…ƒç´ çš„ä¹˜ç§¯ >= k æ—¶ï¼ˆçª—å£æ”¶ç¼©æ—¶æœºï¼‰ï¼Œéœ€è¦æ”¶ç¼©çª—å£ä»¥æ‰¾åˆ°ä¹˜ç§¯å°äº k çš„çª—å£**

> ç®€å•æ€»ç»“ï¼š
>
> - ç›®æ ‡ï¼šæ‰¾å‡ºæ•°ç»„å†…ä¹˜ç§¯ `<` k çš„è¿ç»­çš„å­æ•°ç»„çš„**ä¸ªæ•°**ã€‚
> - çª—å£æ”¶ç¼©æ¡ä»¶ï¼šå¦‚æœæ•°ç»„ä¸­å…ƒç´ çš„å’Œ `> k`ï¼Œåˆ™ä¸æ–­æ”¶ç¼©çª—å£å¤§å°ï¼Œç›´åˆ°æ•°ç»„å†…ä¹˜ç§¯ < kï¼Œç„¶åæŸ¥çœ‹è¿™ä¸ªæ—¶å€™çª—å£çš„å¤§å°ï¼Œè®¡ç®—è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°
>
> å¯¹æ¯”ä¸‹ä¸Šé“é¢˜ç›®ï¼ˆæ±‚æœ€å¤§å€¼ï¼‰ï¼š[å‰‘æŒ‡ Offer II 016. ä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/wtcaE1/)
>
> - ç›®æ ‡ï¼šæ‰¾å‡º`ä¸å«æœ‰é‡å¤å­—ç¬¦`çš„ **æœ€é•¿**è¿ç»­å­å­—ç¬¦ä¸² çš„**é•¿åº¦**
> - çª—å£æ”¶ç¼©æ¡ä»¶ï¼šå¦‚æœçª—å£ä¸­å…ƒç´ `é‡å¤`ï¼Œåˆ™ä¸æ–­æ”¶ç¼©çª—å£å¤§å°ï¼Œç›´åˆ°çª—å£ä¸­å…ƒç´ ä¸é‡å¤ï¼Œç„¶åæŸ¥çœ‹è¿™ä¸ªæ—¶å€™çª—å£çš„å¤§å°ï¼Œå’Œæœ€é•¿é•¿åº¦è¿›è¡Œæ¯”è¾ƒ
>
> å¯¹æ¯”ä¸‹ä¸Šä¸Šé“é¢˜ç›®ï¼ˆæ±‚æœ€å°å€¼ï¼‰ï¼š[å‰‘æŒ‡ Offer II 008. å’Œå¤§äºç­‰äº target çš„æœ€çŸ­å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/2VG8Kg/)
>
> - ç›®æ ‡ï¼šæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ `>= target` çš„**é•¿åº¦æœ€å°**çš„è¿ç»­å­æ•°ç»„ï¼Œ**è¿”å›è¿™ä¸ªé•¿åº¦**
> - çª—å£æ”¶ç¼©æ¡ä»¶ï¼šå¦‚æœæ•°ç»„ä¸­å…ƒç´ çš„å’Œ `>= target`ï¼Œåˆ™ä¸æ–­æ”¶ç¼©çª—å£å¤§å°ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°ä¸€ä¸ªæ›´å°çš„æ»¡è¶³æ¡ä»¶çš„çª—å£
>
> å¯ä»¥çœ‹åˆ°ï¼Œæ±‚ä¸ªæ•°çš„é¢˜ç›®å’Œæ±‚æœ€å¤§å€¼çš„é¢˜ç›®ï¼Œè§£æ³•æ˜¯ä¸€è‡´çš„ã€‚


```java
class Solution {
    public int numSubarrayProductLessThanK(int[] nums, int k) {
        if (nums == null || nums.length == 0) {
            return 0;
        }
        
        // æ»‘åŠ¨çª—å£ä¸­çš„ä¹˜ç§¯
        int window = 1;
        int left = 0;
        int right = 0;

        // ä¹˜ç§¯å°äº k çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°
        int res = 0;

        while (right < nums.length) {
            // å¢å¤§çª—å£
            int newNum = nums[right];
            right ++;
            // å¢å¤§çª—å£åå¤„ç† window
            window *= newNum

            // windows need shrink: å¦‚æœçª—å£ä¸­å…ƒç´ çš„ä¹˜ç§¯ >= kï¼Œæ”¶ç¼©çª—å£
            while(left < right && window >= k) {
                // ç¼©å°çª—å£
                int removeNum = nums[left]
                left ++;
                // ç¼©å°çª—å£åå¤„ç† window
                window /= removeNum;
            }

            // çª—å£æ”¶ç¼©è‡³æ­¤ï¼Œwindow < k, [left, right) ä¹‹é—´çš„æ‰€æœ‰å­æ•°ç»„ä¸ªæ•°éƒ½æ»¡è¶³æ¡ä»¶
            // æ¯”å¦‚å½“å‰çª—å£å†…æœ‰ a,b,c æˆ‘ä»¬åŠ å…¥ dï¼Œé‚£ä¹ˆæ–°å¢çš„ä¸ªæ•°æ˜¯ (d)(c,d)(b,c,d)(a,b,c,d)ï¼Œå¯ä»¥å‘ç°è¿™ä¸ªç»„åˆä¸ªæ•°å’Œå½“å‰çª—å£å¤§å°ï¼ˆright - leftï¼‰æ˜¯ä¸€æ ·çš„
            res += right - left;
             
        }

        return res;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N)

