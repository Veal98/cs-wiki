---
title: é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹
date: 2021-09-30 10:25:37
permalink: /pages/4064a8/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 022. é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/c32eOV/)
- [142. ç¯å½¢é“¾è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ <u>å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› null</u>ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼Œpos ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚

è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

ç¤ºä¾‹ 1ï¼š

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20201113213046.png)

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

## ğŸ”” è§£é¢˜æ€è·¯

å’Œä¸Šä¸€é¢˜åŒæ ·ï¼Œä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œä½†æ˜¯è¿™é¢˜éœ€è¦æˆ‘ä»¬æ‰¾å‡ºå…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè®¾é“¾è¡¨ä¸­ç¯å¤–éƒ¨åˆ†çš„é•¿åº¦ä¸º aã€‚slow æŒ‡é’ˆè¿›å…¥ç¯åï¼Œåˆèµ°äº† b çš„è·ç¦»ä¸ fast ç›¸é‡ã€‚æ­¤æ—¶ï¼Œfast æŒ‡é’ˆå·²ç»èµ°å®Œäº†ç¯çš„ n åœˆï¼Œå› æ­¤å®ƒèµ°è¿‡çš„æ€»è·ç¦»ä¸º a+n(b+c)+b=a+(n+1)b+nc

<img src="https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20201113214440.png" style="zoom: 67%;" />

ä»»æ„æ—¶åˆ»ï¼Œfast æŒ‡é’ˆèµ°è¿‡çš„è·ç¦»éƒ½ä¸º slow æŒ‡é’ˆçš„ 2 å€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰

a+(n+1)b+nc=2(a+b)âŸ¹a=c+(nâˆ’1)(b+c)

æœ‰äº† a=c+(n-1)(b+c) çš„ç­‰é‡å…³ç³»ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼š**ä»ç›¸é‡ç‚¹åˆ°å…¥ç¯ç‚¹çš„è·ç¦»åŠ ä¸Š n-1 åœˆçš„ç¯é•¿ï¼Œæ°å¥½ç­‰äºä»é“¾è¡¨å¤´éƒ¨åˆ°å…¥ç¯ç‚¹çš„è·ç¦»**ã€‚

å› æ­¤ï¼Œå½“å‘ç°slow ä¸ fast ç›¸é‡æ—¶ï¼Œæˆ‘ä»¬å†é¢å¤–ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆ ptrã€‚èµ·å§‹ï¼Œå®ƒæŒ‡å‘é“¾è¡¨å¤´éƒ¨ï¼›éšåï¼Œå°† ptr å’Œ slow åŒæ—¶æ¯æ¬¡å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚æœ€ç»ˆï¼Œå®ƒä»¬ä¼šåœ¨å…¥ç¯ç‚¹ç›¸é‡ã€‚


```java
/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    public ListNode detectCycle(ListNode head) {
        ListNode slow = head;
        ListNode fast = head;
        ListNode ptr = head;

        while (fast != null && fast.next != null) {
            slow = slow.next;
            fast = fast.next.next;
            
            // æ‰¾ç¯çš„å…¥å£èŠ‚ç‚¹
            if (slow == fast) {
                while (ptr != fast) {
                    ptr = ptr.next;
                    fast = fast.next;
                }
                return ptr;
            }
        }

        return null;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210930103355.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N)

