## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„](https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220811114708015.png)

## ğŸ”” è§£é¢˜æ€è·¯

### åŒæŒ‡é’ˆ + æ’åº

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220811114749800.png)


```java
class Solution {
    public int findUnsortedSubarray(int[] nums) {
        if (nums == null || nums.length <= 1) {
            return 0;
        }

        // æ³¨æ„ä¸èƒ½ int[] sorted = nums, è¿™æ˜¯æµ…æ‹·è´ï¼Œsorted çš„ä¿®æ”¹ä¼šå½±å“åˆ° nums
        int[] sorted = new int[nums.length];
        for (int i = 0; i < nums.length; i ++) {
            sorted[i] = nums[i];
        }
        Arrays.sort(sorted);

        int left = 0;
        while (left < nums.length && nums[left] == sorted[left]) {
            left ++;
        }
        // left èµ°åˆ° nums.length è¯´æ˜ nums æœ¬èº«å·²ç»æœ‰åº
        if (left == nums.length) {
            return 0;
        }

        int right = nums.length - 1;
        while (right >= 0 && nums[right] == sorted[right]) {
            right --;
        }

        return right - left + 1;
    }
}
```

### åŒæŒ‡é’ˆ + ä¸€æ¬¡éå†

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220811115529241.png)

- ä¸­é—´æ®µçš„æœ€å°å€¼ > å·¦æ®µçš„æœ€å¤§å€¼
- ä¸­é—´æ®µçš„æœ€å¤§å€¼ < å·¦æ®µçš„æœ€å°å€¼

```java
class Solution {
    public int findUnsortedSubarray(int[] nums) {
        if (nums == null || nums.length <= 1) {
            return 0;
        }

        int left = -1;
        int right = -1;

        // ä¸­é—´æ®µçš„æœ€å°å€¼
        int min = Integer.MAX_VALUE;
        // ä¸­é—´æ®µçš„æœ€å¤§å€¼
        int max = Integer.MIN_VALUE;
        // å·¦æ®µæ•°ç»„çš„æœ€å¤§å€¼ < ä¸­é—´æ®µçš„æœ€å°å€¼
        for (int i = nums.length - 1; i >= 0; i --) {
            if (nums[i] <= min) {
                min = nums[i];
            }
            else {
                // å¦‚æœå‘ç° nums[i] æ¯”å½“å‰çš„æœ€å°å€¼è¦å¤§ï¼Œé‚£ nums[i] å¿…ç„¶ä¸å¯èƒ½å‡ºç°åœ¨å·¦ç«¯æ•°ç»„
                left = i;
            }
        }

        // å·²ç»å…¨å±€æœ‰åº
        if (left == -1) {
            return 0;
        }

        for (int i = 0; i < nums.length; i ++) {
            if (nums[i] >= max) {
                max = nums[i];
            }
            else {
                // å¦‚æœå‘ç° nums[i] æ¯”å½“å‰çš„æœ€å¤§å€¼è¦å°ï¼Œé‚£ä¹ˆ nums[i] å¿…ç„¶ä¸å¯èƒ½å‡ºç°åœ¨å³ç«¯æ•°ç»„
                right = i;
            }
        }

        return right - left + 1;
    }
}
```



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š