---
title: å›æ–‡å­å­—ç¬¦ä¸²çš„ä¸ªæ•°
date: 2022-04-08 17:55:42
permalink: /pages/4ca362/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 020. å›æ–‡å­å­—ç¬¦ä¸²çš„ä¸ªæ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/a7VOhD/)
- [647. å›æ–‡å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/palindromic-substrings/)

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·è®¡ç®—è¿™ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå›æ–‡å­å­—ç¬¦ä¸²ã€‚

å…·æœ‰ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œå³ä½¿æ˜¯ç”±ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šs = "abc"
è¾“å‡ºï¼š3
è§£é‡Šï¼šä¸‰ä¸ªå›æ–‡å­ä¸²: "a", "b", "c"
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šs = "aaa"
è¾“å‡ºï¼š6
è§£é‡Šï¼š6ä¸ªå›æ–‡å­ä¸²: "a", "a", "a", "aa", "aa", "aaa"
```

## ğŸ”” è§£é¢˜æ€è·¯

### æš´åŠ›

åŒé‡å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦ O(N^2)


```java
class Solution {
    public int countSubstrings(String s) {
        if (s == null || s.length() == 0) {
            return 0;
        }

        // å›æ–‡å­ä¸²çš„ä¸ªæ•°
        int count = 0;
        for (int i = 0; i < s.length(); i ++) {
            for (int j = i; j < s.length(); j ++) {
                if (isPalindrome(s, i, j)) {
                    count ++;
                }
            }
        }

        return count;
    }

    // å·¦é—­å³é—­
    private boolean isPalindrome(String s, int left, int right) {
        if (left == right) {
            return true;
        }

        while (left < right) {
            if (s.charAt(left) != s.charAt(right)) {
                return false;
            }
            left ++;
            right --;
        }

        return true;
    }
}
```

### å·¦å³æŒ‡é’ˆ

å‰é¢åˆ¤æ–­å›æ–‡çš„é¢˜ç›®éƒ½æ˜¯ä»å­—ç¬¦ä¸²çš„ä¸¤ç«¯å¼€å§‹å‘é‡Œç§»åŠ¨æŒ‡é’ˆæ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªå›æ–‡ï¼Œå…¶å®ä¹Ÿå¯ä»¥æ¢ä¸€ä¸ªæ–¹å‘**ä»å­—ç¬¦ä¸²çš„ä¸­å¿ƒå¼€å§‹å‘ä¸¤ç«¯å»¶ä¼¸**ã€‚

å¦‚æœå­˜åœ¨ä¸€ä¸ªé•¿åº¦ä¸º m çš„å›æ–‡å­å­—ç¬¦ä¸²ï¼Œåˆ™åˆ†åˆ«å†å‘è¯¥å›æ–‡çš„ä¸¤ç«¯å»¶ä¼¸ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶åˆ¤æ–­å›æ–‡å‰åçš„å­—ç¬¦æ˜¯å¦ç›¸åŒã€‚å¦‚æœç›¸åŒï¼Œå°±æ‰¾åˆ°äº†ä¸€ä¸ªé•¿åº¦ä¸º               m+2 çš„å›æ–‡å­å­—ç¬¦ä¸²ã€‚

ä¾‹å¦‚ï¼Œåœ¨å­—ç¬¦ä¸²"abcba"ä¸­ï¼Œä»ä¸­é—´çš„"c"å‡ºå‘å‘ä¸¤ç«¯å»¶ä¼¸ä¸€ä¸ªå­—ç¬¦ï¼Œç”±äº"c"å‰åéƒ½æ˜¯å­—ç¬¦'b'ï¼Œå› æ­¤æ‰¾åˆ°äº†ä¸€ä¸ªé•¿åº¦ä¸º3çš„å›æ–‡å­å­—ç¬¦ä¸²"bcb"ã€‚ç„¶åå‘ä¸¤ç«¯å»¶ä¼¸ä¸€ä¸ªå­—ç¬¦ï¼Œç”±äº"bcb"çš„å‰åéƒ½æ˜¯å­—ç¬¦'a'ï¼Œå› æ­¤åˆæ‰¾åˆ°ä¸€ä¸ªé•¿åº¦ä¸º5çš„å›æ–‡å­å­—ç¬¦ä¸²"abcba"ã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå›æ–‡çš„é•¿åº¦æ—¢å¯ä»¥æ˜¯å¥‡æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¶æ•°ã€‚é•¿åº¦ä¸ºå¥‡æ•°çš„å›æ–‡çš„å¯¹ç§°ä¸­å¿ƒåªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œé•¿åº¦ä¸ºå¶æ•°çš„å›æ–‡çš„å¯¹ç§°ä¸­å¿ƒæœ‰ä¸¤ä¸ªå­—ç¬¦ã€‚

```java
class Solution {
    public int countSubstrings(String s) {
        if (s == null || s.length() == 0) {
            return 0;
        }

        // å›æ–‡å­ä¸²çš„ä¸ªæ•°
        int count = 0;
        for (int i = 0; i < s.length(); i ++) {
            // å¥‡æ•°ï¼Œä»¥ s[i] ä¸ºä¸­å¿ƒ
            count += countPalindrome(s, i, i);
            // å¶æ•°ï¼Œä»¥ s[i] å’Œ s[i + 1] ä¸ºä¸­å¿ƒ
            count += countPalindrome(s, i, i + 1);
        }

        return count;
    }

    // å·¦é—­å³é—­(ä»¥ left å’Œ right ä¸ºä¸­å¿ƒåˆ†åˆ«å‘å·¦å³ä¸¤è¾¹æ‹“å±•)
    private int countPalindrome(String s, int left, int right) {
        // å›æ–‡å­ä¸²çš„ä¸ªæ•°
        int count = 0;

        while (left >= 0 && right < s.length()) {
            if (s.charAt(left) == s.charAt(right)) {
                // å‘å·¦æ‹“å±•
                left --;
                // å‘å³æ‹“å±•
                right ++;

                count ++;
            }
            // ä¸€æ—¦å‘ç°ä¸ä¸€æ ·ï¼Œåˆ™ç›´æ¥ breakï¼Œè‡³æ­¤æ˜¯ä»¥ left å’Œ right ä¸ºä¸­å¿ƒèƒ½æ‰¾åˆ°çš„æœ€é•¿å›æ–‡ä¸²äº†
            else {
                break;
            }
        }

        return count;
    }
}
```

æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(N^2)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

