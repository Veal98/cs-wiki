---
title: èºæ—‹çŸ©é˜µII
date: 2022-03-20 11:53:59
permalink: /pages/d02039/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[59. èºæ—‹çŸ©é˜µ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/spiral-matrix-ii/)

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° n ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° $n^2$ æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰**é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—**çš„ n x n æ­£æ–¹å½¢çŸ©é˜µ matrix ã€‚

ç¤ºä¾‹ 1ï¼š

![](https://assets.leetcode.com/uploads/2020/11/13/spiraln.jpg)

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š[[1,2,3],[8,9,4],[7,6,5]]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š[[1]]
```

## ğŸ”” è§£é¢˜æ€è·¯

æœ¬é¢˜æ²¡æœ‰ä»€ä¹ˆç®—æ³•æ€æƒ³å¯è¨€ï¼Œä¸»è¦æ€è·¯å°±æ˜¯æŒ‰ç…§èºæ—‹é¡ºåºå¯¹æ•°ç»„è¿›è¡Œå¾ªç¯èµ‹å€¼å°±è¡Œäº†ï¼Œå…¶éš¾ç‚¹å°±åœ¨äºè¾¹ç•Œçš„å¤„ç†ã€‚

> è¿™ç§çœ‹èµ·æ¥æ²¡å•¥å¥—è·¯ï¼Œç›´æ¥æŒ‰ç…§è¿‡ç¨‹è¿›è¡Œé€æ­¥æ±‚è§£çš„æ€æƒ³ï¼Œä¹Ÿæˆä¸º â€œ**æ¨¡æ‹Ÿæ³•**â€

é¡ºæ—¶é’ˆèºæ—‹çš„å››ä¸ªæ–¹å‘ï¼š

- ä»å·¦åˆ°å³
- ä»ä¸Šåˆ°ä¸‹
- ä»å³åˆ°å·¦
- ä»ä¸‹åˆ°ä¸Š

å…·ä½“è¿‡ç¨‹å’±ä¹Ÿä¸æ•´æ–‡å­—äº†ï¼Œç›´æ¥çœ‹å›¾å°±æ˜ç™½äº†ï¼š

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211009215558.png)

```java
class Solution {
    public int[][] generateMatrix(int n) {
        int[][] res = new int[n][n];

        // æœ€å·¦åˆ—
        int left = 0;
        // æœ€å³åˆ—
        int right = n - 1;
        // æœ€ä¸Šè¡Œ
        int up = 0;
        // æœ€ä¸‹è¡Œ
        int bottom = n - 1;

        // å½“å‰å¡«å……çš„æ•°
        int curNum = 1;

        // å¾ªç¯ n/2 æ¬¡
        while (curNum <= n * n) {
            // å·¦ -> å³ (è§¦ç¢°åˆ°å³è¾¹ç•Œåˆ™è½¬ä¸ºå‘ä¸‹éå†)
            for (int j = left; j <= right; j++) {
                res[up][j] = curNum++;
            }
            up++;

            // ä¸Š -> ä¸‹ (è§¦ç¢°åˆ°ä¸‹è¾¹ç•Œåˆ™è½¬ä¸ºå‘å·¦éå†)
            for (int j = up; j <= bottom; j++) {
                res[j][right] = curNum++;
            }
            right--;

            // å³ -> å·¦ (è§¦ç¢°åˆ°å·¦è¾¹ç•Œåˆ™è½¬ä¸ºå‘ä¸Šéå†)
            for (int j = right; j >= left; j--) {
                res[bottom][j] = curNum++;
            }
            bottom--;

            // ä¸‹ -> ä¸Š (è§¦ç¢°åˆ°ä¸Šè¾¹ç•Œåˆ™è½¬ä¸ºå‘å³éå†)
            for (int j = bottom; j >= up; j--) {
                res[j][left] = curNum++;
            }
            left++;
        }

        return res;
    }
}
```

> è¿™ä¸ªè§£æ³•ä¹Ÿç›´æ¥é€‚ç”¨äºè¿™é“é¢˜ï¼ŒåŸºæœ¬ä¸Šä¸€æ¨¡ä¸€æ ·ï¼š[54. èºæ—‹çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/spiral-matrix/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211009214832.png)

è¿˜æœ‰ä¸€ç§å†™èµ·æ¥æ¯”è¾ƒç®€å•çš„è§£æ³•ï¼š

```java
class Solution {
    public int[][] generateMatrix(int n) {
        int[][] res = new int[n][n];

        // å››ä¸ªæ–¹å‘: å³ä¸‹å·¦ä¸Š
        int[][] directions = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}};
        // æŒ‡å®šå“ªä¸ªæ–¹å‘
        int directionIndex = 0;

        // å½“å‰å¡«å……çš„æ•°
        int curNum = 1;
        // æœ€åä¸€ä¸ªæ•°
        int maxNum = n * n;

        // è¡Œæ•°
        int row = 0;
        // åˆ—æ•°
        int column = 0;

        while (curNum <= maxNum) {
            // å¡«å……ä¸€ä¸ªæ•°
            res[row][column] = curNum;
            curNum ++;

            // è‹¥ä¸‹ä¸€æ­¥çš„ä½ç½®è¶…å‡ºçŸ©é˜µè¾¹ç•Œï¼Œæˆ–è€…æ˜¯å·²ç»è¢«èµ‹è¿‡å€¼çš„ä½ç½®ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€ä¸ªæ–¹å‘
            int nextRow = row + directions[directionIndex][0];
            int nextColumn = column + directions[directionIndex][1];
            if (nextRow < 0 || nextRow >= n || nextColumn < 0 || nextColumn >= n || res[nextRow][nextColumn] != 0) {
                directionIndex = (directionIndex + 1) % 4;
            }

            // è¿›å…¥ä¸‹ä¸€ä¸ªä½ç½®
            row = row + directions[directionIndex][0];
            column = column + directions[directionIndex][1];
        }

        return res;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211009214705.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(N^2)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)
