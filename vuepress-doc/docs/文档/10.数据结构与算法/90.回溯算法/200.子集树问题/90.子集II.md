---
title: å­é›† II
date: 2021-12-17 11:43:00
permalink: /pages/0fa17a/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[90. å­é›† II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/subsets-ii/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­**å¯èƒ½åŒ…å«é‡å¤å…ƒç´ **ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ ä»»æ„é¡ºåº æ’åˆ—ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,2,2]
è¾“å‡ºï¼š[[],[1],[1,2],[1,2,2],[2],[2,2]]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[[],[0]]
```



## ğŸ”” è§£é¢˜æ€è·¯

å’Œä¸Šé¢˜ [78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/subsets/) çš„åŒºåˆ«å°±åœ¨äºï¼ŒåŒ…å«é‡å¤å…ƒç´ 

å¤§å®¶åº”è¯¥éƒ½çŸ¥é“æ€ä¹ˆåšäº†ï¼Œå‰é¢è®²è¿‡å¾ˆå¤šéå»é‡çš„å¥—è·¯äº†ï¼Œæ¯”å¦‚è¿™é“é¢˜ [40. ç»„åˆæ€»å’Œ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/combination-sum-ii/)

**å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨ä¸€ä¸ª used æ•°ç»„ç”¨æ¥æ ‡è¯†æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦ä½¿ç”¨è¿‡**

å‰ªææ¡ä»¶å°±æ˜¯ `i != 0 && nums[i] == nums[i - 1] && used[i - 1] == fasle`


```java
class Solution {
    private List<List<Integer>> res = new ArrayList<>();

    public List<List<Integer>> subsetsWithDup(int[] nums) {
        if (nums == null || nums.length == 0) {
            return res;
        }

        // å»é‡éœ€è¦å…ˆæ’åº
        Arrays.sort(nums);
        
        // æ ‡å¿—ä½ï¼Œä»å“ªä¸ªä½ç½®å¼€å§‹é€‰å–
        int start = 0;
        // æ ‡è¯†æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦ä½¿ç”¨è¿‡
        boolean[] used = new boolean[nums.length];
        List<Integer> track = new ArrayList<>();
        backtrack(nums, start, used, track);
        return res;
    }

    private void backtrack(int[] nums, int start, boolean[] used, List<Integer> track) {
        // æ”¶é›†å­é›†
        res.add(new ArrayList<>(track));
        

        // éå†é€‰æ‹©åˆ—è¡¨
        for (int i = start; i < nums.length; i ++) {
            // å‰ªæ
            if (i != 0 && nums[i] == nums[i - 1] && !used[i - 1]) {
                continue;
            }

            // åšé€‰æ‹©
            track.add(nums[i]);
            used[i] = true;
            // è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘
            backtrack(nums, i + 1, used, track);
            // å›æº¯
            track.remove(track.size() - 1);
            used[i] = false;
        }
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211217115208.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)
- æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸ªå…ƒç´ æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€å…± n ä¸ªå…ƒç´ (ä¹Ÿå°±æ˜¯é€’å½’çš„æœ€å¤§å±‚æ•°ï¼Œå½“ç„¶äº†ï¼Œ**ç”±äºå‰ªæçš„å­˜åœ¨ï¼Œå®é™…ä¸Šå¯èƒ½å¹¶ä¸ä¼šé€’å½’åˆ°è¿™ä¹ˆå¤šå±‚**)ï¼Œæ—¶é—´å¤æ‚åº¦ $O(2^n)$ï¼Œå°† track åŠ å…¥ res éœ€è¦æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ $O(n * 2^n)$â€‹

