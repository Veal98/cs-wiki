---
title: é“¾è¡¨æ’åº
date: 2022-03-20 11:54:00
permalink: /pages/f20ec4/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 077. é“¾è¡¨æ’åº - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/7WHec2/)
- [148. æ’åºé“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/sort-list/)

ç»™å®šé“¾è¡¨çš„å¤´ç»“ç‚¹ head ï¼Œè¯·å°†å…¶æŒ‰ å‡åº æ’åˆ—å¹¶è¿”å› æ’åºåçš„é“¾è¡¨ ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šhead = [4,2,1,3]
è¾“å‡ºï¼š[1,2,3,4]
```

![img](https://assets.leetcode.com/uploads/2020/09/14/sort_list_1.jpg)

## ğŸ”” è§£é¢˜æ€è·¯

å½’å¹¶æ’åºï¼šå°†é“¾è¡¨åˆ†æˆä¸¤ä¸ªå­é“¾è¡¨ï¼Œåœ¨å¯¹ä¸¤ä¸ªå­é“¾è¡¨æ’åºåå†å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæ’åºçš„é“¾è¡¨

æˆ‘ä»¬éœ€è¦å°†é“¾è¡¨åˆ†æˆä¸¤åŠï¼Œè¿™é‡Œå¯ä»¥é‡‡ç”¨ä¹‹å‰è®²è¿‡çš„å¿«æ…¢æŒ‡é’ˆæ³•


```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode sortList(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }

        // ä¸¤ä¸¤æ¯”è¾ƒçš„ç¬¬ä¸€ä¸ªå­é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        ListNode head1 = head;
        // ä¸¤ä¸¤æ¯”è¾ƒçš„ç¬¬äºŒä¸ªå­é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        ListNode head2 = split(head);

        // 1. æ’åºä¸¤ä¸ªé•¿åº¦ä¸º n/2 çš„å­é“¾è¡¨
        head1 = sortList(head1);
        head2 = sortList(head2);

        // 2. ç„¶ååˆå¹¶ä¸¤ä¸ªæ’åºåçš„å­é“¾è¡¨
        return merge(head1, head2);
    }

    // å°†é“¾è¡¨åˆ†æˆä¸¤åŠï¼Œå¹¶è¿”å›ç¬¬äºŒåŠé“¾è¡¨çš„å¤´èŠ‚ç‚¹
    private ListNode split(ListNode head) {
        ListNode fast = head;
        ListNode slow = head;
        // slow çš„å‰é©±èŠ‚ç‚¹
        ListNode pre = head;

        while (fast != null && fast.next != null) {
            pre = slow;
            slow = slow.next;
            fast = fast.next.next;
        }

        // æ–­å¼€ç¬¬ä¸€åŠå’Œç¬¬äºŒåŠçš„è¿æ¥
        pre.next = null;

        // è¿”å›ç¬¬äºŒåŠé“¾è¡¨çš„å¤´èŠ‚ç‚¹
        return slow;
    }

    // åˆå¹¶ä¸¤ä¸ªé“¾è¡¨
    private ListNode merge(ListNode head1, ListNode head2) {
        // æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        ListNode dummy = new ListNode(-1);
        ListNode cur = dummy;

        while (head1 != null && head2 != null) {
            if (head1.val < head2.val) {
                cur.next = head1;
                head1 = head1.next;
            }
            else {
                cur.next = head2;
                head2 = head2.next;
            }

            cur = cur.next;
        }

        // å¤„ç†ä¸¤ä¸ªé“¾è¡¨ä¸­è¾ƒé•¿çš„é‚£ä¸€æ®µ
        cur.next = (head1 == null) ? head2 : head1;

        return dummy.next;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

