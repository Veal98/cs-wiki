---
title: å¯¹ç§°äºŒå‰æ ‘
date: 2021-11-15 15:58:24
permalink: /pages/577e2e/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[101. å¯¹ç§°äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/symmetric-tree/)

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„ã€‚

 

ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚

```
    1
   / \
  2   2
 / \ / \
3  4 4  3
```

ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:

```
    1
   / \
  2   2
   \   \
   3    3
```

## ğŸ”” è§£é¢˜æ€è·¯

### é€’å½’

é€’å½’ä¸‰éƒ¨æ›²

1. ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼

å› ä¸ºæˆ‘ä»¬è¦æ¯”è¾ƒçš„æ˜¯æ ¹èŠ‚ç‚¹çš„ä¸¤ä¸ªå­æ ‘æ˜¯å¦æ˜¯ç›¸äº’ç¿»è½¬çš„ï¼Œè¿›è€Œåˆ¤æ–­è¿™ä¸ªæ ‘æ˜¯ä¸æ˜¯å¯¹ç§°æ ‘ï¼Œæ‰€ä»¥è¦æ¯”è¾ƒçš„å…¶å®å°±æ˜¯æ ¹èŠ‚ç‚¹çš„ä¸¤ä¸ªå­æ ‘ï¼Œå‚æ•°è‡ªç„¶ä¹Ÿæ˜¯å·¦å­æ ‘èŠ‚ç‚¹å’Œå³å­æ ‘èŠ‚ç‚¹ã€‚è¿”å›å€¼è‡ªç„¶æ˜¯ boolean ç±»å‹ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```text
bool compare(TreeNode* left, TreeNode* right)
```

2. ç¡®å®šç»ˆæ­¢æ¡ä»¶

è¦æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹(ä¸¤æ£µæ ‘çš„æ ¹èŠ‚ç‚¹)æ•°å€¼ç›¸ä¸ç›¸åŒï¼ˆå¦‚æœä¸¤æ£µæ ‘çš„æ ¹èŠ‚ç‚¹éƒ½ä¸ä¸€æ ·ï¼Œé‚£è¿™ä¸¤æ£µæ ‘ä¸€å®šä¸æ˜¯å¯¹ç§°çš„ï¼‰ï¼Œé¦–å…ˆè¦æŠŠä¸¤ä¸ªèŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µå¼„æ¸…æ¥šï¼å¦åˆ™åé¢æ¯”è¾ƒæ•°å€¼çš„æ—¶å€™å°±ä¼šæ“ä½œç©ºæŒ‡é’ˆäº†ã€‚

èŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µæœ‰ï¼š

- å·¦å³éƒ½ä¸ºç©ºï¼Œå¯¹ç§°ï¼Œè¿”å›true
- å·¦èŠ‚ç‚¹ä¸ºç©ºï¼Œå³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œæˆ–è€…å·¦ä¸ä¸ºç©ºï¼Œå³ä¸ºç©ºï¼Œä¸å¯¹ç§°ï¼Œreturn false

æ­¤æ—¶å·²ç»æ’é™¤æ‰äº†èŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºçš„æƒ…å†µï¼š

- å·¦å³éƒ½ä¸ä¸ºç©ºï¼Œæ¯”è¾ƒèŠ‚ç‚¹æ•°å€¼ï¼Œä¸ç›¸åŒå°± return false

æ­¤æ—¶å·¦å³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ä¹Ÿä¸ç›¸åŒçš„æƒ…å†µæˆ‘ä»¬ä¹Ÿå¤„ç†äº†ã€‚

æœ€åï¼Œå‰©ä¸‹çš„å°±æ˜¯ left == right çš„æƒ…å†µï¼Œå¯ä»¥å¼€å§‹åˆ¤æ–­è¿™ä¸¤æ£µå­æ ‘æ˜¯å¦å¯¹ç§°äº†

3. ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘

æ­¤æ—¶æ‰è¿›å…¥å•å±‚é€’å½’çš„é€»è¾‘ï¼Œå•å±‚é€’å½’çš„é€»è¾‘å°±æ˜¯å¤„ç† å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ç›¸åŒçš„æƒ…å†µã€‚

- æ¯”è¾ƒäºŒå‰æ ‘å¤–ä¾§æ˜¯å¦å¯¹ç§°ï¼šä¼ å…¥çš„æ˜¯å·¦èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œå³èŠ‚ç‚¹çš„å³å­©å­ã€‚
- æ¯”è¾ƒå†…ä¾§æ˜¯å¦å¯¹ç§°ï¼Œä¼ å…¥å·¦èŠ‚ç‚¹çš„å³å­©å­ï¼Œå³èŠ‚ç‚¹çš„å·¦å­©å­ã€‚
- å¦‚æœå·¦å³éƒ½å¯¹ç§°å°±è¿”å› true ï¼Œæœ‰ä¸€ä¾§ä¸å¯¹ç§°å°±è¿”å› false

å¦‚ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä½¿ç”¨çš„éå†æ–¹å¼ï¼Œ**å·¦å­æ ‘å·¦å³ä¸­ï¼Œå³å­æ ‘å³å·¦ä¸­**ï¼Œæ‰€ä»¥æˆ‘æŠŠè¿™ä¸ªéå†é¡ºåºä¹Ÿç§°ä¹‹ä¸º â€œ**ååºéå†**â€ï¼ˆå°½ç®¡ä¸æ˜¯ä¸¥æ ¼çš„ååºéå†ï¼‰ã€‚


```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        if (root == null) {
            return true;
        }
        return compare(root.left, root.right);
    }

    /**
     * @param left root å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹
     * @param right root å³å­æ ‘çš„æ ¹èŠ‚ç‚¹
     * @return
     */
    private boolean compare(TreeNode left, TreeNode right) {
        if (left == null && right == null) {
            return true;
        }
        // å‰©ä¸‹çš„å°±æ˜¯ left å’Œ right éƒ½ä¸ä¸º null æˆ–è€…æœ‰ä¸€ä¸ªä¸º null çš„æƒ…å†µ
        else if (left == null || right == null) {
            return false;
        }
        // å‰©ä¸‹çš„å°±æ˜¯ left å’Œ right éƒ½ä¸ä¸º null çš„æƒ…å†µ
        else if (left.val != right.val) {
            return false;
        }

        // å‰©ä¸‹çš„å°±æ˜¯ left == right çš„æƒ…å†µï¼Œå¯ä»¥å¼€å§‹åˆ¤æ–­è¿™ä¸¤æ£µå­æ ‘æ˜¯å¦å¯¹ç§°äº†
        // 1. å¤–ä¾§èŠ‚ç‚¹(å·¦å­æ ‘çš„å·¦èŠ‚ç‚¹ï¼Œå³å­æ ‘çš„å³èŠ‚ç‚¹)
        boolean outside = compare(left.left, right.right);
        // 2. å†…ä¾§èŠ‚ç‚¹(å·¦å­æ ‘çš„å³èŠ‚ç‚¹ï¼Œå³å­æ ‘çš„å·¦èŠ‚ç‚¹)
        boolean inside = compare(left.right, right.left);

        return outside && inside;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211115164052.png)

### è¿­ä»£

è¿™ä¸€é¢˜è¿­ä»£çš„æ€è·¯å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œé€šè¿‡é˜Ÿåˆ—æ¥åˆ¤æ–­æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„å†…ä¾§å’Œå¤–ä¾§æ˜¯å¦ç›¸ç­‰ï¼Œæˆå¯¹åœ°å°†å·¦å³å­æ ‘ä¸­è¦æ¯”è¾ƒçš„å…ƒç´ é¡ºåºæ”¾è¿›ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œå¦‚æœç›¸åŒåˆ™è¡¨ç¤ºå¯¹ç§°

ä»£ç å¦‚ä¸‹ï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        if (root == null) {
            return true;
        }

        Queue<TreeNode> queue = new LinkedList<>();
        queue.offer(root.left);
        queue.offer(root.right);

        while (!queue.isEmpty()) {
            TreeNode left = queue.poll();
            TreeNode right = queue.poll();

            if (left == null && right == null) {
                // æ³¨æ„è¿™æ˜¯ continue è€Œä¸æ˜¯ return true
                continue;
            }
            // å‰©ä¸‹çš„å°±æ˜¯ left å’Œ right éƒ½ä¸ä¸º null æˆ–è€…æœ‰ä¸€ä¸ªä¸º null çš„æƒ…å†µ
            else if (left == null || right == null) {
                return false;
            }
            // å‰©ä¸‹çš„å°±æ˜¯ left å’Œ right éƒ½ä¸ä¸º null çš„æƒ…å†µ
            else if (left.val != right.val) {
                return false;
            }
            // å‰©ä¸‹çš„å°±æ˜¯ left == right çš„æƒ…å†µï¼Œç›´æ¥å…¥é˜Ÿè¿›å…¥ä¸‹ä¸€è½®å¤„ç†
            // å¤–ä¾§èŠ‚ç‚¹æˆå¯¹å…¥é˜Ÿ
            queue.offer(left.left);
            queue.offer(right.right);
            // å†…ä¾§èŠ‚ç‚¹æˆå¯¹å…¥é˜Ÿ
            queue.offer(left.right);
            queue.offer(right.left);
        }

        return true;
    }

}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211115164248.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šé€’å½’å’Œè¿­ä»£æ³•çš„ç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ O(LogN)ï¼Œå› ä¸ºé€’å½’åº•å±‚å…¶å®è°ƒç”¨äº†æ ˆç©ºé—´
- æ—¶é—´å¤æ‚åº¦ï¼šé€’å½’å’Œè¿­ä»£æ³•çš„æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»…ä¼šè¢«å¤„ç†åˆ°ä¸¤æ¬¡ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)

