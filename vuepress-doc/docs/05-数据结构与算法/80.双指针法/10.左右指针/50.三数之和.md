---
title: ä¸‰æ•°ä¹‹å’Œ
date: 2021-09-26 15:07:37
permalink: /pages/62f674/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 007. æ•°ç»„ä¸­å’Œä¸º 0 çš„ä¸‰ä¸ªæ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/1fGaJU/)
- [15. ä¸‰æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/3sum/)

ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = []è¾“å‡ºï¼š[]
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šnums = [0]è¾“å‡ºï¼š[]
```

## ğŸ”” è§£é¢˜æ€è·¯

### å“ˆå¸Œè¡¨

å›é¡¾ä¸‹ [1. ä¸¤æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/two-sum/) å’Œ [454. å››æ•°ç›¸åŠ  II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/4sum-ii/)ï¼Œæ€»çš„æ€æƒ³éƒ½æ˜¯**å›ºå®šä¸€åŠï¼Œç„¶åå»æ‰¾å¦ä¸€åŠ**ã€‚å¯¹äºè¿™é“é¢˜ç›®ï¼Œæ‰¾å‡ºä¸€ä¸ªæ•°ç»„ä¸­çš„ä¸‰ä¸ªæ•°ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å›ºå®š a å’Œ bï¼Œå»æ‰¾ cã€‚å…·ä½“æ¥è¯´ï¼Œå…ˆå°†è¿™ä¸ªæ•°ç»„å­˜å…¥ mapï¼Œç„¶ååˆ©ç”¨ä¸¤ä¸ª for å¾ªç¯æ±‚å‡º a å’Œ b ä¹‹å’Œï¼Œåˆ¤æ–­ 0-(a+b) ä¹Ÿå°±æ˜¯ c æ˜¯å¦åœ¨ map é‡Œå‡ºç°è¿‡å³å¯ï¼ˆå¹¶ä¸”è¿™ä¸ª 0-(a+b) è¿˜å¾—åœ¨ b çš„å³è¾¹ï¼‰ï¼‰ã€‚

å…·ä½“çš„ç»†èŠ‚æ¥è¯´ï¼Œç”±äºéœ€è¦é¿å…é‡å¤å…ƒç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹æ•°ç»„è¿›è¡Œä¸€ä¸ªæ’åºï¼Œå¾ªç¯çš„è¿‡ç¨‹ä¸­è·³è¿‡é‡å¤å…ƒç´ ã€‚


```java
class Solution {

    private final static Integer TARGET = 0;

    public List<List<Integer>> threeSum(int[] nums) {
        // å­˜å‚¨ä¸‰å…ƒç»„
        List<List<Integer>> res = new ArrayList<>();

        if (nums == null || nums.length < 3) {
            return res;
        }

        // å¯¹æ•°ç»„è¿›è¡Œæ’åº
        Arrays.sort(nums);

        // å°†æ•°ç»„å­˜å…¥ map, ç›¸ç­‰çš„å€¼åªä¼šæ”¾è¿›å»ä¸€ä¸ª, i ä¸ºä¸‹æ ‡
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < nums.length; i ++) {
            map.put(nums[i], i);
        }

        // ä¸¤å±‚å¾ªç¯å›ºå®š a å’Œ b
        // éå†è·å¾— a
        for (int i = 0; i < nums.length; i ++) {
            // è‹¥ nums[i] > 0ï¼Œç”±äºæ•°ç»„å·²ç»æœ‰åºï¼Œæ‰€ä»¥å®ƒåé¢çš„ä¸€å®šä¹Ÿ > 0ï¼Œç›´æ¥è¿”å›ï¼Œé‚£ä¹ˆä¸€å®šä¸å¯èƒ½æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ•°ä¸º nums[i] ä¸”å’Œä¸º 0 çš„ä¸‰å…ƒç»„äº†
            if (nums[i] > 0) {
                break;
            }

            // å¯¹ a è¿›è¡Œå»é‡
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }

            // éå†è·å¾— b
            for (int j = i + 1; j < nums.length; j ++) {
                // å¯¹ b è¿›è¡Œå»é‡
                if (j > i + 1 && nums[j] == nums[j - 1]) {
                    continue;
                }

                int c = TARGET - nums[i] - nums[j];
                // å°è¯•ä»å“ˆå¸Œè¡¨ä¸­è·å–ç¬¬ä¸‰ä¸ªæ•°å­— c, è‹¥å­˜åœ¨ï¼Œå¹¶ä¸”ç¬¬ä¸‰ä¸ªæ•°å­—éœ€è¦åœ¨ç¬¬äºŒä¸ªæ•°å­—å³ä¾§(é˜²æ­¢é‡å¤)
                if (map.containsKey(c) && map.get(c) > j) {
                    res.add(Arrays.asList(nums[i], nums[j], c));
                }
            }
        }

        return res;
    }
}
```

éœ€è¦æ³¨æ„çš„å°±æ˜¯å¯¹ a å’Œ b éƒ½è¦è¿›è¡Œå»é‡æ“ä½œï¼š

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220614115515.png)

- ç©ºé—´å¤æ‚åº¦ï¼šO(N^2)ï¼ˆå¦‚æœæˆ‘ä»¬å¿½ç•¥æ‰ç”¨äºå­˜å‚¨ç­”æ¡ˆçš„ç©ºé—´ï¼Œé‚£ä¹ˆè¯¥ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸»è¦æ¥è‡ªäºæ’åºï¼Œé¢å¤–çš„æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º O(logN)ï¼‰
- æ—¶é—´å¤æ‚åº¦ï¼šæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogn)ï¼Œä¸¤å±‚å¾ªç¯å¤„ç†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N^2)ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)

### åŒæŒ‡é’ˆ

åŒæŒ‡é’ˆæ³•åšè¿™é“é¢˜ç›®ä¼šæ›´ç®€å•ã€‚æ€è·¯å¦‚ä¸‹ï¼š

1ï¼‰å¯¹æ•°ç»„è¿›è¡Œæ’åº

2ï¼‰éå†æ’åºåçš„æ•°ç»„

- è‹¥ nums[i] > 0ï¼Œç”±äºæ•°ç»„å·²ç»æœ‰åºï¼Œæ‰€ä»¥å®ƒåé¢çš„ä¸€å®šä¹Ÿ > 0ï¼Œç›´æ¥è¿”å›
- å¯¹äºé‡å¤å…ƒç´ ï¼Œè·³è¿‡
- ä¸¤ä¸ªæŒ‡é’ˆï¼Œå·¦æŒ‡é’ˆ left æŒ‡å‘ i + 1ï¼Œå¦ä¸€ä¸ªå³æŒ‡é’ˆ right æŒ‡å‘æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼š
  - è‹¥ nums[i] + nums[left] + nums[right] = 0ï¼Œè¯´æ˜è¿™ä¸‰ä¸ªå°±æ˜¯ç¬¦åˆè¦æ±‚çš„å…ƒç»„ã€‚ç„¶å left ++ï¼Œright -- å¯»æ‰¾æ–°çš„è§£ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**åœ¨ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œè®°å¾—è¿›è¡Œå»é‡ï¼Œè·³è¿‡é‡å¤å…ƒç´ **ï¼‰
  - è‹¥ nums[i] + nums[left] + nums[right]  < 0ï¼Œleft ++
  - è‹¥ nums[i] + nums[left] + nums[right]  > 0ï¼Œright --

> å•å±‚ for å¾ªç¯å›ºå®šä¸€ä¸ªå…ƒç´ ï¼Œç„¶åç”¨åŒæŒ‡é’ˆæ³•æ‰¾å‰©ä¸‹çš„ä¸¤ä¸ªå…ƒç´ ï¼ˆå‰ææ˜¯æ•°ç»„æœ‰åºï¼‰ã€‚


```java
class Solution {

    private final static Integer TARGET = 0;

    public List<List<Integer>> threeSum(int[] nums) {
        // å­˜å‚¨ä¸‰å…ƒç»„
        List<List<Integer>> res = new ArrayList<>();

        if (nums == null || nums.length < 3) {
            return res;
        }

        // 1. å¯¹æ•°ç»„è¿›è¡Œæ’åº
        Arrays.sort(nums);

        // 2. éå†å¤„ç†æ•°ç»„
        for (int i = 0; i < nums.length; i ++) {
            if (nums[i] > 0) {
                break;
            }
            // è·³è¿‡é‡å¤å…ƒç´ 
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }

            // å·¦å³æŒ‡é’ˆ
            int left = i + 1;
            int right = nums.length - 1;
            while (left < right) {
                int sum = nums[i] + nums[left] + nums[right];
                if (sum == 0) {
                    res.add(Arrays.asList(nums[i], nums[left], nums[right]));

                    // è·³è¿‡é‡å¤å…ƒç´ 
                    while (left < right && nums[left] == nums[left + 1]) {
                        left ++;
                    }
                    while (left < right && nums[right] == nums[right - 1]) {
                        right --;
                    }

                    // å¼€å§‹å¯»æ‰¾æ–°çš„è§£
                    left ++;
                    right --;
                } else if (sum < 0) {
                    left ++;
                } else {
                    right --;
                }
            }
        }

        return res;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210926154010.png)

å’Œå“ˆå¸Œè¡¨è§£æ³•çš„è¿è¡Œæ—¶é—´å¯¹æ¯”ä¸‹ï¼š

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210917232226.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(N^2)ï¼ˆå¦‚æœæˆ‘ä»¬å¿½ç•¥æ‰ç”¨äºå­˜å‚¨ç­”æ¡ˆçš„ç©ºé—´ï¼Œé‚£ä¹ˆè¯¥ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸»è¦æ¥è‡ªäºæ’åºï¼Œé¢å¤–çš„æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º O(logN)ï¼‰
- æ—¶é—´å¤æ‚åº¦ï¼šfor å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦ O(N)ï¼Œå…¶ä¸­åŒæŒ‡é’ˆéå†çš„æ—¶é—´å¤æ‚åº¦ O(N)ï¼Œæ‰€ä»¥æ˜¯ O(N^2)

## ğŸš åŠ é¤

å„ä½æ€è€ƒä¸‹ï¼Œå¯¹äºè¿™é“ä¹‹å‰ç”¨å“ˆå¸Œè¡¨åšçš„é¢˜ [1. ä¸¤æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/two-sum/)ï¼Œå’±èƒ½ç”¨åŒæŒ‡é’ˆå—ï¼Ÿ

ç­”æ¡ˆæ˜¯ä¸èƒ½çš„ã€‚

å› ä¸ºæˆ‘ä»¬éœ€è¦éå†ä¸€ä¸ªæœ‰åºçš„æ•°ç»„ï¼Œè€Œé¢˜ç›®ç»™çš„ä¸æ˜¯ä¸€ä¸ªæœ‰åºçš„æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿›è¡Œæ’åºã€‚

ä½†æ˜¯ï¼Œé¢˜ç›®è¦æ±‚è¿”å›çš„æ˜¯ä¸‹æ ‡ï¼Œé‚£æ’åºå®Œäº†ä¸‹æ ‡éƒ½ä¹±äº†ã€‚
