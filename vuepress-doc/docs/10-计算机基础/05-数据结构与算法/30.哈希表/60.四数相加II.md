---
title: å››æ•°ç›¸åŠ  II
date: 2021-09-16 16:03:17
permalink: /pages/9cd8af/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[454. å››æ•°ç›¸åŠ  II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/4sum-ii/)

ç»™å®šå››ä¸ªåŒ…å«æ•´æ•°çš„æ•°ç»„åˆ—è¡¨ A , B , C , D ,è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ (i, j, k, l) ï¼Œä½¿å¾— A[i] + B[j] + C[k] + D[l] = 0ã€‚

ä¸ºäº†ä½¿é—®é¢˜ç®€å•åŒ–ï¼Œ**æ‰€æœ‰çš„ A, B, C, D å…·æœ‰ç›¸åŒçš„é•¿åº¦ N**ï¼Œä¸” 0 â‰¤ N â‰¤ 500 ã€‚æ‰€æœ‰æ•´æ•°çš„èŒƒå›´åœ¨ $-2^{28}$ åˆ° $2^{28} - 1$ ä¹‹é—´ï¼Œæœ€ç»ˆç»“æœä¸ä¼šè¶…è¿‡ $2^{31} - 1$ ã€‚

ä¾‹å¦‚:

è¾“å…¥:

```
A = [ 1, 2]
B = [-2,-1]
C = [-1, 2]
D = [ 0, 2]
```

è¾“å‡º:

```
2
```

è§£é‡Š:

ä¸¤ä¸ªå…ƒç»„å¦‚ä¸‹:

1. (0, 0, 0, 1) -> A[0] + B[0] + C[0] + D[1] = 1 + (-2) + (-1) + 2 = 0
2. (1, 1, 0, 0) -> A[1] + B[1] + C[0] + D[0] = 2 + (-1) + (-1) + 0 = 0

## ğŸ”” è§£é¢˜æ€è·¯

æ³¨æ„è¿”å›å€¼æ˜¯æ»¡è¶³æ¡ä»¶çš„å…ƒç»„çš„ä¸ªæ•°ã€‚

æœ¬é¢˜æ¶‰åŠå››ä¸ªæ•°ç»„ï¼Œæš´åŠ›è§£æ³•å°±æ˜¯å››å±‚å¾ªç¯ï¼Œæ˜¾ç„¶ä¸å¯å–ï¼Œæˆ‘ä»¬è€ƒè™‘**ä¸¤ä¸¤å¤„ç†**çš„æ–¹å¼ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

é¦–å…ˆå®šä¹‰å˜é‡ countï¼Œç”¨æ¥ç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„å…ƒç»„çš„ä¸ªæ•°ï¼Œå³ï¼ˆa+bï¼‰+ï¼ˆc+dï¼‰= 0 å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åï¼š

1ï¼‰**å…ˆå¤„ç† A æ•°ç»„å’Œ B æ•°ç»„**ï¼š

- å®šä¹‰ä¸€ä¸ª Mapï¼Œkey å­˜æ”¾ a å’Œ b ä¸¤æ•°ä¹‹å’Œï¼Œvalue å­˜æ”¾ a å’Œ b ä¸¤æ•°ä¹‹å’Œå‡ºç°çš„æ¬¡æ•°
- éå† A å’Œ B æ•°ç»„ï¼Œç»Ÿè®¡ä¸¤ä¸ªæ•°ç»„å…ƒç´ ä¹‹å’Œä»¥åŠå‡ºç°çš„æ¬¡æ•°ï¼Œæ”¾åˆ° map ä¸­

2ï¼‰**å†å¤„ç† C æ•°ç»„å’Œ D æ•°ç»„**

- éå† C å’Œ D æ•°ç»„ï¼Œå¦‚æœ 0-(c+d) è¿™ä¸ª key åœ¨ map ä¸­å‡ºç°è¿‡çš„è¯ï¼Œå³è¡¨ç¤ºè¿™ a b c d æ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç»„ï¼Œcount åŠ ä¸Š map ä¸­ key æ˜¯ 0-(c+d) å¯¹åº”çš„ value å³å¯


```java
class Solution {
    public int fourSumCount(int[] nums1, int[] nums2, int[] nums3, int[] nums4) {
        int count = 0;  

        // key å­˜æ”¾ a å’Œ b ä¸¤æ•°ä¹‹å’Œï¼Œvalue å­˜æ”¾ a å’Œ b ä¸¤æ•°ä¹‹å’Œå‡ºç°çš„æ¬¡æ•°
        Map<Integer, Integer> map = new HashMap<>();

        // å¤„ç† A æ•°ç»„å’Œ B æ•°ç»„
        for (int a : nums1) {
            for (int b : nums2) {
                int temp = a + b;
                map.put(temp, map.getOrDefault(temp, 0) + 1);
            }
        }

        // å†å¤„ç† C æ•°ç»„å’Œ D æ•°ç»„
        for (int c : nums3) {
            for (int d : nums4) {
                int temp = c + d;
                // å¦‚æœ 0-(c+d) è¿™ä¸ª key åœ¨ map ä¸­å‡ºç°è¿‡çš„è¯, å³è¡¨ç¤ºè¿™ a b c d æ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç»„
                if (map.containsKey(0 - temp)) {
                    count += map.get(0 - temp);
                }
            }
        }

        return count;
    
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210916164355.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šHasMap ä¸­å¤„ç†äº†ä¸¤ä¸ªæ•°ç»„çš„æ‰€æœ‰ç»„åˆï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º O(N^2)
- æ—¶é—´å¤æ‚åº¦ï¼šä¸€å…±ä¸¤ä¸ªä¸¤å±‚å¾ªç¯ï¼ŒO(N^2) + O(N^2) = O(N^2)