---
title: å‰‘æŒ‡ Offer 43 - 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°
date: 2022-10-09 22:28:27
permalink: /pages/84d4be/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°](https://leetcode.cn/problems/1nzheng-shu-zhong-1chu-xian-de-ci-shu-lcof/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20221009222908975.png)

æ³¨æ„è¿™é‡Œæ˜¯åè¿›åˆ¶ï¼Œè€Œä¸æ˜¯äºŒè¿›åˆ¶ï¼

## ğŸ”” è§£é¢˜æ€è·¯

ç›´æ¥çœ‹ [LeetCode å®˜æ–¹é¢˜è§£](https://leetcode.cn/problems/1nzheng-shu-zhong-1chu-xian-de-ci-shu-lcof/solution/1n-zheng-shu-zhong-1-chu-xian-de-ci-shu-umaj8/) å°±è¡Œ 

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20221009223035124.png)

æˆ‘ä»¬å¯ä»¥ä»å°åˆ°å¤§æšä¸¾ kã€‚å¦‚æœ nâ‰¥10^kï¼Œè¯´æ˜ n åŒ…å« 10^k å¯¹åº”çš„æ•°ä½ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—è¿™ä¸€æ•°ä½ 1 çš„ä¸ªæ•°å¹¶ç´¯åŠ ï¼Œå¦åˆ™é€€å‡ºæšä¸¾ï¼ˆæ¯”å¦‚ n>=10^2(100)ï¼Œè¯´æ˜ n æ˜¯æœ‰ç™¾ä½çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—ä» 1 ~ n ç™¾ä½ä¸Š 1 çš„ä¸ªæ•°ï¼‰ã€‚


```java
class Solution {
    public int countDigitOne(int n) {
        int count = 0;
        
		// k = 0 è¡¨ç¤ºä¸ªä½ï¼Œk = 10 è¡¨ç¤ºåä½......
        for (int k = 0; n >= Math.pow(10, k); k ++) {
            long mulk = (long) Math.pow(10, k);
            count += (n / (mulk * 10)) * mulk;

            // å‰©ä¸‹æ•°çš„æœ€é«˜ä½æœ‰å¤šå°‘ä¸ª 1
            long rest = n % (mulk * 10);
            // if (rest < mulk) {
            //     count += 0;
            // }
            if (rest >= mulk && rest < mulk + mulk) {
                count += rest - mulk + 1;
            }
            else if (rest >= mulk + mulk) {
                count += mulk;
            }
        }

        return count;
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)
- æ—¶é—´å¤æ‚åº¦ï¼šO(LogN)