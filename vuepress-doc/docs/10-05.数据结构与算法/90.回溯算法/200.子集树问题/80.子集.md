---
title: å­é›†
date: 2021-12-17 11:32:49
permalink: /pages/029ccd/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 079. æ‰€æœ‰å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/TVdhkn/)
- [78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/subsets/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  **äº’ä¸ç›¸åŒ**ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è§£é›†ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[[],[0]]
```

## ğŸ”” è§£é¢˜æ€è·¯

ä¹‹å‰æˆ‘ä»¬æ€»ç»“è¿‡çš„å­é›†æ ‘é—®é¢˜å›æº¯æ³•æ¨¡æ¿ï¼š

```java
result = []
def backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, æ ‡å¿—ä½):
    if æ»¡è¶³ç»“æŸæ¡ä»¶:
        result.add(è·¯å¾„)
        return

    for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
        æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰
        åšé€‰æ‹©
        è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘ backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, æ ‡å¿—ä½ + 1 ç­‰ éšæœºåº”å˜)
        æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
```

è¿™é¢˜çš„ä¸åŒä¹‹å¤„å°±åœ¨äºï¼Œé¦–å…ˆï¼Œ**æ²¡æœ‰åŠæ³•åšå‰ªæï¼Œå› ä¸ºæˆ‘ä»¬å°±æ˜¯è¦éå†æ•´æ£µæ ‘ï¼Œå°±æ˜¯éœ€è¦æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼ï¼ï¼å› ä¸ºå­é›†ä¸­çš„å…ƒç´ ä¸ªæ•°æ²¡æœ‰é™åˆ¶ï¼**

å…¶æ¬¡ï¼Œ **result.add(è·¯å¾„) å¾—æ”¾åœ¨ç»“æŸæ¡ä»¶åˆ¤æ–­ä¹‹å‰ï¼Œå¦åˆ™å¯èƒ½ä¼šæ¼æ‰è‡ªå·±**

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211217113604.png)


```java
class Solution {
    
    private List<List<Integer>> res = new ArrayList<>();

    public List<List<Integer>> subsets(int[] nums) {
        if (nums == null || nums.length == 0) {
            return res;
        }

        // æ ‡å¿—ä½ï¼Œä»å“ªä¸ªä½ç½®å¼€å§‹é€‰å–
        int start = 0;
        List<Integer> track = new ArrayList<>();
        backtrack(nums, start, track);
        return res;
    }

    private void backtrack(int[] nums, int start, List<Integer> track) {
        // æ”¶é›†å­é›†ï¼Œè¦æ”¾åœ¨ç»“æŸæ¡ä»¶çš„ä¸Šé¢ï¼Œå¦åˆ™ä¼šæ¼æ‰è‡ªå·±
        res.add(new ArrayList<>(track));
        // ç»“æŸæ¡ä»¶
        if (start == nums.length) {
            return;
        }

        // éå†é€‰æ‹©åˆ—è¡¨
        for (int i = start; i < nums.length; i ++) {
            // å‰ªæï¼ˆæ²¡æ³•åšï¼‰

            // åšé€‰æ‹©
            track.add(nums[i]);
            // è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘
            backtrack(nums, i + 1, track);
            // å›æº¯
            track.remove(track.size() - 1);
        }
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220125112158.png)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211217113625.png)

äº‹å®ä¸Šï¼Œ**ç»“æŸæ¡ä»¶å°±å¯ä»¥ç›´æ¥å»æ‰äº†ï¼Œå› ä¸º start == nums.lengthï¼Œæœ¬å±‚ for å¾ªç¯æœ¬æ¥ä¹Ÿç»“æŸäº†**ã€‚

```java
 // ç»“æŸæ¡ä»¶
if (start == nums.length) {
    return;
}
```

---

æ‰€ä»¥ï¼Œå­é›†é—®é¢˜çš„æ¨¡æ¿å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

```java
result = []
def backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, æ ‡å¿—ä½):
    result.add(è·¯å¾„)

    for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
        æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰
        åšé€‰æ‹©
        è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘ backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, æ ‡å¿—ä½ + 1 ç­‰ éšæœºåº”å˜)
        æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
```

> æ ¹æ®è¿™æ®µä»£ç ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™é“å­é›†é—®é¢˜å°±æ²¡å•¥ç»“æŸæ¡ä»¶ï¼Œåªè¦æœ‰å­é›†ï¼Œå°±ç«‹é©¬åŠ å…¥åˆ° res ä¸­ï¼Œä¸è¦ç­‰åˆ° start == nums.length å†åŠ å…¥
>

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)
- æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸ªå…ƒç´ æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€å…± n ä¸ªå…ƒç´ (é€’å½’çš„æœ€å¤§å±‚æ•°)ï¼Œæ—¶é—´å¤æ‚åº¦ $O(2^n)$ï¼Œå°† track åŠ å…¥ res éœ€è¦æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ $O(n * 2^n)$

