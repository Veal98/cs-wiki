---
title: æ’åˆ—çš„æ•°ç›®
date: 2022-03-20 11:53:59
permalink: /pages/3f3edb/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 104. æ’åˆ—çš„æ•°ç›® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/D0F0SV/)
- [377. ç»„åˆæ€»å’Œ â…£ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/combination-sum-iv/)

ç»™å®šä¸€ä¸ªç”± **ä¸åŒ** æ­£æ•´æ•°ç»„æˆçš„æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target ã€‚è¯·ä» nums ä¸­æ‰¾å‡ºå¹¶è¿”å›æ€»å’Œä¸º target çš„å…ƒç´ ç»„åˆçš„ä¸ªæ•°ã€‚**æ•°ç»„ä¸­çš„æ•°å­—å¯ä»¥åœ¨ä¸€æ¬¡æ’åˆ—ä¸­å‡ºç°ä»»æ„æ¬¡**ï¼Œä½†æ˜¯**<u>é¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆ</u>**ã€‚

é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆç¬¦åˆ 32 ä½æ•´æ•°èŒƒå›´ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,2,3], target = 4
è¾“å‡ºï¼š7
è§£é‡Šï¼š
æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¸ºï¼š
(1, 1, 1, 1)
(1, 1, 2)
(1, 2, 1)
(1, 3)
(2, 1, 1)
(2, 2)
(3, 1)
è¯·æ³¨æ„ï¼Œé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆã€‚
```

## ğŸ”” è§£é¢˜æ€è·¯

### å›æº¯æ³•

è¿™ä¸€é¢˜ä¹ä¸€çœ‹éå¸¸ç†Ÿæ‚‰ï¼Œç«‹é©¬æƒ³åˆ°ç”¨å›æº¯ï¼Œä½†æ˜¯å†ä»”ç»†ä¸€çœ‹ï¼Œå‘ç°æ—¢æ˜¯å­é›†é—®é¢˜åˆæ¶‰åŠåˆ°æ’åˆ—ï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥åå¤åˆ©ç”¨ï¼ŒæŒ‰ç…§å›æº¯æ³•ä¸­æ’åˆ—æ ‘é—®é¢˜çš„æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä¸‹é¢è¿™æ ·çš„è§£æ³•


```java
class Solution {
    private List<List<Integer>> res = new ArrayList<>();

    public int combinationSum4(int[] nums, int target) {
        List<Integer> track = new ArrayList<>();
        backtrack(nums, target, track);
        return res.size();
    }

    private void backtrack(int[] nums, int target, List<Integer> track) {
        // end condition
        if (target == 0) {
            res.add(new ArrayList<>(track));
            return ;
        }

        for (int i = 0; i < nums.length; i ++) {
            if (target < nums[i]) {
                continue;
            }

            track.add(nums[i]);
            backtrack(nums, target - nums[i], track);
            track.remove(track.size() - 1);
        }
    }
}
```

å¾ˆé—æ†¾çš„æ˜¯ï¼Œå›æº¯æ³•ä¼šè¶…å‡º LeetCode çš„å†…å­˜é™åˆ¶

### åŠ¨æ€è§„åˆ’

è½¬æ¢æˆå®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ŒèƒŒåŒ…å®¹é‡å³ targetï¼Œnums å³ä¸åŒçš„ç‰©å“ï¼Œæ¯ä¸ªç‰©å“å¯ä»¥æ— é™ä½¿ç”¨

dp[i] è¡¨ç¤º nums ä¸­æ€»å’Œä¸º i çš„å…ƒç´ ç»„åˆçš„ä¸ªæ•°ï¼ˆå³å°†å®¹é‡ä¸º i çš„èƒŒåŒ…æ°å¥½è£…æ»¡çš„æ–¹æ³•æœ‰ dp[i] ç§ï¼‰

æ ¹æ®å®Œå…¨èƒŒåŒ…çš„æ¨¡æ¿å¾ˆå®¹æ˜“å†™å‡ºè¿™æ ·çš„ä»£ç ï¼š

```java
class Solution {

    public int combinationSum4(int[] nums, int target) {
        int[] dp = new int[target + 1];

        // base case
        dp[0] = 1;

        for (int i = 0; i < nums.length; i ++) { // éå†ç‰©å“
            for (int j = nums[i]; j <= target; j ++) { // æ­£åºéå†èƒŒåŒ…å®¹é‡
                dp[j] = dp[j] + dp[j - nums[i]];
            }
        }

        return dp[target];
    }
}
```

Butï¼Œè¿™ç§å…ˆéå†ç‰©å“å†éå†èƒŒåŒ…å®¹é‡çš„æ–¹å¼ï¼Œå¾—å‡ºçš„æ˜¯ç»„åˆçš„æ•°é‡ï¼Œå¹¶ä¸æ˜¯é¢˜ç›®è¦æ±‚çš„æ’åˆ—çš„æ•°é‡ï¼ˆé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆï¼‰ï¼Œå¦‚æœæƒ³è¦æ±‚æ’åˆ—çš„æ•°é‡ï¼Œæˆ‘ä»¬éœ€è¦å…ˆéå†èƒŒåŒ…å®¹é‡å†éå†ç‰©å“ã€‚

è§£é‡Šä¸‹ï¼š

æˆ‘ä»¬å…ˆæ¥çœ‹å¤–å±‚ for å¾ªç¯éå†ç‰©å“ï¼Œå†…å±‚ for éå†èƒŒåŒ…çš„æƒ…å†µã€‚

ä»£ç å¦‚ä¸‹ï¼š

```cpp
for (int i = 0; i < nums.length; i ++) { // éå†ç‰©å“
    for (int j = nums[i]; j <= target; j ++) { // æ­£åºéå†èƒŒåŒ…å®¹é‡
        dp[j] = dp[j] + dp[j - nums[i]];
    }
}
```

å‡è®¾ï¼šnums[0] = 1ï¼Œnums[1] = 2

é‚£ä¹ˆå°±æ˜¯å…ˆæŠŠ 1 åŠ å…¥è®¡ç®—ï¼Œç„¶åå†æŠŠ 2 åŠ å…¥è®¡ç®—ï¼Œå¾—åˆ°çš„ç‰©å“ç»„åˆåªæœ‰ {1, 2} è¿™ç§æƒ…å†µï¼Œè€Œä¸ä¼šå‡ºç° {2, 1} çš„æƒ…å†µã€‚

**å¦‚æœæˆ‘ä»¬äº¤æ¢ç‰©å“å’ŒèƒŒåŒ…å®¹é‡éå†é¡ºåºï¼Œæ±‚å¾—çš„å°±æ˜¯æ’åˆ—çš„æ•°é‡**ï¼š

```java
class Solution {

    public int combinationSum4(int[] nums, int target) {
        int[] dp = new int[target + 1];

        // base case
        dp[0] = 1;

        for (int j = 1; j <= target; j ++) { // æ­£åºéå†èƒŒåŒ…å®¹é‡
            for (int i = 0; i < nums.length; i ++) { // éå†ç‰©å“
                if (j >= nums[i]) {
                    dp[j] = dp[j] + dp[j - nums[i]];
                }
            }
        }

        return dp[target];
    }
}
```



