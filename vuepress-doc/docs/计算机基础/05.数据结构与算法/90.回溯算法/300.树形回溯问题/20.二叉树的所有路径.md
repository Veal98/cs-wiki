---
title: äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„
date: 2021-11-18 15:01:57
permalink: /pages/30d8b3/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/binary-tree-paths/)

ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼ŒæŒ‰ ä»»æ„é¡ºåº ï¼Œè¿”å›æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚

å¶å­èŠ‚ç‚¹ æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

ç¤ºä¾‹ 1ï¼š

![](https://assets.leetcode.com/uploads/2021/03/12/paths-tree.jpg)

```
è¾“å…¥ï¼šroot = [1,2,3,null,5]
è¾“å‡ºï¼š["1->2->5","1->3"]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šroot = [1]
è¾“å‡ºï¼š["1"]
```

## ğŸ”” è§£é¢˜æ€è·¯

åœ¨å‰ç¯‡æ–‡ç« ç»™å‡ºçš„å›æº¯æ³•æ¨¡æ¿ä¸­æˆ‘ä»¬è¯´äº†å˜›ï¼Œå›æº¯æœ€é‡è¦çš„å…¶å®å°±æ˜¯å®šä¹‰ä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯é€‰æ‹©ç»“æœï¼Œä¸€ä¸ªæ˜¯ç»“æŸæ¡ä»¶

å¯¹äºè¿™ä¸ªé¢˜ç›®æ¥è¯´ï¼Œç»“æŸæ¡ä»¶å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯æŠµè¾¾äº†å¶å­èŠ‚ç‚¹

é‚£ä¹ˆé€‰æ‹©åˆ—è¡¨å‘¢ï¼Œå°±æ˜¯è¯´åœ¨æ¯ä¸ªåˆ†å²”å£å¯ä»¥èµ°çš„æœ‰å‡ æ¡è·¯å‘¢ï¼Ÿ

é¢˜ç›®ç»™å‡ºçš„æ˜¯äºŒå‰æ ‘ï¼Œæ‰€ä»¥å¾ˆç®€å•ï¼Œæ¯ä¸ªèŠ‚æœ€å¤šåªæœ‰ä¸¤ä¸ªå­©å­ï¼Œæˆ–è€…è¯´æ¯ä¸ªåˆ†å²”å£é¡¶å¤šåªæœ‰ä¸¤æ¡è·¯å¯ä»¥èµ°ï¼Œè¦ä¹ˆèµ°å·¦è¾¹ï¼Œè¦ä¹ˆèµ°å³è¾¹

```java
class Solution {
    // å­˜å‚¨æ‰€æœ‰è·¯å¾„
    private List<String> res = new ArrayList<>();

    public List<String> binaryTreePaths(TreeNode root) {
        if (root == null) {
            return res;
        }

        // å­˜å‚¨æ¯æ¡è·¯å¾„
        List<Integer> paths = new ArrayList<>();
		
        // æ³¨æ„ï¼root åŠ å…¥è·¯å¾„
        paths.add(root.val);
        
        backtrack(root, paths);

        return res;
    }

    private void backtrack(TreeNode root, List<Integer> paths) {
        // ç»“æŸæ¡ä»¶ï¼šæŠµè¾¾å¶å­èŠ‚ç‚¹
        if (root.left == null && root.right == null) {
            // è¾“å‡º paths è·¯å¾„
            StringBuilder sb = new StringBuilder();
            for (int i : paths) {
                sb.append(i).append("->");

            }
            // åˆ é™¤æœ€åä¸€ä¸ª ->
            sb.deleteCharAt(sb.length() - 1);
            sb.deleteCharAt(sb.length() - 1);

            res.add(sb.toString());
            return ;
        }

        if (root.left != null) {
            // åšé€‰æ‹©ï¼ˆleft åŠ å…¥ pathsï¼‰
            paths.add(root.left.val);
            // è¿›å…¥å·¦å­æ ‘
            backtrack(root.left, paths);
            // å›æº¯
            paths.remove(paths.size() - 1);
        }
        if (root.right != null) {
            // åšé€‰æ‹©ï¼ˆright åŠ å…¥ pathsï¼‰
            paths.add(root.right.val);
            // è¿›å…¥å³å­æ ‘
            backtrack(root.right, paths);
            // å›æº¯
            paths.remove(paths.size() - 1);
        }

    }

}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211207110832.png)

ä»£ç å¯ä»¥ç®€åŒ–ä¸€ä¸‹ï¼Œå°†åšé€‰æ‹©çš„è¿‡ç¨‹æå‰ï¼š


```java
class Solution {
    // å­˜å‚¨æ‰€æœ‰è·¯å¾„
    private List<String> res = new ArrayList<>();

    public List<String> binaryTreePaths(TreeNode root) {
        if (root == null) {
            return res;
        }

        // å­˜å‚¨æ¯æ¡è·¯å¾„
        List<Integer> paths = new ArrayList<>();
        backtrack(root, paths);

        return res;
    }

    private void backtrack(TreeNode root, List<Integer> paths) {
        // 1. å½“å‰å±‚åšçš„äº‹æƒ…
        // root åŠ å…¥ paths(åšé€‰æ‹©çš„è¿‡ç¨‹æå‰)
        paths.add(root.val);

        // ç»“æŸæ¡ä»¶ï¼šæŠµè¾¾å¶å­èŠ‚ç‚¹
        if (root.left == null && root.right == null) {
            // è¾“å‡º paths è·¯å¾„
            StringBuilder sb = new StringBuilder();
            for (int i : paths) {
                sb.append(i).append("->");

            }
            // åˆ é™¤æœ€åçš„ ->
            sb.deleteCharAt(sb.length() - 1);
            sb.deleteCharAt(sb.length() - 1);
            
            res.add(sb.toString());
            return ;
        }
		
        // 2. è¿›å…¥ä¸‹ä¸€å±‚
        // èµ°å·¦è¾¹
        if (root.left != null) {
            // è¿›å…¥å·¦å­æ ‘
            backtrack(root.left, paths);
            // 3. å›æº¯
        	paths.remove(paths.size() - 1);
        }
        
        // èµ°å³è¾¹
        if (root.right != null) {
            // è¿›å…¥å³å­æ ‘
            backtrack(root.right, paths);
            // å›æº¯
        	paths.remove(paths.size() - 1);
        }
        
    }

}
```

<br>

> å¯¹æ¯”ä¸‹ä¸¤ç§å†™æ³•çš„åŒºåˆ«ï¼š
>
> å†™æ³•ä¸€éœ€è¦å…ˆå°† root èŠ‚ç‚¹åŠ å…¥è·¯å¾„ï¼Œç„¶åå•ç‹¬å°†å·¦å³å­æ ‘åŠ å…¥è·¯å¾„
>
> ![å†™æ³•ä¸€ï¼š](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220422152638.png)
>
> å†™æ³•äºŒå…¶å®ç›¸å½“äºæ˜¯å°†å½“å‰èŠ‚ç‚¹åŠ å…¥è·¯å¾„ï¼Œç„¶åå¤„ç†å·¦å³å­©å­ï¼ˆå·¦å³å­©å­åŠ å…¥è·¯å¾„çš„äº‹ï¼Œæ˜¯åœ¨å·¦å³å­©å­è‡ªå·±é‚£å±‚åšçš„ï¼Œè€Œä¸æ˜¯åœ¨å½“å‰å±‚åšçš„ï¼‰
>
> ![å†™æ³•äºŒ](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220422152825.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šç©ºé—´å¤æ‚åº¦æœ‰ä¸¤éƒ¨åˆ†ï¼Œå‡½æ•°è°ƒç”¨æ ˆä¸æ ‘é«˜æˆæ­£æ¯”ï¼Œæœ€åä¸º O(n)ï¼Œæœ€å¥½ä¸º O(log(n))ã€‚å¦å¤–ä¸€éƒ¨åˆ†æ˜¯å­˜æ”¾è·¯å¾„çš„ç©ºé—´ï¼Œä¸è·¯å¾„æ€»æ•°æ­£æ¯”ã€‚
- æ—¶é—´å¤æ‚åº¦ï¼šå¯¹æ¯ä¸€ä¸ªç»“ç‚¹éƒ½è¿›è¡Œäº†éå†ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n)

