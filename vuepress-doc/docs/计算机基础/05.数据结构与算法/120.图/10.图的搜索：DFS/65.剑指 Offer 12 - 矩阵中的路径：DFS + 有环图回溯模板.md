---
title: å•è¯æœç´¢ï¼šDFS + å›æº¯æ¨¡æ¿
date: 2022-08-10 15:57:55
permalink: /pages/ef7e32/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[79. å•è¯æœç´¢](https://leetcode.cn/problems/word-search/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220810155954957.png)

## ğŸ”” è§£é¢˜æ€è·¯

åŠ¨æ€å›¾å¯ä»¥çœ‹è¿™é‡Œï¼šhttps://leetcode.cn/problems/word-search/solution/zai-er-wei-ping-mian-shang-shi-yong-hui-su-fa-pyth/


```java
class Solution {
    public boolean exist(char[][] board, String word) {
        if (board == null || board.length == 0 || board[0].length == 0) {
            return false;
        }

        for (int i = 0; i < board.length; i ++) {
            for (int j = 0; j< board[0].length; j ++) {
                boolean[][] visited = new boolean[board.length][board[0].length];
                int start = 0;
                if (dfs(board, i, j, word, start, visited)) {
                    return true;
                }
            }
        }

        return false;
    }

    // ä» board[row][col] å‡ºå‘ï¼Œèƒ½å¦åŒ¹é…åˆ° word[start, end]
    private boolean dfs(char[][] board, int row, int col, String word, int start, boolean[][] visited) {
        if (board[row][col] != word.charAt(start)) {
            return false;
        }
        // å·²ç»åŒ¹é…åˆ° word çš„æœ€åä¸€ä¸ªå…ƒç´ å¹¶ä¸” board[row][col] == word.charAt(start)
        else if (start == word.length() - 1) {
            return true;
        }
        
        // 1. è®¿é—® board[row][col]
        visited[row][col] = true;

        // 2. åšé€‰æ‹©: è®¿é—® board[row][col] çš„é‚»å±…èŠ‚ç‚¹
        int[][] neighboors = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}}; 
        for (int[] neighboor : neighboors) {
            int i = row + neighboor[0];
            int j = col + neighboor[1];   
            if (i >= 0 && i < board.length && j >= 0 && j < board[0].length && !visited[i][j]) {
                if (dfs(board, i, j, word, start + 1, visited)) {
                    return true;
                }
            }
        }

        // 3. å›æº¯ï¼šä»¥ board[row][col] ä¸ºèµ·ç‚¹ï¼Œæ— æ³•åŒ¹é…åˆ° word[start, end]ï¼Œåˆ™è¿›è¡Œå›æº¯
        visited[row][col] = false;

        return false;
    }
}
```

ä¸ºä»€ä¹ˆéœ€è¦å›æº¯ï¼Ÿè¿™é‡Œç”»ä¸ªå›¾æ¥ç»™å¤§å®¶è§£é‡Šä¸‹ï¼Œç›®æ ‡å­—ç¬¦ä¸²æ˜¯ ABCESEEEFSï¼š

å‡è®¾å½“å‰éå†åˆ° S çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ dfs(board, i = 1, j = 3, start = 4)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220815173329152.png)

board[1, 3] æœ‰ä¸‰ä¸ªé‚»å±…ï¼Œä¸Šï¼ˆå·²è¢«è®¿é—®è¿‡ï¼‰ä¸‹å·¦ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š

- å¾€å·¦èµ°ï¼ŒæŠŠ `visitited[1][2]` ç½®ä¸º trueï¼Œdfs(board, i = 1, j = 2, start = 5)ï¼Œä¹Ÿå°±æ˜¯ä» `board[1][2]` å¼€å§‹åŒ¹é… EEEFS
- å¾€ä¸‹èµ°ï¼ŒæŠŠ `visitited[2][3]` ç½®ä¸º trueï¼Œdfs(board, 2, 3, start = 5)ï¼Œä¹Ÿå°±æ˜¯ä» `board[2][3]` å¼€å§‹åŒ¹é… EEEFS

å‡è®¾æˆ‘ä»¬å…ˆæ‰§è¡Œå¾€å·¦èµ°ï¼Œæœ€ç»ˆæ‰§è¡Œä¸‹æ¥ä¼šå‘ç°å¾€å·¦èµ°æ˜¯è¡Œä¸é€šçš„ï¼Œè¿”å› falseã€‚é‚£å¦‚æœä¸è¿›è¡Œå›æº¯ï¼Œ`visitited[1][2]` è¿˜æ˜¯ true çš„è¯ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ â€œå¾€ä¸‹èµ°â€ è¿™ä¸ªé€‰æ‹©çš„æ—¶å€™ï¼Œå°±æ²¡åŠæ³•èµ°åˆ° `board[1][2]` è¿™ä¸ªä½ç½®äº†



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š$O(N^2 * 3^N)$ï¼Œ3^N å°±æ˜¯å›æº¯çš„æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºæ¯ä¸ªç‚¹éƒ½æœ‰ 3 ä¸ªé‚»å±…ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªç‚¹éƒ½å¯ä»¥åšå‡ºä¸‰ç§é€‰æ‹©ï¼Œæ€»å…± N ä¸ªç‚¹ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º 3^N
- æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)