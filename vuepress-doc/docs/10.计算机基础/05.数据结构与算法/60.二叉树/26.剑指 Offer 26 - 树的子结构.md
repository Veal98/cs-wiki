## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„](https://leetcode.cn/problems/shu-de-zi-jie-gou-lcof/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20221004112502062.png)

## ğŸ”” è§£é¢˜æ€è·¯

ä¹ä¸€çœ‹å’Œ [572. å¦ä¸€æ£µæ ‘çš„å­æ ‘](https://leetcode.cn/problems/subtree-of-another-tree/) å¥½åƒæ˜¯ä¸€æ ·çš„ï¼Œä½†å…¶å®å­æ ‘å’Œå­ç»“æ„æ˜¯ä¸åŒçš„ï¼

ä¸¾ä¸ªä¾‹å­ï¼š

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20221004113819595.png)

æ‰€è°“ root2 æ˜¯å¦æ˜¯ root1 çš„å­ç»“æ„ï¼Œå…¶å®å°±æ˜¯ä» root2 å¼€å§‹éå†ï¼Œå¯¹åº”çš„ä» root1 å¼€å§‹ï¼Œä»å¦åŒ¹é…åˆ° root2 ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ã€‚

æ‰€ä»¥è¿™é“é¢˜å…¶å®æ˜¯ä¸€é“ DFS é—®é¢˜~


```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSubStructure(TreeNode A, TreeNode B) {
        if (A == null || B == null) {
            return false;
        }

        // å…ˆä»æ ¹èŠ‚ç‚¹åˆ¤æ–­ B æ˜¯ä¸æ˜¯ A çš„å­ç»“æ„ï¼Œå¦‚æœä¸æ˜¯åœ¨åˆ†åˆ«ä»å·¦å³ä¸¤ä¸ªå­æ ‘åˆ¤æ–­ï¼Œ
        // åªè¦æœ‰ä¸€ä¸ªä¸ºtrueï¼Œå°±è¯´æ˜ B æ˜¯ A çš„å­ç»“æ„
        return dfs(A, B) || isSubStructure(A.left, B) || isSubStructure(A.right, B);
    }

    // dfs åˆ¤æ–­ root2 æ˜¯å¦æ˜¯ä»¥ root1 ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘çš„å­ç»“æ„
    // å°±æ˜¯ä» root2 å¼€å§‹éå†ï¼Œå¯¹åº”çš„ä» root1 å¼€å§‹ï¼Œä»å¦åŒ¹é…åˆ° root2 ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹
    private boolean dfs(TreeNode root1, TreeNode root2) {
        // å½“èŠ‚ç‚¹ B ä¸ºç©ºï¼šè¯´æ˜æ ‘ B å·²åŒ¹é…å®Œæˆï¼ˆè¶Šè¿‡å¶å­èŠ‚ç‚¹ï¼‰ï¼Œå› æ­¤è¿”å› true
        if (root2 == null) {
            return true;
        }
        // å½“èŠ‚ç‚¹ A ä¸ºç©ºï¼šè¯´æ˜å·²ç»è¶Šè¿‡æ ‘ A å¶å­èŠ‚ç‚¹ï¼Œå³åŒ¹é…å¤±è´¥ï¼Œè¿”å› false
        // æˆ–è€… A.val != B.valï¼ŒåŒ¹é…å¤±è´¥ï¼Œè¿”å› false
        if (root1 == null || root1.val != root2.val) {
            return false;
        }
        
        // å½“å‰èŠ‚ç‚¹æ¯”è¾ƒå®Œä¹‹åè¿˜è¦ç»§ç»­åˆ¤æ–­å·¦å³å­èŠ‚ç‚¹
        return dfs(root1.left, root2.left) && dfs(root1.right, root2.right);
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

