---
title: è·¯å¾„æ€»å’Œï¼šæ ‘å½¢å›æº¯çš„å¥—è·¯æ¨¡æ¿
date: 2022-04-08 17:55:41
permalink: /pages/ca7375/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[112. è·¯å¾„æ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/path-sum/)

ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root å’Œä¸€ä¸ªè¡¨ç¤ºç›®æ ‡å’Œçš„æ•´æ•° targetSum ï¼Œåˆ¤æ–­è¯¥æ ‘ä¸­**æ˜¯å¦å­˜åœ¨ æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œ targetSum**ã€‚

å¶å­èŠ‚ç‚¹ æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

ç¤ºä¾‹ 1ï¼š

![img](https://assets.leetcode.com/uploads/2021/01/18/pathsum1.jpg)

```
è¾“å…¥ï¼šroot = [5,4,8,11,null,13,4,7,2,null,null,null,1], targetSum = 22
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹ 2ï¼š

![img](https://assets.leetcode.com/uploads/2021/01/18/pathsum2.jpg)

```
è¾“å…¥ï¼šroot = [1,2,3], targetSum = 5
è¾“å‡ºï¼šfalse
```


ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šroot = [1,2], targetSum = 0
è¾“å‡ºï¼šfalse
```

## ğŸ”” è§£é¢˜æ€è·¯

é€’å½’åšå¾ˆç®€å•ã€‚ï¼ˆä¸»è¦æ˜¯æƒ³ä¸åˆ°ï¼Œå“­äº†ï¼‰

è‹¥å½“å‰èŠ‚ç‚¹å°±æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥åˆ¤æ–­ sum æ˜¯å¦ç­‰äº val å³å¯ã€‚è‹¥å½“å‰èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦é€’å½’åœ°è¯¢é—®å®ƒçš„å­èŠ‚ç‚¹æ˜¯å¦èƒ½æ»¡è¶³æ¡ä»¶å³å¯ã€‚


```java
class Solution {
    public boolean hasPathSum(TreeNode root, int sum) {
        if (root == null) {
            return false;
        }
        if (root.left == null && root.right == null) {
            return sum == root.val;
        }

        return hasPathSum(root.left, sum - root.val) || hasPathSum(root.right, sum - root.val);
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20211119163947.png)

çœ‹èµ·æ¥ä¼¼ä¹å¾ˆç®€å•ï¼Œ**å…¶å®è¿™æ®µé€’å½’çš„é€»è¾‘ä¸­è¿˜è•´å«ç€å›æº¯çš„æ€æƒ³**ã€‚

å›æº¯éšè—åœ¨è¿™ä¸¤å¥ä»£ç ä¸­ï¼š `hasPathSum(root.left, sum - root.val)` å’Œ `hasPathSum(root.right, sum - root.val)`

â­ å…·ä½“æ¥è¯´ï¼šsum å’Œ root.val åšäº†è¿ç®—ä½œä¸ºå‚æ•°ä¼ ç»™äº†å‡½æ•° hasPathSumï¼Œä½†æ˜¯ï¼sum åœ¨è¿™ä¸ªæ—¶å€™ä»¥åŠå‡½æ•°æ‰§è¡Œç»“æŸåï¼Œéƒ½æ˜¯æ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„ï¼ï¼ï¼

å°±å¥½æ¯”è¯´ï¼ŒA ä¸€å¼€å§‹æ²¡ç©¿è¡£æœï¼Œä¸ºäº†è·å¾— B çš„è®¸å¯ï¼Œäºæ˜¯ A ç©¿ä¸Šäº†è¡£æœï¼ŒB ç¦»å¼€åï¼ŒA åˆè„±æ‰è¡£æœåšå›äº†è‡ªæˆ‘ï¼Œè¿™å°±æ˜¯å›æº¯ï¼

ä¸ºäº†æŠŠå›æº¯çš„è¿‡ç¨‹ä½“ç°å‡ºæ¥ï¼Œå¯ä»¥æ”¹ä¸ºå¦‚ä¸‹ä»£ç ï¼š

```java
class Solution {

    public boolean hasPathSum(TreeNode root, int targetSum) {
        if (root == null) {
            return false;
        }
        if (root.left == null && root.right == null && targetSum == root.val) {
            return true;
        }

        // æ¯æ¡è·¯å¾„çš„å’Œ
        // root å…ˆåŠ å…¥è·¯å¾„
        int sum = root.val;
        return backtrack(root, sum, targetSum);
    }

    private boolean backtrack(TreeNode root, int sum, int targetSum) {
        // ç»“æŸæ¡ä»¶
        if (root.left == null && root.right == null && sum == targetSum) {
            return true;
        }

        if (root.left != null) {
            // åšé€‰æ‹©
            sum += root.left.val;
            // è¿›å…¥å·¦å­æ ‘
            if (backtrack(root.left, sum, targetSum)) {
                return true;
            }
            // å›æº¯
            sum -= root.left.val;
        }

        if (root.right != null) {
            // åšé€‰æ‹©
            sum += root.right.val;
            // è¿›å…¥å³å­æ ‘
            if (backtrack(root.right, sum, targetSum)) {
                return true;
            }
            // å›æº¯
            sum -= root.right.val;
        }

        return false;
    }


}
```

å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ç”¨æ–°å»ºä¸€ä¸ª sum å˜é‡ï¼Œç›´æ¥ç”¨ targetSum è¿™ä¸ªå˜é‡å°±è¡Œäº†ï¼š

```java
class Solution {

    public boolean hasPathSum(TreeNode root, int targetSum) {
        if (root == null) {
            return false;
        }
        if (root.left == null && root.right == null && targetSum == root.val) {
            return true;
        }

        // æ¯æ¡è·¯å¾„çš„å’Œ
        // root å…ˆåŠ å…¥è·¯å¾„
        targetSum -= root.val;
        return backtrack(root, targetSum);
    }

    private boolean backtrack(TreeNode root, int targetSum) {
        // ç»“æŸæ¡ä»¶
        if (root.left == null && root.right == null && targetSum == 0) {
            return true;
        }

        if (root.left != null) {
            // åšé€‰æ‹©
            targetSum -= root.left.val;
            // è¿›å…¥å·¦å­æ ‘
            if (backtrack(root.left, targetSum)) {
                return true;
            }
            // å›æº¯
            targetSum += root.left.val;
        }

        if (root.right != null) {
            // åšé€‰æ‹©
            targetSum -= root.right.val;
            // è¿›å…¥å³å­æ ‘
            if (backtrack(root.right, targetSum)) {
                return true;
            }
            // å›æº¯
            targetSum += root.right.val;
        }

        return false;
    }


}
```

## âœ æ ‘å½¢å›æº¯çš„å¥—è·¯æ¨¡æ¿

æ€»ç»“ä¸‹è¿™ç§**æ ‘å½¢å›æº¯**çš„å¥—è·¯æ¨¡æ¿ï¼š

1. æ ¹èŠ‚ç‚¹å…ˆåŠ å…¥è·¯å¾„

2. é€’å½’çš„ç»“æŸæ¡ä»¶

3. å¤„ç†å·¦å­æ ‘

   - åšé€‰æ‹©ï¼ˆå·¦å­©å­åŠ å…¥è·¯å¾„ï¼‰

   - è¿›å…¥å·¦å­æ ‘
   - å›æº¯ï¼ˆè·¯å¾„ä¸­åˆ é™¤å·¦å­©å­ï¼‰

4. å¤„ç†å³å­æ ‘

   - åšé€‰æ‹©ï¼ˆå³å­©å­åŠ å…¥è·¯å¾„ï¼‰

   - è¿›å…¥å³å­æ ‘
   - å›æº¯ï¼ˆè·¯å¾„ä¸­åˆ é™¤å³å­©å­ï¼‰

```java
class Solution {
    // å­˜å‚¨æ‰€æœ‰è·¯å¾„
    private List<List<String>> res = new ArrayList<>();

    public List<List<String>> binaryTreePaths(TreeNode root) {

        // å­˜å‚¨æ¯æ¡è·¯å¾„
        List<Integer> paths = new ArrayList<>();
		
        // 1. æ³¨æ„ï¼root å…ˆåŠ å…¥è·¯å¾„
        paths.add(root.val);
        
        backtrack(root, paths);

        return res;
    }

    private void backtrack(TreeNode root, List<Integer> paths) {
        // 2. ç»“æŸæ¡ä»¶
        if (......) {
            res.add(paths);
            return ;
        }
		
        // 3.
        if (root.left != null) {
            // 3.1 åšé€‰æ‹©ï¼ˆleft åŠ å…¥ pathsï¼‰
            paths.add(root.left.val);
            // 3.2 è¿›å…¥å·¦å­æ ‘
            backtrack(root.left, paths);
            // 3.3. å›æº¯
            paths.remove(paths.size() - 1);
        }
        // 4.
        if (root.right != null) {
            // 4.1 åšé€‰æ‹©ï¼ˆright åŠ å…¥ pathsï¼‰
            paths.add(root.right.val);
            // 4.2 è¿›å…¥å³å­æ ‘
            backtrack(root.right, paths);
            // 4.3 å›æº¯
            paths.remove(paths.size() - 1);
        }

    }

}
```



## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š

