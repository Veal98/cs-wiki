---
title: æ•°ç»„ä¸­çš„é€†åºå¯¹
date: 2022-09-11 23:40:00
permalink: /pages/0b69cd/
---
## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹](https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)

åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: [7,5,6,4]
è¾“å‡º: 5
```

## ğŸ”” è§£é¢˜æ€è·¯

é¢˜æ„æ˜¯ä¸è¦æ±‚è¿™ä¸ªé€†åºå¯¹æ˜¯è¿ç»­çš„

### æš´åŠ› TODO

### å½’å¹¶æ’åº

åªéœ€è¦åœ¨æ ‡å‡†çš„æ•°ç»„å½’å¹¶æ’åºçš„åŸºç¡€ä¸Šç¨å¾®åŠ ä¸€ç‚¹ä»£ç å°±è¡Œ

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20220911235503374.png)

åˆå¹¶é˜¶æ®µ æœ¬è´¨ä¸Šæ˜¯ åˆå¹¶ä¸¤ä¸ªæ’åºæ•°ç»„ çš„è¿‡ç¨‹ï¼Œè€Œ**æ¯å½“é‡åˆ° å·¦å­æ•°ç»„å½“å‰å…ƒç´  > å³å­æ•°ç»„å½“å‰å…ƒç´  æ—¶ï¼Œæ„å‘³ç€ ã€Œå·¦å­æ•°ç»„å½“å‰å…ƒç´  è‡³ æœ«å°¾å…ƒç´ ã€ ä¸ ã€Œå³å­æ•°ç»„å½“å‰å…ƒç´ ã€ æ„æˆäº†è‹¥å¹² ã€Œé€†åºå¯¹ã€** 

è¯¦ç»†åŠ¨æ€å›¾å¯å‚è€ƒ https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/solution/jian-zhi-offer-51-shu-zu-zhong-de-ni-xu-pvn2h/


```java
class Solution {
    
    private int count = 0;
    
    public int reversePairs(int[] nums) {
        if (nums == null || nums.length == 0) {
            return count;
        }

        mergeSort(nums, 0, nums.length - 1);

        return count;
    }

    private void mergeSort(int[] nums, int left, int right) {
        if (left >= right) {
            return ;
        }

        int mid = left + ((right - left) >> 1);
        mergeSort(nums, left, mid);
        mergeSort(nums, mid + 1, right);
        // merge nums[left, mid] å’Œ nums[mid + 1, right] ä¸¤ä¸ªæ•°ç»„
        merge(nums, left, right);
    }

    private void merge(int[] nums, int left, int right) {
        int[] temp = new int[right - left + 1];
        int index = 0;

        int mid = left + ((right - left) >> 1);

        int i = left;
        int j = mid + 1;

        while (i <= mid && j <= right) {
            if (nums[i] > nums[j]) {
                temp[index ++] = nums[j ++];
                // nums[i..mid] éƒ½å¯ä»¥å’Œ nums[j] ç»„æˆé€†åºå¯¹
                count += mid - i + 1;
            }
            else {
                temp[index ++] = nums[i ++];
            }
        }

        while (i <= mid) {
            temp[index ++] = nums[i ++];
        }
        while (j <= right) {
            temp[index ++] = nums[j ++];
        }

        // å°†æ’åºåçš„å…ƒç´ å¡«å……åˆ°æ•°ç»„ nums ä¸­
        for (int k = 0; k < temp.length; k ++) {
            nums[left + k] = temp[k];
        }
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š