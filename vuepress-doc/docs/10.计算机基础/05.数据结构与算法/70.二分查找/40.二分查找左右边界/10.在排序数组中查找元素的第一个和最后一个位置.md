---
title: åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®
date: 2021-09-21 11:18:21
permalink: /pages/bdc542/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/)

ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚**æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®**ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚

è¿›é˜¶ï¼š

ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ


ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
è¾“å‡ºï¼š[3,4]
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 6
è¾“å‡ºï¼š[-1,-1]
```

ç¤ºä¾‹ 3ï¼š

```
è¾“å…¥ï¼šnums = [], target = 0
è¾“å‡ºï¼š[-1,-1]
```


æç¤ºï¼š

- **nums æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„**

## ğŸ”” è§£é¢˜æ€è·¯

æ•°ç»„æœ‰åºä¸”åŒ…å«é‡å¤å…ƒç´ ï¼Œç¬¦åˆæŸ¥æ‰¾è¾¹ç•Œçš„ç¬¬ä¸€ç§æƒ…å†µï¼Œè¿™é‡Œæ˜¯æŸ¥æ‰¾å·¦å³è¾¹ç•Œï¼Œç›´æ¥å¥—æ¨¡æ¿å³å¯ï¼š


```java
class Solution {
    public int[] searchRange(int[] nums, int target) {

        int[] res = new int[]{-1, -1}; // å­˜å‚¨å·¦å³è¾¹ç•Œ

        if(nums == null || nums.length == 0)
            return res;

        // å¯»æ‰¾å·¦è¾¹ç•Œ
        int left = 0;
        int right = nums.length - 1;
        while (left < right) {
            int mid = ((left + right) >> 1);
            // æ”¶ç¼©å·¦è¾¹ç•Œ
            if (nums[mid] < target) {
                left = mid + 1;
            } else {
                // æ”¶ç¼©å³è¾¹ç•Œ
                right = mid;
            }
        }
        res[0] = nums[left] == target ? left : -1;

        // å¦‚æœå·¦è¾¹ç•Œæ˜¯æœ€åä¸€ä¸ªæ•°çš„ä¸‹æ ‡æˆ–è€…è¯¥æ•°æ²¡æœ‰é‡å¤åªå­˜åœ¨ä¸€ä¸ªï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥ä»¤å³è¾¹ç•Œ = å·¦è¾¹ç•Œ
        if (res[0] != -1) {
            if (left == nums.length - 1 || nums[left + 1] != target) {
                res[1] = left;
            } else {
                // å¯»æ‰¾å³è¾¹ç•Œ
                right = nums.length - 1;
                while (left < right) {
                    int mid = ((left + right) >> 1) + 1;
                    // æ”¶ç¼©å³è¾¹ç•Œ
                    if (nums[mid] > target) {
                        right = mid - 1;
                    } else {
                        // æ”¶ç¼©å·¦è¾¹ç•Œ
                        left = mid;
                    }
                }

                res[1] = nums[right] == target ? right : -1;
            }

        }

        return res;
    }
}
```

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20210921112953.png)

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)
- æ—¶é—´å¤æ‚åº¦ï¼šO(LogN)

