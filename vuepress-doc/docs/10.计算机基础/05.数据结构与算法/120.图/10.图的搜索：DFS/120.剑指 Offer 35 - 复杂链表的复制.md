## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://leetcode.cn/problems/fu-za-lian-biao-de-fu-zhi-lcof/)
- [138. å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨](https://leetcode.cn/problems/copy-list-with-random-pointer/)

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/image-20221007214605633.png)

## ğŸ”” è§£é¢˜æ€è·¯


```java
/*
// Definition for a Node.
class Node {
    int val;
    Node next;
    Node random;

    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
*/
class Solution {
    public Node copyRandomList(Node head) {
        // è®°å½•å·²ç»å¤åˆ¶è¿‡çš„èŠ‚ç‚¹ï¼Œkey:åŸèŠ‚ç‚¹, value:å¤åˆ¶çš„èŠ‚ç‚¹
        Map<Node, Node> copyed = new HashMap<>();
        Node newHead = dfs(head, copyed);
        return newHead;
    }

    // dfs å¤åˆ¶ node é“¾è¡¨, å¹¶è¿”å›å¤åˆ¶åé“¾è¡¨çš„é¦–èŠ‚ç‚¹
    private Node dfs(Node node, Map<Node, Node> copyed) {
        if (node == null) {
            return null;
        }

        if (!copyed.containsKey(node)) {
            Node newNode = new Node(node.val);
            copyed.put(node, newNode);
			
            // dfs å¤åˆ¶ node.next
            newNode.next = dfs(node.next, copyed);
            // dfs å¤åˆ¶ node.random
            newNode.random = dfs(node.random, copyed);
        }

        return copyed.get(node); 
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š