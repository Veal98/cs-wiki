---
title: åŠ å‡çš„ç›®æ ‡å€¼
date: 2022-03-20 11:53:59
permalink: /pages/485456/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š

- [å‰‘æŒ‡ Offer II 102. åŠ å‡çš„ç›®æ ‡å€¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/YaVDxD/)
- [494. ç›®æ ‡å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/target-sum/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ã€‚

å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  '+' æˆ– '-' ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª è¡¨è¾¾å¼ ï¼š

ä¾‹å¦‚ï¼Œnums = [2, 1] ï¼Œå¯ä»¥åœ¨ 2 ä¹‹å‰æ·»åŠ  '+' ï¼Œåœ¨ 1 ä¹‹å‰æ·»åŠ  '-' ï¼Œç„¶åä¸²è”èµ·æ¥å¾—åˆ°è¡¨è¾¾å¼ "+2-1" ã€‚

è¿”å›å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹æ³•æ„é€ çš„ã€è¿ç®—ç»“æœç­‰äº target çš„ä¸åŒ è¡¨è¾¾å¼ çš„æ•°ç›®ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šnums = [1,1,1,1,1], target = 3
è¾“å‡ºï¼š5
è§£é‡Šï¼šä¸€å…±æœ‰ 5 ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º 3 ã€‚
-1 + 1 + 1 + 1 + 1 = 3
+1 - 1 + 1 + 1 + 1 = 3
+1 + 1 - 1 + 1 + 1 = 3
+1 + 1 + 1 - 1 + 1 = 3
+1 + 1 + 1 + 1 - 1 = 3
```

## ğŸ”” è§£é¢˜æ€è·¯

å‡è®¾å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  '+' æˆ– '-'åï¼ŒåŠ æ³•çš„æ€»å’Œä¸º xï¼Œé‚£ä¹ˆå‡æ³•å¯¹åº”çš„æ€»å’Œå°±æ˜¯ sum - xã€‚

æ‰€ä»¥æˆ‘ä»¬è¦æ±‚çš„æ˜¯ x - (sum - x) = target

x = (target + sum) / 2

**æ­¤æ—¶é—®é¢˜å°±è½¬åŒ–ä¸ºï¼Œè£…æ»¡å®¹é‡ä¸º x çš„èƒŒåŒ…ï¼Œæœ‰å‡ ç§æ–¹æ³•**ã€‚

æ³¨æ„ä¸‹è¾¹ç•Œæ¡ä»¶ï¼š

- å¦‚æœ abs(target) > sumï¼Œåˆ™è‚¯å®šæ²¡æœ‰æ–¹æ¡ˆ
- x = (target + sum) / 2 è¡¨ç¤ºèƒŒåŒ…çš„å®¹é‡ï¼Œæ˜¾ç„¶è¿™é‡Œ x ä¸èƒ½æ˜¯å°æ•°ï¼Œè¿™ä¹Ÿå°±è¦æ±‚ (target + sum) å¿…é¡»æ˜¯å¶æ•°èƒ½å¤Ÿæ•´é™¤ 2ï¼Œæ‰€ä»¥å¦‚æœ (target + sum) æ˜¯å¥‡æ•°çš„è¯, åˆ™è‚¯å®šæ²¡æœ‰æ–¹æ¡ˆ

<br>

dp[j] è¡¨ç¤º**è£…æ»¡å®¹é‡ä¸º j çš„èƒŒåŒ…ï¼Œæœ‰ dp[j] ç§æ–¹æ³•**

base caseï¼šdp[0] = 1ï¼Œå¦‚æœæƒ³è¦è£…æ»¡å®¹é‡ä¸º 0 çš„èƒŒåŒ…ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ç§æ–¹æ³•ï¼Œé‚£å°±æ˜¯å•¥ä¹Ÿä¸è£…

å¯¹äºç‰©ä½“ i æ¥è¯´ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼š

- ä¸è£…å…¥èƒŒåŒ…ï¼šdp[j] = dp[j]
- è£…å…¥èƒŒåŒ…ï¼šdp[j] = dp[j - nums[i]]ã€‚è§£é‡Šä¸€ä¸‹ï¼Œdp[j - nums[i]] è¡¨ç¤ºæœ‰å‡ ç§èƒ½å¤Ÿæ­£å¥½è£…æ»¡å®¹é‡ä¸º j - nums[i] çš„èƒŒåŒ…ï¼Œé‚£å¦‚æœæœ‰çš„è¯ï¼Œæˆ‘ä»¬åªè¦åœ¨è¿™äº›åŠæ³•çš„åŸºç¡€ä¹‹ä¸Šï¼Œå¡è¿›å…¥ nums[i]ï¼Œå°±å¯ä»¥æ­£å¥½è£…æ»¡å®¹é‡ä¸º j çš„èƒŒåŒ…äº†

è¦æ±‚çš„æ˜¯ä¸€å…±æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Œæ‰€ä»¥ dp[j] = dp[j] + dp[j - nums[i]]


```java
class Solution {
    public int findTargetSumWays(int[] nums, int target) {
        int sum = Arrays.stream(nums).sum();
        
        if (Math.abs(target) > sum || (target + sum) % 2 != 0) {
            return 0;
        }
        
        int x = (target + sum) / 2;
        int[] dp = new int[x + 1];

        // base case
        dp[0] = 1;

        // loop
        for (int i = 0; i < nums.length; i ++) { // éå†ç‰©å“
            for (int j = x; j >= nums[i]; j --) { // å€’å™éå†èƒŒåŒ…å®¹é‡
                dp[j] = dp[j] + dp[j - nums[i]];
            }
        }

        return dp[x];
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(N)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)

