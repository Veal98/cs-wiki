---
title: å•è¯æ‹†åˆ†
date: 2022-03-20 11:53:59
permalink: /pages/39579d/
---

## ğŸ“ƒ é¢˜ç›®æè¿°

é¢˜ç›®é“¾æ¥ï¼š[139. å•è¯æ‹†åˆ† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/word-break/)

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ wordDict ä½œä¸ºå­—å…¸ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ©ç”¨å­—å…¸ä¸­å‡ºç°çš„å•è¯æ‹¼æ¥å‡º s ã€‚

æ³¨æ„ï¼šä¸è¦æ±‚å­—å…¸ä¸­å‡ºç°çš„å•è¯å…¨éƒ¨éƒ½ä½¿ç”¨ï¼Œå¹¶ä¸”å­—å…¸ä¸­çš„å•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥: s = "leetcode", wordDict = ["leet", "code"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "leetcode" å¯ä»¥ç”± "leet" å’Œ "code" æ‹¼æ¥æˆã€‚
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥: s = "applepenapple", wordDict = ["apple", "pen"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "applepenapple" å¯ä»¥ç”± "apple" "pen" "apple" æ‹¼æ¥æˆã€‚
     æ³¨æ„ï¼Œä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
```

## ğŸ”” è§£é¢˜æ€è·¯

### å›æº¯æ³•

å°†é¢˜ç›®ï¼šåˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ©ç”¨å­—å…¸ä¸­å‡ºç°çš„å•è¯æ‹¼æ¥å‡º s è½¬æ¢æˆ =ã€‹ **æ˜¯å¦å¯ä»¥åˆ†å‰² s ä½¿å¾—åˆ†å‰²å‡ºæ¥çš„å•è¯å­˜åœ¨äºå­—å…¸ä¸­**ã€‚

è¿™æ ·ï¼Œå°±å’Œ  [131. åˆ†å‰²å›æ–‡ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/palindrome-partitioning/) å·®ä¸å¤šäº†ï¼Œåªä¸è¿‡ç”±äºè¿™é¢˜éœ€è¦è¿”å›çš„æ˜¯ boolean å€¼ï¼Œæ‰€ä»¥ res å’Œ track å…¶å®éƒ½ä¸éœ€è¦äº†ï¼Œå¯èƒ½å¾ˆå¤šå°ä¼™ä¼´ä¸å¤ªèƒ½çœ‹æ‡‚ã€‚

äº‹å®ä¸Šï¼Œå›æº¯æ³•ä¼šè¶…æ—¶ï¼Œè¿™é“é¢˜ç”¨åŠ¨æ€è§„åˆ’åšæ›´å¥½ç†è§£ã€‚


```java
class Solution {
    
    public boolean wordBreak(String s, List<String> wordDict) {
        int start = 0;
        return backtrack(s, wordDict, start);
    }

    private boolean backtrack(String s, List<String> wordDict, int start) {
        // ç»“æŸæ¡ä»¶(èƒ½ä¸€è·¯æˆåŠŸçš„åˆ‡å‰²åˆ° s.length()ï¼Œåˆ™è¿”å› true)
        if (start == s.length()) {
            return true;
        }

        for (int i = start; i < s.length(); i ++) {
            // å‰ªæ
            if (!wordDict.contains(s.substring(start, i + 1))) {
                continue;
            }
            
            if (backtrack(s, wordDict, i + 1) == true) {
                return true;
            }
        }

        return false;
    }
}
```

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œç®—æ³•é€’å½’ç³»ç»Ÿè°ƒç”¨æ ˆçš„ç©ºé—´
- æ—¶é—´å¤æ‚åº¦ï¼šO(2^n)ï¼Œå› ä¸ºæ¯ä¸€ä¸ªå•è¯éƒ½æœ‰ä¸¤ä¸ªçŠ¶æ€ï¼Œåˆ‡å‰²å’Œä¸åˆ‡å‰²

### åŠ¨æ€è§„åˆ’

â­ é¦–å…ˆï¼Œå°†é¢˜ç›®ï¼šåˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ©ç”¨å­—å…¸ä¸­å‡ºç°çš„å•è¯æ‹¼æ¥å‡º s è½¬æ¢æˆ =ã€‹ **æ˜¯å¦å¯ä»¥åˆ†å‰² s ä½¿å¾—åˆ†å‰²å‡ºæ¥çš„å•è¯å­˜åœ¨äºå­—å…¸ä¸­**ã€‚

å­—å…¸ä¸­çš„æ¯ä¸ªå•è¯å¯ä»¥æ— é™ä½¿ç”¨

è½¬æ¢æˆå®Œå…¨èƒŒåŒ…é—®é¢˜ï¼š**å­—ç¬¦ä¸² s çš„é•¿åº¦å°±æ˜¯èƒŒåŒ…å®¹é‡ï¼Œæ¯æ¬¡åˆ†å‰²å‡ºæ¥çš„å•è¯çš„é•¿åº¦å°±æ˜¯æ¯ä¸ªç‰©å“çš„é•¿åº¦**ï¼Œå­—å…¸ä¸­çš„å•è¯å¯ä»¥é‡å¤ä½¿ç”¨å³ç‰©å“å¯ä»¥æ— é™ä½¿ç”¨ï¼Œå•è¯æ˜¯å¦èƒ½å¦ç»„æˆå­—ç¬¦ä¸² sï¼Œå°±æ˜¯é—®ç‰©å“èƒ½ä¸èƒ½æŠŠèƒŒåŒ…è£…æ»¡ã€‚

**dp[j] è¡¨ç¤ºï¼ŒèƒŒåŒ…å®¹é‡ï¼ˆå­—ç¬¦ä¸²é•¿åº¦ï¼‰ä¸º j çš„æ—¶å€™ï¼Œå¦‚æœ dp[j] ä¸º trueï¼Œè¡¨ç¤ºå¯ä»¥æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚**

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š**å¦‚æœç¡®å®š dp[i] æ˜¯ trueï¼Œä¸” [i, j] è¿™ä¸ªåŒºé—´çš„å­ä¸²ï¼ˆ`åˆ†å‰²å‡ºæ¥çš„å•è¯/`ï¼‰å‡ºç°åœ¨å­—å…¸é‡Œï¼Œé‚£ä¹ˆ dp[j] ä¸€å®šæ˜¯ true**ã€‚ï¼ˆi < jï¼‰ã€‚

=> `dp[j] = dp[i] & wordDict.contains(s.substring(i, j))`

![](https://cs-wiki.oss-cn-shanghai.aliyuncs.com/img/20220208113438.png)

base caseï¼šä»é€’å½’å…¬å¼ä¸­å¯ä»¥çœ‹å‡ºï¼Œdp[j] çš„çŠ¶æ€ä¾é  dp[i] æ˜¯å¦ä¸ºtrueï¼Œé‚£ä¹ˆ dp[0] å°±æ˜¯é€’å½’çš„æ ¹åŸºï¼Œdp[0] ä¸€å®šè¦ä¸ºtrueï¼Œå¦åˆ™é€’å½’ä¸‹å»åé¢éƒ½éƒ½æ˜¯ false äº†


```java
class Solution {
    public boolean wordBreak(String s, List<String> wordDict) {
        boolean[] dp = new boolean[s.length() + 1];

        // base case
        dp[0] = true;

        // loop
        for (int i = 0; i < s.length(); i ++) { // éå†ç‰©å“(æ¯æ¬¡åˆ†å‰²å‡ºæ¥çš„å•è¯çš„é•¿åº¦)
            for (int j = i + 1; j <= s.length(); j ++) { // éå†èƒŒåŒ…å®¹é‡(s é•¿åº¦)
                // åˆ†å‰²å‡ºæ¥çš„å•è¯ s.substring(i, j)
                String word = s.substring(i, j)
                if (dp[i] && wordDict.contains(word)) {
                    dp[j] = true;
                }
                // æˆ–è€…è¿™æ ·å†™
                // if (wordDict.contains(word)) {
                //     dp[j] = dp[j] || dp[i];
                // }
            }
        }

        return dp[s.length()];
    }
}
```

## ğŸ’¥ å¤æ‚åº¦åˆ†æ

- ç©ºé—´å¤æ‚åº¦ï¼šO(N)
- æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)

