# ğŸ“Š Vue.js äº‹ä»¶å¤„ç†å™¨

---

## 1. ç›‘å¬äº‹ä»¶
å¯ä»¥ç”¨ `v-on` æŒ‡ä»¤ç›‘å¬ DOM äº‹ä»¶ï¼Œå¹¶åœ¨è§¦å‘æ—¶è¿è¡Œä¸€äº› JavaScript ä»£ç ã€‚

ç¤ºä¾‹ï¼š

```html
<body>
<div id="app">
  <button v-on:click="counter += 1">å¢åŠ  1</button>
  <p>è¿™ä¸ªæŒ‰é’®è¢«ç‚¹å‡»äº† {{ counter }} æ¬¡ã€‚</p>
</div>

<script>
new Vue({
  el: '#app',
  data: {
    counter: 0
  }
})
</script>
```
ç»“æœï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200805211410.png)

## 2. äº‹ä»¶å¤„ç†æ–¹æ³•
ç„¶è€Œè®¸å¤šäº‹ä»¶å¤„ç†é€»è¾‘ä¼šæ›´ä¸ºå¤æ‚ï¼Œæ‰€ä»¥ç›´æ¥æŠŠ JavaScript ä»£ç å†™åœ¨Â `v-on`Â æŒ‡ä»¤ä¸­æ˜¯ä¸å¯è¡Œçš„ã€‚å› æ­¤Â `v-on`Â è¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªéœ€è¦è°ƒç”¨çš„æ–¹æ³•åç§°ã€‚
```html
<body>
<div id="app">
   <!-- `greet` æ˜¯åœ¨ä¸‹é¢å®šä¹‰çš„æ–¹æ³•å -->
  <button v-on:click="greet">Greet</button>
</div>

<script>
var app = new Vue({
  el: '#app',
  data: {
    name: 'Vue.js'
  },
  // åœ¨ `methods` å¯¹è±¡ä¸­å®šä¹‰æ–¹æ³•
  methods: {
    greet: function (event) {
      // `this` åœ¨æ–¹æ³•é‡ŒæŒ‡å½“å‰ Vue å®ä¾‹
      alert('Hello ' + this.name + '!')
      // `event` æ˜¯åŸç”Ÿ DOM äº‹ä»¶
	  if (event) {
		  alert(event.target.tagName)
	  }
    }
  }
})
// ä¹Ÿå¯ä»¥ç”¨ JavaScript ç›´æ¥è°ƒç”¨æ–¹æ³•
app.greet() // -> 'Hello Vue.js!'
</script>
</body>
```
## 3. å†…è”å¤„ç†å™¨ä¸­çš„æ–¹æ³•
é™¤äº†ç›´æ¥ç»‘å®šåˆ°ä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨å†…è” JavaScript è¯­å¥ä¸­è°ƒç”¨æ–¹æ³•ï¼š
```html
<body>
<div id="app">
  <button v-on:click="say('hi')">Say hi</button>
  <button v-on:click="say('what')">Say what</button>
</div>

<script>
new Vue({
  el: '#app',
  methods: {
    say: function (message) {
      alert(message)
    }
  }
})
</script>
</body>
```
## 4. äº‹ä»¶ä¿®é¥°ç¬¦
åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ `event.preventDefault()` æˆ– `event.stopPropagation()` æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­è½»æ¾å®ç°è¿™ç‚¹ï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯ï¼šæ–¹æ³•åªæœ‰çº¯ç²¹çš„æ•°æ®é€»è¾‘ï¼Œè€Œä¸æ˜¯å»å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.js ä¸º `v-on` æä¾›äº†**äº‹ä»¶ä¿®é¥°ç¬¦**ã€‚ä¹‹å‰æè¿‡ï¼Œä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„ã€‚

- `.stop`
- `.prevent`
- `.capture`
- `.self`
- `.once`
- `.passive`
```html
<!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ -->
<a v-on:click.stop="doThis"></a>

<!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ -->
<form v-on:submit.prevent="onSubmit"></form>

<!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” -->
<a v-on:click.stop.prevent="doThat"></a>

<!-- åªæœ‰ä¿®é¥°ç¬¦ -->
<form v-on:submit.prevent></form>

<!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ -->
<!-- å³å†…éƒ¨å…ƒç´ è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† -->
<div v-on:click.capture="doThis">...</div>

<!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° -->
<!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ -->
<div v-on:click.self="doThat">...</div>

<!-- ç‚¹å‡»äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡ -->
<a v-on:click.once="doThis"></a>
```

ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ï¼›ç›¸åº”çš„ä»£ç ä¼šä»¥åŒæ ·çš„é¡ºåºäº§ç”Ÿã€‚å› æ­¤ï¼Œç”¨ `v-on:click.prevent.self` ä¼šé˜»æ­¢**æ‰€æœ‰çš„ç‚¹å‡»**ï¼Œè€Œ `v-on:click.self.prevent` åªä¼šé˜»æ­¢å¯¹å…ƒç´ è‡ªèº«çš„ç‚¹å‡»ã€‚

## 5. æŒ‰é”®ä¿®é¥°ç¬¦
Vue å…è®¸ä¸º `v-on` åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦ï¼š
```html
<!-- åªæœ‰åœ¨ keyCodeæŒ‰é”®ç  æ˜¯ 13 æ—¶è°ƒç”¨ vm.submit() -->
<input v-on:keyup.13="submit">
```


è®°ä½æ‰€æœ‰çš„ keyCode æ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥ Vue ä¸ºæœ€å¸¸ç”¨çš„æŒ‰é”®æä¾›äº†åˆ«åï¼š
```html
<!-- åŒä¸Š -->
<input v-on:keyup.enter="submit">
<!-- ç¼©å†™è¯­æ³• -->
<input @keyup.enter="submit">
```


å…¨éƒ¨çš„æŒ‰é”®åˆ«åï¼š

- `.enter`
- `.tab`
- `.delete` (æ•è· "åˆ é™¤" å’Œ "é€€æ ¼" é”®)
- `.esc`
- `.space`
- `.up`
- `.down`
- `.left`
- `.right`
- `.ctrl`
- `.alt`
- `.shift`
- `.meta`


å®ä¾‹
```html
<p><!-- Alt + C -->
<input @keyup.alt.67="clear">
<!-- Ctrl + Click -->
<div @click.ctrl="doSomething">Do something</div>
```

ä½ è¿˜å¯ä»¥é€šè¿‡å…¨å±€ `config.keyCodes` å¯¹è±¡**è‡ªå®šä¹‰**æŒ‰é”®ä¿®é¥°ç¬¦åˆ«åï¼š
```html
// å¯ä»¥ä½¿ç”¨ `v-on:keyup.f1`
Vue.config.keyCodes.f1 = 112
```
## ğŸ“š References

- ğŸ¦ [èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/vue2)

- ğŸ“˜ [Vue å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide)