# 53. æœ€å¤§è¿ç»­å­åºåˆ—å’Œ

---

ğŸ‘‰ [53. æœ€å¤§è¿ç»­å­åºåˆ—å’Œ â€”â€” Easy](https://leetcode-cn.com/problems/maximum-subarray/)

## ğŸ“œ é¢˜ç›®æè¿°

Given an integer array nums, find the **contiguous (ç›¸é‚»çš„) subarray (containing at least one number) which has the largest sum** and return its sum.

Follow up: If you have figured out the O(n) solution, try coding another solution using the **divide and conquer** approach, which is more subtle

**Example 1**:

```
  Input: nums = [-2,1,-3,4,-1,2,1,-5,4]
  Output: 6
  Explanation: [4,-1,2,1] has the largest sum = 6.
```

  **Example 2**:

```
  Input: nums = [1]
  Output: 1
```

  **Example 3**:

```
  Input: nums = [0]
  Output: 0
```

  **Example 4**:

```
  Input: nums = [-1]
  Output: -1
```

  **Constraints**:

```
  1 <= nums.length <= 2 * 104
  -231 <= nums[i] <= 231 - 1
```

## ğŸ’¡ è§£é¢˜æ€è·¯ 

è¯¥é¢˜çš„åˆ†æ²»æ³•è§£é¢˜æ€è·¯è§ ğŸ‘‰ ğŸ˜ [53 - æœ€å¤§è¿ç»­å­åºåˆ—å’Œ](è®¡ç®—æœºåŸºç¡€/ç®—æ³•/LeetCode/åˆ†æ²»æ³•/53-æœ€å¤§è¿ç»­å­åºåˆ—å’Œ.md)

æ­¤å¤„æˆ‘ä»¬é‡‡ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•ï¼š

- **ã€æœ€ä¼˜å­ç»“æ„ã€‘**

  å¾ˆæ˜¾ç„¶ï¼Œ<u>ä»¥ ç¬¬ `i+1ï¼Œi+2 ... i+j` ä¸ªæ•°ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œä¸€å®šåŒ…å«ä»¥ç¬¬ `i` ä¸ªæ•°ç»“å°¾çš„è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</u>ã€‚ç¬¦åˆæœ€ä¼˜å­ç»“æ„çš„æ€§è´¨ã€‚

- **ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‘**

  å‡è®¾ nums æ•°ç»„çš„é•¿åº¦æ˜¯ nï¼Œä¸‹æ ‡ä» 0 åˆ° n - 1

  æˆ‘ä»¬ç”¨ $a_i$ ä»£è¡¨ `nums[i]`ï¼Œâ­ <u>ç”¨è¾…åŠ©è¡¨ `f(i)`  ä»£è¡¨ä»¥ç¬¬ `i`  ä¸ªæ•°ç»“å°¾çš„ã€Œè¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</u>ã€ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶æˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆå°±æ˜¯ï¼š

  <img src="https://gitee.com/veal98/images/raw/master/img/20201006144733.png" style="zoom:70%;" />

  å› æ­¤æˆ‘ä»¬åªéœ€è¦æ±‚å‡ºæ¯ä¸ªä½ç½®çš„ `f(i)`ï¼Œç„¶åè¿”å› `f` æ•°ç»„ä¸­çš„æœ€å¤§å€¼å³å¯ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ±‚ `f(i)`  å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è€ƒè™‘ $a_i$ å•ç‹¬æˆä¸ºä¸€æ®µè¿˜æ˜¯åŠ å…¥ `f(i - 1)`  å¯¹åº”çš„é‚£ä¸€æ®µï¼Œè¿™å–å†³äº $a_i$ å’Œ $f(i - 1) + a_i$ çš„å¤§å°ï¼Œæˆ‘ä»¬è·å–å…¶ä¸­çš„è¾ƒå¤§å€¼ï¼Œäºæ˜¯å¯ä»¥å†™å‡ºè¿™æ ·çš„åŠ¨æ€è§„åˆ’çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

  <img src="https://gitee.com/veal98/images/raw/master/img/20201006145044.png" style="zoom: 80%;" />

  ä¹Ÿå°±æ˜¯è¯´ `f[i]` æœ‰ä¸¤ç§ã€Œé€‰æ‹©ã€ï¼Œè¦ä¹ˆä¸å‰é¢çš„ç›¸é‚»å­æ•°ç»„è¿æ¥ï¼Œå½¢æˆä¸€ä¸ªå’Œæ›´å¤§çš„å­æ•°ç»„ï¼›è¦ä¹ˆä¸ä¸å‰é¢çš„å­æ•°ç»„è¿æ¥ï¼Œè‡ªæˆä¸€æ´¾ï¼Œè‡ªå·±ä½œä¸ºä¸€ä¸ªå­æ•°ç»„ã€‚

## âœ…  å…·ä½“ä»£ç  

### â‘  åŸºç¡€åŠ¨æ€è§„åˆ’è§£æ³•

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int n = nums.length;
        if(n == 0)
            return 0;
        
        // çŠ¶æ€è½¬ç§»æ–¹ç¨‹
        int[] f = new int[n];
        f[0] = nums[0]; // base case
        for(int i = 1; i < n; i ++)
            f[i] = Math.max( (f[i-1] + nums[i]), nums[i] );
        
        int max = f[0];
        for(int i = 1; i < n; i ++){
            if(f[i] > max)
                max = f[i];
        }
        return max;
    }
}
```

æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(N)

<img src="https://gitee.com/veal98/images/raw/master/img/20201006150153.png" style="zoom: 50%;" />

### â‘¡ çŠ¶æ€å‹ç¼©

**æ³¨æ„åˆ°** **`f[i]`** **ä»…ä»…å’Œ** **`f[i-1]`** **çš„çŠ¶æ€æœ‰å…³**ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿›è¡Œã€ŒçŠ¶æ€å‹ç¼©ã€ï¼Œå°†ç©ºé—´å¤æ‚åº¦è¿›ä¸€æ­¥é™ä½ï¼š

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int n = nums.length;
        if(n == 0)
            return 0;

        // çŠ¶æ€è½¬ç§»æ–¹ç¨‹
        int f_0 = nums[0];
        int f_1 = 0;
        int max = f_0;
        for(int i = 1; i < n; i ++){
            f_1 = Math.max( (f_0 + nums[i]), nums[i] );
            f_0 = f_1;
            max = Math.max(max,f_1);
        }

        return max;
    }
}
```

ç©ºé—´å¤æ‚åº¦è¢«é™ä½è‡³ O(1)

<img src="https://gitee.com/veal98/images/raw/master/img/20201006150917.png" style="zoom: 50%;" />