# 51. N çš‡å

---

ğŸ‘‰ [51. N çš‡å â€” Hard](https://leetcode-cn.com/problems/n-queens/)

## ğŸ“œ é¢˜ç›®æè¿°

n çš‡åé—®é¢˜ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† n ä¸ªçš‡åæ”¾ç½®åœ¨ nÃ—n çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚

![](https://gitee.com/veal98/images/raw/master/img/20201108150044.png)

ä¸Šå›¾ä¸º 8 çš‡åé—®é¢˜çš„ä¸€ç§è§£æ³•ã€‚

> ğŸ’¡ çš‡åå¯ä»¥æ”»å‡»åŒä¸€è¡Œã€åŒä¸€åˆ—ã€å·¦ä¸Šå·¦ä¸‹å³ä¸Šå³ä¸‹å››ä¸ªæ–¹å‘çš„ä»»æ„å•ä½

ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ n çš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

æ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªæ˜ç¡®çš„ n çš‡åé—®é¢˜çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ '`Q`' å’Œ '`.`' åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚

ç¤ºä¾‹ï¼š

```
è¾“å…¥ï¼š4
è¾“å‡ºï¼š[
 [".Q..",  // è§£æ³• 1
  "...Q",
  "Q...",
  "..Q."],

 ["..Q.",  // è§£æ³• 2
  "Q...",
  "...Q",
  ".Q.."]
]
è§£é‡Š: 4 çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚
```

## ğŸ’¡ è§£é¢˜æ€è·¯

**ã€å›æº¯ç®—æ³•ã€‘** å…·ä½“æ€è·¯è¯¦è§ğŸ‘‰ [https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/7-å›æº¯æ³•](https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/7-å›æº¯æ³•)


## âœ…  å…·ä½“ä»£ç  


```java
class Solution {

    // å­˜å‚¨ N çš‡åçš„ä¸€ç§æ£‹å­æ”¾ç½®æ–¹æ¡ˆ (æ¨¡æ‹Ÿæ£‹ç›˜)
    private List<char[]> board = new LinkedList<>();
    // å­˜å‚¨ N çš‡åçš„æ‰€æœ‰æ£‹å­æ”¾ç½®æ–¹æ¡ˆ
    private List<List<String>> res = new LinkedList<>();

    private void backtrack(int row, int n){
        // ç»“æŸæ¡ä»¶: æ£‹ç›˜çš„æœ€åä¸€è¡Œ n-1 å¤„ç†å®Œæ¯•
        if(row == n){
            // å°† List<char[]> board è½¬æ¢æˆ List<String>
            res.add(transform(board));
            return;
        }
        
        for(int col = 0; col < n; col ++){
            // æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©
            if(!isVaild(n, row, col)) // isVaild åˆ¤æ–­nçš‡åé—®é¢˜ä¸­ (row,col) å¤„èƒ½å¦æ”¾ç½®çš‡å
                continue;
            // åšå‡ºé€‰æ‹©
            board.get(row)[col] = 'Q';
            // è¿›å…¥ä¸‹ä¸€è¡Œå†³ç­–
            backtrack(row + 1, n);
            // æ’¤é”€é€‰æ‹©
            board.get(row)[col] = '.';

        }
    }

    public List<List<String>> solveNQueens(int n) {
        // åˆå§‹åŒ–ç©ºæœŸç›˜
        for(int i = 0; i < n; i ++){
            char[] line = new char[n];
            Arrays.fill(line, '.');
            board.add(line);
        }

        backtrack(0, n); // ä»ç¬¬ 0 è¡Œå¼€å§‹è®¡ç®— n çš‡åé—®é¢˜
        return res;

    }
}
```



