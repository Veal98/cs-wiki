# 322. é›¶é’±å…‘æ¢

---

ğŸ‘‰ [322. é›¶é’±å…‘æ¢](https://leetcode-cn.com/problems/coin-change/)

## ğŸ“œ é¢˜ç›®æè¿°

You are given coins of different denominations and a total amount of money amount. Write a function to compute **the fewest number of coins that you need to make up that amount**. If that amount of money cannot be made up by any combination of the coins, return `-1`.

You may assume that **you have an infinite number of each kind of coin**.

Example 1:

```
Input: coins = [1,2,5], amount = 11
Output: 3
Explanation: 11 = 5 + 5 + 1
```


Example 2:

```
Input: coins = [2], amount = 3
Output: -1
```


Example 3:

```
Input: coins = [1], amount = 0
Output: 0
```


Example 4:

```
Input: coins = [1], amount = 1
Output: 1
```


Example 5:

```
Input: coins = [1], amount = 2
Output: 2
```

## ğŸ’¡ è§£é¢˜æ€è·¯ 

**ã€åŠ¨æ€è§„åˆ’ã€‘**ï¼šç¡¬å¸æ•°é‡æ— é™ï¼Œ**å®Œå…¨èƒŒåŒ…é—®é¢˜**ã€‚è½¬æ¢æˆèƒŒåŒ…é—®é¢˜çš„è¯´æ³•ï¼šæœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œæœ€å¤§å®¹é‡ä¸º `amount`ï¼Œæœ‰ä¸€ç³»åˆ—ç‰©å“ `coins`ï¼Œæ¯ä¸ªç‰©å“çš„é‡é‡ä¸º `coins[i]`ï¼Œ**æ¯ä¸ªç‰©å“çš„æ•°é‡æ— é™**ã€‚è¯·é—®æœ€å°‘éœ€è¦å‡ ä¸ªç‰©å“ï¼Œèƒ½å¤ŸæŠŠèƒŒåŒ…æ°å¥½è£…æ»¡ ï¼Ÿ

ç›´æ¥å¥—å®Œå…¨èƒŒåŒ…é—®é¢˜çš„æ¨¡æ¿å³å¯ï¼ˆä»¥ä¸‹æœ‰ä¸æ‡‚çš„åœ°æ–¹å¯å‚è€ƒè¯¥ç¯‡æ–‡ç«  èƒŒåŒ…é—®é¢˜ éƒ¨åˆ†  ğŸ‘‰ [https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/5-åŠ¨æ€è§„åˆ’](https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/5-åŠ¨æ€è§„åˆ’)ï¼š

- çŠ¶æ€ï¼šã€ŒèƒŒåŒ…çš„å®¹é‡ï¼ˆæ€»é‡‘é¢ï¼‰ã€å’Œã€Œå¯é€‰æ‹©çš„ç‰©å“ï¼ˆç¡¬å¸ï¼‰ã€ã€‚

- é€‰æ‹©ï¼šã€Œè£…è¿›èƒŒåŒ…ã€æˆ–è€…ã€Œä¸è£…è¿›èƒŒåŒ…ã€ã€‚

- è¾…åŠ©è¡¨çš„å®šä¹‰ï¼šç”¨è¾…åŠ©è¡¨è¡¨ç¤ºçŠ¶æ€ï¼Œçœ‹çœ‹åˆšæ‰æ‰¾åˆ°çš„ã€ŒçŠ¶æ€ã€ï¼Œæœ‰ä¸¤ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦ä¸€ä¸ªäºŒç»´`dp`æ•°ç»„ï¼Œä¸€ç»´è¡¨ç¤ºå¯é€‰æ‹©çš„ç‰©å“ï¼Œä¸€ç»´è¡¨ç¤ºèƒŒåŒ…çš„å®¹é‡ã€‚**`dp[i][j]`çš„å®šä¹‰å¦‚ä¸‹ï¼šå¯¹äºå‰`i`ä¸ªç‰©å“ï¼Œå½“å‰èƒŒåŒ…çš„å®¹é‡ä¸º`j` (è¿˜èƒ½è£…å…¥ `j` é‡é‡çš„ç‰©å“)ï¼Œæœ€å°‘éœ€è¦ `dp[i][j]` ä¸ªç‰©å“ï¼ˆç¡¬å¸ï¼‰å¯ä»¥è£…æ»¡èƒŒåŒ…ã€‚** æ¯”å¦‚è¯´ï¼Œå¦‚æœ `dp[3][5] = 6`ï¼Œå…¶å«ä¹‰ä¸ºï¼šå¯¹äºç»™å®šçš„ä¸€ç³»åˆ—ç‰©å“ä¸­ï¼Œè‹¥åªå¯¹å‰ 3 ä¸ªç‰©å“è¿›è¡Œé€‰æ‹©ï¼Œå½“èƒŒåŒ…å®¹é‡ä¸º 5 æ—¶ï¼Œæœ€å°‘éœ€è¦ 6 ä¸ªç‰©å“ï¼ˆç¡¬å¸ï¼‰å¯ä»¥è£…æ»¡èƒŒåŒ…ã€‚**æ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘ä»¬æƒ³æ±‚çš„æœ€ç»ˆç­”æ¡ˆå°±æ˜¯**`dp[coins.length][amount]`ã€‚

- åŸºæœ¬æƒ…å†µ base caseï¼š

  - **ç¡¬å¸æ•°é‡ä¸ºç©ºæ—¶ï¼Œæ— æ³•å‡‘å‡ºä»»ä½•é‡‘é¢ï¼Œ æˆ‘ä»¬å°†å…¶åˆå§‹åŒ–ä¸ºæ— ç©·å¤§**ï¼Œ `dp[0][..] = 0x3f3f3f3f`

  - èƒŒåŒ…å®¹é‡ä¸ºç©ºæ—¶ï¼Œå³æ€»é‡‘é¢ä¸º 0 æ—¶ï¼Œå‡‘æˆ 0 å…ƒä»…éœ€ 0 ä¸ªç¡¬å¸ï¼Œ  å³ `dp[..][0] = 0`

    > ğŸ’¡ åœ¨ Java ä¸­ï¼Œ`dp = new int[..][..];` ä¼šå°† dp æ•°ç»„å…¨éƒ¨åˆå§‹åŒ–æˆ 0ï¼Œæ‰€ä»¥ base case ä¸­çš„ `dp[..][0] = 0` ä¸å¿…åœ¨ä»£ç ä¸­æ‰‹åŠ¨å®ç°~

  â­ OKï¼Œä¸‹é¢å¯ä»¥å¼€å§‹å†™çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼ˆ**é€‰æ‹©ä¸çŠ¶æ€çš„å…³ç³»**ï¼‰ï¼šå¯¹äºå‰`i`ä¸ªç‰©å“ï¼Œå½“å‰èƒŒåŒ…çš„å®¹é‡ä¸º`j` (è¿˜èƒ½è£…å…¥ `j` é‡é‡çš„ç‰©å“)ï¼Œæœ€å°‘éœ€è¦ `dp[i][j]` ä¸ªç‰©å“ï¼ˆç¡¬å¸ï¼‰å¯ä»¥è£…æ»¡èƒŒåŒ…ã€‚ï¼š

  - èƒŒåŒ…å®¹é‡ä¸è¶³ä»¥è£…å…¥ç¬¬ `i` ä¸ªç‰©å“ï¼Œåªèƒ½é€‰æ‹©ä¸è£…å…¥ï¼Œå³`dp[i][j]` åº”è¯¥ç­‰äº `dp[i-1][j]`

  - èƒŒåŒ…å®¹é‡è¶³å¤Ÿè£…å…¥ç¬¬ `i` ä¸ªç‰©å“ï¼š

    - **å¦‚æœä½ æ²¡æœ‰æŠŠè¿™ç¬¬ `i`ä¸ªç‰©å“ï¼ˆä¸‹æ ‡ `i-1` ï¼‰è£…å…¥èƒŒåŒ…**ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œ`dp[i][j]` åº”è¯¥ç­‰äº `dp[i-1][j]`ã€‚

    - **å¦‚æœä½ æŠŠè¿™ç¬¬ `i` ä¸ªç‰©å“è£…å…¥äº†èƒŒåŒ…**ï¼Œé‚£ä¹ˆ`dp[i][j]`åº”è¯¥ç­‰äº`1 + dp[i][j-coins[i-1]]`ã€‚


## âœ…  å…·ä½“ä»£ç  

### â‘  åŠ¨æ€è§„åˆ’åŸºç¡€è§£æ³•


```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        int len = coins.length;

        int[][] dp = new int[len+1][amount+1];

        // base case
        for(int i = 1; i <= amount; i ++){
            // å‰ 0 ç¡¬å¸ä¸å¯èƒ½å‡‘æˆä»»ä½• >0 çš„é‡‘é¢
            // 0x3f3f3f3f è¡¨ç¤ºæ— ç©·å¤§
            dp[0][i] = 0x3f3f3f3f;
        }
        // for(int i = 0; i <= len; i ++){
        //     // å‡‘æˆ 0 å…ƒä»…éœ€ 0 ä¸ªç¡¬å¸
        //     dp[i][0] = 0;
        // }

        for(int i = 1; i <= len; i ++){
            for(int j = 1; j <= amount; j ++){
                // å‰©ä½™æ€»é‡‘é¢å°äºå½“å‰ç¡¬å¸çš„é¢å€¼ï¼Œæ— æ³•è£…å…¥è¯¥ç¡¬å¸
                if(coins[i-1] > j)
                    dp[i][j] = dp[i-1][j];
                else{
                    dp[i][j] = Math.min(dp[i-1][j] , 1 + dp[i][j-coins[i-1]]);
                }
            }
        }

        return dp[len][amount] < 0x3f3f3f3f ? dp[len][amount] : -1;
    }
}
```

### â‘¡ çŠ¶æ€å‹ç¼©

æ ¹æ®ä¸Šé¢çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œåœ¨è®¡ç®— `dp[i][j]` ä¹‹å‰ï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®— `dp[i-1][..]` çš„å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¾…åŠ©æ•°ç»„ `dp` ä»äºŒç»´é™åˆ°ä¸€ç»´ï¼Œå»æ‰ç¬¬ 1 ç»´ï¼ˆå³ `i` çš„é‚£ä¸€ç»´ï¼‰ï¼ŒèŠ‚çº¦ç©ºé—´å¤æ‚åº¦ã€‚â­ **åœ¨å®Œå…¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œç”±äºæ¯ä¸ªç‰©å“å¯ä»¥ä½¿ç”¨æ— é™æ¬¡ï¼Œæˆ‘ä»¬ <u>æ­£åº</u> éå†æ‰€æœ‰ `j` çš„å€¼**ï¼ˆ0-1 èƒŒåŒ…é—®é¢˜çŠ¶æ€å‹ç¼©åæ˜¯é€†åºéå†ï¼‰ã€‚

```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        int len = coins.length;

        int[] dp = new int[amount+1];

        // base case
        Arrays.fill(dp, 0x3f3f3f3f);
        dp[0] = 0; // æ€»é‡‘é¢ä¸º 0 æ—¶åªéœ€è¦ 0 ä¸ªç¡¬å¸

        for(int i = 1; i <= len; i ++){
            for(int j = 1; j <= amount; j ++){
                if(coins[i-1] <= j)
                    dp[j] = Math.min(dp[j] , 1 + dp[j-coins[i-1]]);
            }
        }

        return dp[amount] < 0x3f3f3f3f ? dp[amount] : -1;
    }
}
```

