# ğŸ³â€ğŸŒˆ Vue.js æ¨¡æ¿è¯­æ³•

---

Vue.js ä½¿ç”¨äº†åŸºäº HTML çš„æ¨¡ç‰ˆè¯­æ³•ï¼Œ**å…è®¸å¼€å‘è€…å£°æ˜å¼åœ°å°† DOM ç»‘å®šè‡³åº•å±‚ Vue å®ä¾‹çš„æ•°æ®**ã€‚

Vue.js çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå…è®¸ä½ é‡‡ç”¨ç®€æ´çš„æ¨¡æ¿è¯­æ³•æ¥å£°æ˜å¼çš„å°†æ•°æ®æ¸²æŸ“è¿› DOM çš„ç³»ç»Ÿã€‚

ç»“åˆå“åº”ç³»ç»Ÿï¼Œåœ¨åº”ç”¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œ Vue èƒ½å¤Ÿæ™ºèƒ½åœ°è®¡ç®—å‡ºé‡æ–°æ¸²æŸ“ç»„ä»¶çš„æœ€å°ä»£ä»·å¹¶åº”ç”¨åˆ° DOM æ“ä½œä¸Šã€‚

## 1. æ’å€¼
### â‘  æ–‡æœ¬ `{{ }}`
æ•°æ®ç»‘å®šæœ€å¸¸è§çš„å½¢å¼å°±æ˜¯ä½¿ç”¨ **`{{...}}`**ï¼ˆåŒå¤§æ‹¬å·ï¼‰çš„æ–‡æœ¬æ’å€¼

åœ¨ä¸Šä¸€èŠ‚æˆ‘ä»¬å·²ç»ä½“éªŒè¿‡äº†ï¼š

```vue
<div id="app">
  <p>{{ message }}</p>
</div>
<body>
	<div id="app">
       <p>{{ message }}</p>
    </div>
	<script type="text/javascript">
		var vm = new Vue({
			el: '#app',
			data: {
				message:  "hello"
			}
		})
	</script>
</body>
```


é€šè¿‡ä½¿ç”¨Â [**v-once æŒ‡ä»¤**](https://cn.vuejs.org/v2/api/#v-once)ï¼Œä½ ä¹Ÿèƒ½æ‰§è¡Œä¸€æ¬¡æ€§åœ°æ’å€¼ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œæ’å€¼å¤„çš„å†…å®¹ä¸ä¼šæ›´æ–°ã€‚ä½†è¯·ç•™å¿ƒè¿™ä¼šå½±å“åˆ°è¯¥èŠ‚ç‚¹ä¸Šçš„å…¶å®ƒæ•°æ®ç»‘å®šï¼š

```vue
<span v-once>è¿™ä¸ªå°†ä¸ä¼šæ”¹å˜: {{ msg }}</span>
```

### â‘¡ åŸå§‹ Html `v-html`
**åŒå¤§æ‹¬å·ä¼šå°†æ•°æ®è§£é‡Šä¸ºæ™®é€šæ–‡æœ¬ï¼Œè€Œé HTML ä»£ç **ã€‚ä¸ºäº†è¾“å‡ºçœŸæ­£çš„ HTMLï¼Œä½ éœ€è¦ä½¿ç”¨Â [`v-html` æŒ‡ä»¤](https://cn.vuejs.org/v2/api/#v-html)ï¼š

```vue
<div id="app">
    <div v-html="message"></div>
</div>
    
<script>
new Vue({
  el: '#app',
  data: {
    message: '<h1>Hello</h1>'
  }
})
</script>
```

### â‘¢ å±æ€§Â Attribute `v-bind`
HTML å±æ€§ä¸­çš„å€¼åº”ä½¿ç”¨ **`v-bind`** æŒ‡ä»¤ã€‚

å¯ä»¥ç»‘å®šå·²æœ‰å±æ€§ï¼Œä¹Ÿå¯ä»¥ç»‘å®šè‡ªå®šä¹‰å±æ€§ï¼Œ**`v-bind:id` å³è¡¨ç¤ºå°†è¿™ä¸ª div çš„ id ä¸ dynamicId è¿›è¡Œç»‘å®š**

```vue
<div v-bind:id="dynamicId"></div>
```

å¯¹äºå¸ƒå°” attribute (å®ƒä»¬åªè¦å­˜åœ¨å°±æ„å‘³ç€å€¼ä¸º `true`)ï¼Œ`v-bind` å·¥ä½œèµ·æ¥ç•¥æœ‰ä¸åŒï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š
```vue
<button v-bind:disabled="isButtonDisabled">Button</button>
```
å¦‚æœ `isButtonDisabled` çš„å€¼æ˜¯ `null`ã€`undefined` æˆ– `false`ï¼Œåˆ™ `disabled` attribute ç”šè‡³ä¸ä¼šè¢«åŒ…å«åœ¨æ¸²æŸ“å‡ºæ¥çš„ `<button>` å…ƒç´ ä¸­ã€‚

ä»¥ä¸‹å®ä¾‹åˆ¤æ–­ use çš„å€¼ï¼Œå¦‚æœä¸º true ä½¿ç”¨ class1 ç±»çš„æ ·å¼ï¼Œå¦åˆ™ä¸ä½¿ç”¨è¯¥ç±»ï¼š

```vue
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Vue æµ‹è¯•å®ä¾‹ - èœé¸Ÿæ•™ç¨‹(runoob.com)</title>
</head>
<style>
.class1{
  background: #444;
  color: #eee;
}
</style>
<body>
<script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>

<div id="app">
  <label for="r1">ä¿®æ”¹é¢œè‰²</label><input type="checkbox" v-model="use" id="r1">
  <br><br>
  <div v-bind:class="{'class1': use}">
    // class1å°±æ˜¯è¦ç»‘å®šçš„class,useçš„å€¼å†³å®šäº†æ˜¯å¦è¦ç»‘å®šè¯¥class
    v-bind:class æŒ‡ä»¤
  </div>
</div>
    
<script>
new Vue({
    el: '#app',
  	data:{
      use: false
  }
});
</script>
</body>
```

è¿è¡Œç»“æœï¼Œç‚¹å‡»å˜è‰²ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200731213433.png)

### â‘£ ä½¿ç”¨ JavaScript è¡¨è¾¾å¼
è¿„ä»Šä¸ºæ­¢ï¼Œåœ¨æˆ‘ä»¬çš„æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´éƒ½åªç»‘å®šç®€å•çš„å±æ€§é”®å€¼ã€‚ä½†å®é™…ä¸Šï¼Œå¯¹äºæ‰€æœ‰çš„æ•°æ®ç»‘å®šï¼ŒVue.js éƒ½æä¾›äº†å®Œå…¨çš„ JavaScript è¡¨è¾¾å¼æ”¯æŒã€‚

```vue
<div id="app">
	{{5+5}}<br>
	{{ ok ? 'YES' : 'NO' }}<br>
	{{ message.split('').reverse().join('') }}
</div>
	
<script>
new Vue({
  el: '#app',
  data: {
	ok: true,
    message: 'Love',
  }
})
```

è¿™äº›è¡¨è¾¾å¼ä¼šåœ¨æ‰€å± Vue å®ä¾‹çš„æ•°æ®ä½œç”¨åŸŸä¸‹ä½œä¸º JavaScript è¢«è§£æã€‚æœ‰ä¸ªé™åˆ¶å°±æ˜¯ï¼Œæ¯ä¸ªç»‘å®šéƒ½åªèƒ½åŒ…å«**å•ä¸ªè¡¨è¾¾å¼**ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä¾‹å­éƒ½**ä¸ä¼š**ç”Ÿæ•ˆã€‚

```vue
<!-- è¿™æ˜¯è¯­å¥ï¼Œä¸æ˜¯è¡¨è¾¾å¼ -->
{{ var a = 1 }}
<!-- æµæ§åˆ¶ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè¯·ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ -->
{{ if (ok) { return message } }}
```

## 2. æŒ‡ä»¤ Directives `v-`
æŒ‡ä»¤ (Directives) æ˜¯å¸¦æœ‰Â `v-`Â å‰ç¼€çš„ç‰¹æ®Š attributeã€‚æŒ‡ä»¤ attribute çš„å€¼é¢„æœŸæ˜¯**å•ä¸ª JavaScript è¡¨è¾¾å¼**Â (`v-for`Â æ˜¯ä¾‹å¤–æƒ…å†µï¼Œç¨åæˆ‘ä»¬å†è®¨è®º)ã€‚æŒ‡ä»¤çš„èŒè´£æ˜¯ï¼Œå½“è¡¨è¾¾å¼çš„å€¼æ”¹å˜æ—¶ï¼Œå°†å…¶äº§ç”Ÿçš„è¿å¸¦å½±å“ï¼Œå“åº”å¼åœ°ä½œç”¨äº DOMã€‚

```vue
<div id="app">
  	// è¿™é‡Œï¼Œv-if æŒ‡ä»¤å°†æ ¹æ®è¡¨è¾¾å¼ seen çš„å€¼çš„çœŸå‡æ¥æ’å…¥/ç§»é™¤ <p> å…ƒç´ ã€‚
    <p v-if="seen">ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†</p>
    <template v-if="ok">
      <h1>æµ‹è¯•</h1>
    </template>
</div>
    
<script>
new Vue({
  el: '#app',
  data: {
    seen: true,
    ok: false
  }
})
</script>
```
æ˜¾ç„¶ï¼šä¸Šè¿°çš„ä»£ç ä¸ä¼šè¿è¡Œè¯¥è¯­å¥ `<h1>æµ‹è¯•</h1>`
### â‘  å‚æ•°
ä¸€äº›æŒ‡ä»¤èƒ½å¤Ÿæ¥æ”¶ä¸€ä¸ªâ€œå‚æ•°â€ï¼Œåœ¨æŒ‡ä»¤åç§°ä¹‹åä»¥å†’å·è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œ`v-bind` æŒ‡ä»¤å¯ä»¥ç”¨äºå“åº”å¼åœ°æ›´æ–° HTML attributeï¼š

```vue
<div id="app">
    <pre><a v-bind:href="url">ç™¾åº¦ä¸€ä¸‹</a></pre>
</div>
	
<script>
new Vue({
  el: '#app',
  data: {
    url: 'http://www.baidu.com'
  }
})
```
åœ¨è¿™é‡ŒÂ `href`Â æ˜¯å‚æ•°ï¼Œå‘ŠçŸ¥Â `v-bind`Â æŒ‡ä»¤å°†è¯¥å…ƒç´ çš„Â `href`Â attribute ä¸è¡¨è¾¾å¼Â `url`Â çš„å€¼ç»‘å®šã€‚

å¦ä¸€ä¸ªä¾‹å­æ˜¯ `v-on` æŒ‡ä»¤ï¼Œå®ƒç”¨äºç›‘å¬ DOM äº‹ä»¶ï¼š
```vue
<a v-on:click="doSomething">...</a>
```
åœ¨è¿™é‡Œå‚æ•°æ˜¯ç›‘å¬çš„äº‹ä»¶åã€‚æˆ‘ä»¬ä¹Ÿä¼šæ›´è¯¦ç»†åœ°è®¨è®ºäº‹ä»¶å¤„ç†ã€‚
### â‘¡ åŠ¨æ€å‚æ•°ï¼š2.6.0 æ–°å¢
### â‘¢ ä¿®é¥°ç¬¦ modifier
ä¿®é¥°ç¬¦ (modifier) æ˜¯ä»¥åŠè§’å¥å·Â `.`Â æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚ä¾‹å¦‚ï¼Œ`.prevent`Â ä¿®é¥°ç¬¦å‘Šè¯‰Â `v-on`Â æŒ‡ä»¤å¯¹äºè§¦å‘çš„äº‹ä»¶è°ƒç”¨Â `event.preventDefault()`ï¼š

```vue
<form v-on:submit.prevent="onSubmit">...</form>
```
åœ¨æ¥ä¸‹æ¥å¯¹Â [`v-on`](https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6)Â å’ŒÂ [`v-for`](https://cn.vuejs.org/v2/guide/forms.html#%E4%BF%AE%E9%A5%B0%E7%AC%A6)Â ç­‰åŠŸèƒ½çš„æ¢ç´¢ä¸­ï¼Œä½ ä¼šçœ‹åˆ°ä¿®é¥°ç¬¦çš„å…¶å®ƒä¾‹å­ã€‚
## 3. ç¼©å†™
`v-` å‰ç¼€ä½œä¸ºä¸€ç§è§†è§‰æç¤ºï¼Œç”¨æ¥è¯†åˆ«æ¨¡æ¿ä¸­ Vue ç‰¹å®šçš„ attributeã€‚å½“ä½ åœ¨ä½¿ç”¨ Vue.js ä¸ºç°æœ‰æ ‡ç­¾æ·»åŠ åŠ¨æ€è¡Œä¸º (dynamic behavior) æ—¶ï¼Œ`v-` å‰ç¼€å¾ˆæœ‰å¸®åŠ©ï¼Œç„¶è€Œï¼Œå¯¹äºä¸€äº›é¢‘ç¹ç”¨åˆ°çš„æŒ‡ä»¤æ¥è¯´ï¼Œå°±ä¼šæ„Ÿåˆ°ä½¿ç”¨ç¹çã€‚åŒæ—¶ï¼Œåœ¨æ„å»ºç”± Vue ç®¡ç†æ‰€æœ‰æ¨¡æ¿çš„**å•é¡µé¢åº”ç”¨ç¨‹åº (SPA - single page application) **æ—¶ï¼Œ`v-` å‰ç¼€ä¹Ÿå˜å¾—æ²¡é‚£ä¹ˆé‡è¦äº†ã€‚å› æ­¤ï¼ŒVue ä¸º `v-bind` å’Œ `v-on` è¿™ä¸¤ä¸ªæœ€å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œæä¾›äº†ç‰¹å®šç®€å†™ï¼š

### â‘  `v-bind` ç¼©å†™

æ¯”å¦‚ï¼š`v-bind:href` ç¼©å†™ä¸º `:href`

```vue
<!-- å®Œæ•´è¯­æ³• -->
<a v-bind:href="url">...</a>

<!-- ç¼©å†™ -->
<a :href="url">...</a>

<!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) -->
<a :[key]="url"> ... </a>
```
### â‘¡ `v-on` ç¼©å†™

`v-on:` å¯ç®€å†™ä¸º `@`

```vue
<!-- å®Œæ•´è¯­æ³• -->
<a v-on:click="doSomething">...</a>

<!-- ç¼©å†™ -->
<a @click="doSomething">...</a>

<!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) -->
<a @[event]="doSomething"> ... </a>
```
## 4. ç”¨æˆ·è¾“å…¥

### â‘  `v-model`

åœ¨ input è¾“å…¥æ¡† ä¸­æˆ‘ä»¬å¯ä»¥**ä½¿ç”¨ `v-model` æŒ‡ä»¤æ¥å®ç°åŒå‘æ•°æ®ç»‘å®š**ï¼š

```vue
<div id="app">
    <p>{{ message }}</p>
    <input v-model="message">
</div>
	
<script>
new Vue({
  el: '#app',
  data: {
    message: 'æ•°æ®åŒå‘ç»‘å®š'
  }
})
```
è¿è¡Œç»“æœï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200731214222.png)

**`v-model`** æŒ‡ä»¤ç”¨æ¥åœ¨ inputã€selectã€textareaã€checkboxã€radio ç­‰è¡¨å•æ§ä»¶å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼Œæ ¹æ®è¡¨å•ä¸Šçš„å€¼ï¼Œè‡ªåŠ¨æ›´æ–°ç»‘å®šçš„å…ƒç´ çš„å€¼ã€‚

### â‘¡ `v-on`

**æŒ‰é’®**çš„äº‹ä»¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨` v-on `ç›‘å¬äº‹ä»¶ï¼Œå¹¶å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œå“åº”ã€‚ä»¥ä¸‹å®ä¾‹åœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åå¯¹å­—ç¬¦ä¸²è¿›è¡Œåè½¬æ“ä½œï¼š

```vue
<div id="app">
    <p>{{ message }}</p>
    <button v-on:click="reverseMessage">åè½¬å­—ç¬¦ä¸²</button>
</div>
	
<script>
new Vue({
  el: '#app',
  data: {
    message: 'VueTest'
  },
  methods: {
    reverseMessage: function () {
      this.message = this.message.split('').reverse().join('')
    }
  }
})
```

è¿è¡Œç»“æœï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200731214356.png)

## 5. è¿‡æ»¤å™¨
Vue.js å…è®¸ä½ è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œå¯è¢«ç”¨äºä¸€äº›å¸¸è§çš„æ–‡æœ¬æ ¼å¼åŒ–ã€‚è¿‡æ»¤å™¨å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š**åŒèŠ±æ‹¬å·æ’å€¼å’Œ `v-bind` è¡¨è¾¾å¼**Â (åè€…ä» 2.1.0+ å¼€å§‹æ”¯æŒ)ã€‚è¿‡æ»¤å™¨åº”è¯¥è¢«æ·»åŠ åœ¨ JavaScript è¡¨è¾¾å¼çš„å°¾éƒ¨ï¼Œç”±â€œ**ç®¡é“**â€ç¬¦å·æŒ‡ç¤ºï¼š

```vue
<!-- åœ¨åŒèŠ±æ‹¬å·ä¸­ -->
<!-- messageçš„å€¼ä½œä¸ºcapitalizeå‡½æ•°çš„å‚æ•°ä¼ å…¥ -->
{{ message | capitalize }}

<!-- åœ¨ `v-bind` ä¸­ -->
<div v-bind:id="rawId | formatId"></div>
```
ä»¥ä¸‹å®ä¾‹å°†è¾“å…¥çš„å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—æ¯è½¬ä¸ºå¤§å†™ï¼š

```vue
<div id="app">
  {{ message | capitalize }}
</div>
	
<script>
new Vue({
  el: '#app',
  data: {
	message: 'vuetest'
  },
  filters: {
    capitalize: function (value) {
      if (!value) return ''
      value = value.toString()
      return value.charAt(0).toUpperCase() + value.slice(1)
    }
  }
})
</script>
```
è¿è¡Œç»“æœï¼šVuetest

**è¿‡æ»¤å™¨å¯ä»¥ä¸²è”ï¼š**
```vue
{{ message | filterA | filterB }}
```
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`filterA` è¢«å®šä¹‰ä¸ºæ¥æ”¶å•ä¸ªå‚æ•°çš„è¿‡æ»¤å™¨å‡½æ•°ï¼Œè¡¨è¾¾å¼ `message` çš„å€¼å°†ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°å‡½æ•°ä¸­ã€‚ç„¶åç»§ç»­è°ƒç”¨åŒæ ·è¢«å®šä¹‰ä¸ºæ¥æ”¶å•ä¸ªå‚æ•°çš„è¿‡æ»¤å™¨å‡½æ•° `filterB`ï¼Œå°† `filterA` çš„ç»“æœä¼ é€’åˆ° `filterB` ä¸­ã€‚

**è¿‡æ»¤å™¨æ˜¯ JavaScript å‡½æ•°ï¼Œå› æ­¤å¯ä»¥æ¥æ”¶å‚æ•°ï¼š**

```vue
{{ message | filterA('arg1', arg2) }}
```
è¿™é‡Œï¼Œ`filterA` è¢«å®šä¹‰ä¸ºæ¥æ”¶ä¸‰ä¸ªå‚æ•°çš„è¿‡æ»¤å™¨å‡½æ•°ã€‚å…¶ä¸­ **`message` çš„å€¼ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°**ï¼Œæ™®é€šå­—ç¬¦ä¸² `arg1`Â ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨è¾¾å¼ `arg2` çš„å€¼ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ã€‚

## ğŸ“š References

- ğŸ¦ [èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/vue2)

- ğŸ“˜ [Vue å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide)

- ğŸš [vue2.0ä¸­v-onç»‘å®šè‡ªå®šä¹‰äº‹ä»¶çš„ç†è§£](https://www.cnblogs.com/return00/p/9795028.html)