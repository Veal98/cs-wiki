# ğŸ³ Vue.js ç›‘å¬å±æ€§

å…³é”®å­—ï¼š`watch`<br />æˆ‘ä»¬å¯ä»¥é€šè¿‡ watch æ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚<br />
<br />è™½ç„¶è®¡ç®—å±æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´åˆé€‚ï¼Œä½†æœ‰æ—¶ä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¾¦å¬å™¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Vue é€šè¿‡ `watch` é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯æœ€æœ‰ç”¨çš„ã€‚<br />

<a name="00Mqb"></a>
### å®ä¾‹1ï¼šé€šè¿‡ä½¿ç”¨ watch å®ç°è®¡æ•°å™¨


```html
<body>
<div id = "app">
 <p style = "font-size:25px;">è®¡æ•°å™¨: {{ counter }}</p>
 <button @click = "counter++" style = "font-size:25px;">ç‚¹æˆ‘</button>
</div>
<script type = "text/javascript">
 var vm = new Vue({
    el: '#app',
    data: {
       counter: 1
    }
 });
  //å¦‚æœcounterå‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¿è¡Œ
 vm.$watch('counter', function(nval, oval) {
    alert('è®¡æ•°å™¨å€¼çš„å˜åŒ– :' + oval + ' å˜ä¸º ' + nval + '!');
 });
</script>
</body>
```
è¿è¡Œç»“æœï¼š<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586504139566-c7c9d25f-0190-46c9-b54d-750a9594c3e8.png#align=left&display=inline&height=90&name=image.png&originHeight=180&originWidth=346&size=7168&status=done&style=none&width=173)![image.png](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586504148566-2e410d06-57c1-410a-9855-5a222bbc1947.png#align=left&display=inline&height=98&name=image.png&originHeight=163&originWidth=556&size=7211&status=done&style=none&width=333)<br />

<a name="skFdX"></a>
### å®ä¾‹2ï¼šwatchç›‘å¬ åƒç±³å’Œç±³äº’æ¢


```html
 <body>
      <div id = "computed_props">
        // v-modelåŒå‘ç»‘å®š
         åƒç±³ : <input type = "text" v-model = "kilometers">
         ç±³ : <input type = "text" v-model = "meters">
      </div>
	   <p id="info"></p>
      <script type = "text/javascript">
         var vm = new Vue({
            el: '#computed_props',
            data: {
               kilometers : 0,
               meters:0
            },
            methods: {
            },
            computed :{
            },
            watch : {
               kilometers:function(val) {
                  this.kilometers = val;
                  this.meters = this.kilometers * 1000
               },
               meters : function (val) {
                  this.kilometers = val/ 1000;
                  this.meters = val;
               }
            }
         });
         // $watch æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•
		vm.$watch('kilometers', function (newValue, oldValue) {
			// è¿™ä¸ªå›è°ƒå°†åœ¨ vm.kilometers æ”¹å˜åè°ƒç”¨
		    document.getElementById ("info").innerHTML = "ä¿®æ”¹å‰å€¼ä¸º: " + oldValue + "ï¼Œä¿®æ”¹åå€¼ä¸º: " + newValue;
		})
      </script>
   </body>
```
è¿è¡Œç»“æœï¼š<br />![GIF 2020-4-10 15-50-07.gif](https://cdn.nlark.com/yuque/0/2020/gif/1237282/1586505031499-4cbf7c0a-2d2f-4db6-95c0-93e3e8e38fdd.gif#align=left&display=inline&height=100&name=GIF%202020-4-10%2015-50-07.gif&originHeight=128&originWidth=634&size=57363&status=done&style=none&width=491)<br />
<br />watch å¯¹è±¡åˆ›å»ºäº†ä¸¤ä¸ªæ–¹æ³• kilometers å’Œ metersã€‚<br />**å½“æˆ‘ä»¬åœ¨è¾“å…¥æ¡†è¾“å…¥æ•°æ®æ—¶ï¼Œwatch ä¼šå®æ—¶ç›‘å¬æ•°æ®å˜åŒ–å¹¶æ”¹å˜è‡ªèº«çš„å€¼**
