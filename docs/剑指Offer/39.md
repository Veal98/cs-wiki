# ğŸ‚ 39 - å¹³è¡¡äºŒå‰æ ‘

---



### é¢˜ç›®æè¿°

è¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œåˆ¤æ–­è¯¥äºŒå‰æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚

### å…·ä½“æ€è·¯

ååºéå†ï¼Œé€’å½’åˆ¤æ–­æ¯ä¸ªå­æ ‘æ˜¯å¦ä¸ºå¹³è¡¡äºŒå‰æ ‘

### è§£é¢˜ä»£ç 

- C++

```cpp
class Solution{
public:
    bool IsBalanced(TreeNode* T, int &height,bool &balance){
        if(!T){
            height = 0;
            balance = true;     
        }
        else if(!T->right && !T->left){
            height = 1;
            balance = true;
        }
        else{
            int hl,hr;
            bool bl,br;
            IsBalanced(T->left,hl,bl);
            IsBalanced(T->right,hr,br);
            height = (hl>hr?hl:hr) + 1;
            if(bl&&br && abs(hl-hr)<2)
                balance = true;
            else
                balance = false;
        }
        return balance;
    }
    bool IsBalanced_Solution(TreeNode *pRoot){
        int height;
        bool balance;
        return IsBalanced(pRoot,height,balance);
    }
};
```

- Java

```java
public class Solution {
    public boolean IsBalanced_Solution(TreeNode root) {
        return depth(root) != -1;
    }
    public int depth(TreeNode root){
        if(root == null)
            return 0;
        if(root.left == null && root.right == null)
            return 1;
        int hl = depth(root.left);
        if(hl == -1) //è‹¥å·¦å­æ ‘ä¸å¹³è¡¡
            return -1;
        int hr = depth(root.right);
        if(hr == -1) //è‹¥å³å­æ ‘ä¸å¹³è¡¡
            return -1;
        if(hl - hr < (-1) || hl - hr > 1)
            return -1; //ä¸å¹³è¡¡
        else
            return (hl > hr ? hl : hr) + 1;
    }
}
```

