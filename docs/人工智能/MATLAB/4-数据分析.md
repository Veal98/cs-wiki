# ğŸ’¾ æ•°æ®åˆ†æ

---

## 1. å¯¼å…¥æ•°æ®

ç›´æ¥ <img src="https://gitee.com/veal98/images/raw/master/img/20201024174946.png" style="zoom:67%;" /> å³å¯ ğŸ˜ƒ

å¦‚æœä½¿ç”¨å‘½ä»¤è¡Œçš„è¯ï¼Œå¯å‚è€ƒ [MATLAB å®˜æ–¹æ–‡æ¡£](https://ww2.mathworks.cn/help/matlab/data-import-and-export.html?s_tid=CRUX_lftnav)

ä¸¾ä¸ªä¾‹å­ï¼ŒåŠ è½½ `count.dat` ä¸­çš„æ•°æ®ï¼š

```matlab
load count.dat
```

è¿™ä¸ª 24Ã—3 æ•°ç»„ `count` åŒ…å«ä¸‰ä¸ªåå­—è·¯å£ï¼ˆåˆ—ï¼‰åœ¨ä¸€å¤©ä¸­çš„æ¯å°æ—¶æµé‡ç»Ÿè®¡ï¼ˆè¡Œï¼‰ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201023203638.png" style="zoom:67%;" />

## 2. å¤§å‹æ–‡ä»¶å’Œå¤§æ•°æ®

## 3. æ•°æ®é¢„å¤„ç†

æ‰€è°“é¢„å¤„ç†å°±æ˜¯ï¼šé€šè¿‡å°†æ•°æ®åŠ è½½åˆ°åˆé€‚çš„ MATLAB å®¹å™¨å˜é‡å¹¶åŒºåˆ†â€œæ­£ç¡®â€æ•°æ®å’Œâ€œé”™è¯¯â€æ•°æ®ï¼Œå¼€å§‹æ•°æ®åˆ†æã€‚è¿™æ˜¯åˆçº§æ­¥éª¤ï¼Œå¯ç¡®ä¿åœ¨åç»­çš„åˆ†æè¿‡ç¨‹ä¸­å¾—å‡ºæœ‰æ„ä¹‰çš„ç»“è®ºã€‚

### â‘  æ¸…ç†ç¼ºå¤±æ•°æ®

MATLAB `NaN`ï¼ˆéæ•°å­—ï¼‰å€¼æˆ– `<missing>` é€šå¸¸ç”¨äºè¡¨ç¤ºç¼ºå¤±æ•°æ®ã€‚

| [`ismissing`](https://ww2.mathworks.cn/help/matlab/ref/ismissing.html) | æŸ¥æ‰¾ç¼ºå¤±å€¼     |
| ------------------------------------------------------------ | -------------- |
| [`rmmissing`](https://ww2.mathworks.cn/help/matlab/ref/rmmissing.html) | åˆ é™¤ç¼ºå¤±çš„æ¡ç›® |
| [`fillmissing`](https://ww2.mathworks.cn/help/matlab/ref/fillmissing.html) | å¡«å……ç¼ºå¤±å€¼     |

#### â…  æŸ¥æ‰¾ç¼ºå¤±å€¼ ismissing

`TF = ismissing(A)` è¿”å›é€»è¾‘æ•°ç»„ï¼ŒæŒ‡ç¤ºæ•°ç»„æˆ–è¡¨ä¸­çš„å“ªäº›å…ƒç´ åŒ…å«ç¼ºå¤±å€¼ã€‚`TF` çš„å¤§å°ä¸ `A` çš„å¤§å°ç›¸åŒã€‚

æ ‡å‡†ç¼ºå¤±å€¼å–å†³äºæ•°æ®ç±»å‹ï¼š

- `double`ã€`single`ã€`duration` å’Œ `calendarDuration` çš„æŒ‡ç¤ºç¬¦ä¸º `NaN`
- `datetime` çš„æŒ‡ç¤ºç¬¦ä¸º `NaT`
- `string` çš„æŒ‡ç¤ºç¬¦ä¸º ``
- `categorical` çš„æŒ‡ç¤ºç¬¦ä¸º ``
- `char` çš„æŒ‡ç¤ºç¬¦ä¸º `' '`
- å­—ç¬¦å‘é‡ `cell` çš„æŒ‡ç¤ºç¬¦ä¸º `{''}`

ä¸¾ä¸ªä¾‹å­ï¼š

```matlab
A = [3 NaN 5 6 7 NaN NaN 9];
TF = ismissing(A)

TF = 1x8 logical array

   0   1   0   0   0   1   1   0
```

#### â…¡ åˆ é™¤ç¼ºå¤±å€¼ rmmissing

ğŸ”¸ **`R = rmmissing(A)` ä»æ•°ç»„æˆ–è¡¨ä¸­åˆ é™¤ç¼ºå¤±çš„æ¡ç›®ã€‚å¦‚æœ `A` æ˜¯å‘é‡ï¼Œåˆ™ `rmmissing` ä¼šåˆ é™¤åŒ…å«ç¼ºå¤±æ•°æ®çš„æ‰€æœ‰æ¡ç›®ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–è¡¨ï¼Œåˆ™ `rmmissing` ä¼šåˆ é™¤åŒ…å«ç¼ºå¤±æ•°æ®çš„æ‰€æœ‰è¡Œ**ã€‚ç¼ºå¤±å€¼çš„å®šä¹‰å–å†³äº `A` çš„æ•°æ®ç±»å‹ï¼š

- `NaN` - `double`ã€`single`ã€`duration` å’Œ `calendarDuration`
- `NaT` â€” `datetime`
- `` â€” `string`
- `` â€” `categorical`
- `' '` â€” `char`
- `{''}` - å­—ç¬¦æ•°ç»„çš„ `cell`

```matlab
A = [1 3 NaN 6 NaN];
R = rmmissing(A)
R = 1Ã—3

     1     3     6
```

ğŸ”¸ `R = rmmissing(A,dim)` æŒ‡å®šè¦æ²¿å…¶è¿›è¡Œè¿ç®—çš„ `A` çš„ç»´åº¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`rmmissing` æ²¿å…¶å¤§å°ä¸ä¸º 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚

<img src="https://gitee.com/veal98/images/raw/master/img/20201024205503.png" style="zoom: 55%;" />

```matlab
>> A = [NaN NaN 5 3 NaN 5 7 NaN 9 2;
        8 9 NaN 1 4 5 6 5 NaN 5;
        NaN 4 9 8 7 2 4 1 NaN 3]

A =

   NaN   NaN     5     3   NaN     5     7   NaN     9     2
     8     9   NaN     1     4     5     6     5   NaN     5
   NaN     4     9     8     7     2     4     1   NaN     3

>> R = rmmissing(A,2) % åˆ é™¤å¸¦æœ‰ç©ºç¼ºå€¼çš„ç¬¬ 2 ä¸ªç»´åº¦ï¼ˆåˆ—ï¼‰

R =

     3     5     7     2
     1     5     6     5
     8     2     4     3
```

ğŸ”¸ `R = rmmissing(___,Name,Value)` ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªåç§°-å€¼å¯¹ç»„å‚æ•°æŒ‡å®šç”¨æ¥åˆ é™¤ç¼ºå¤±æ¡ç›®çš„å…¶ä»–å‚æ•°ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `rmmissing(A,'MinNumMissing',n)` åˆ é™¤ `A` çš„åŒ…å«è‡³å°‘ `n` ä¸ªç¼ºå¤±å€¼çš„è¡Œã€‚

ğŸ”¸ `[R,TF] = rmmissing(___)` è¿˜è¿”å›ä¸ `A` ä¸­è¢«åˆ é™¤çš„è¡Œæˆ–åˆ—å¯¹åº”çš„é€»è¾‘å‘é‡ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

```matlab
A = [NaN NaN 5 3 NaN 5 7 NaN 9 2;
     8 9 NaN 1 4 5 6 5 NaN 5;
     NaN 4 9 8 7 2 4 1 NaN 3];

[R,TF] = rmmissing(A,2,'MinNumMissing',2)
R = 3Ã—8

   NaN     5     3   NaN     5     7   NaN     2
     9   NaN     1     4     5     6     5     5
     4     9     8     7     2     4     1     3
TF = 1x10 logical array

   1   0   0   0   0   0   0   0   1   0
```

#### â…¢ å¡«å……ç¼ºå¤±å€¼ fillmissing

ğŸ”¸ `F = fillmissing(A,'constant',v)` ä½¿ç”¨å¸¸é‡å€¼ `v` å¡«å……ç¼ºå¤±çš„æ•°ç»„æˆ–è¡¨æ¡ç›®ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–å¤šç»´æ•°ç»„ï¼Œåˆ™ `v` å¯ä»¥æ˜¯æ ‡é‡æˆ–å‘é‡ã€‚å¦‚æœ `v` æ˜¯å‘é‡ï¼Œæ¯ä¸ªå…ƒç´ æŒ‡å®š `A` å¯¹åº”åˆ—ä¸­çš„å¡«å……å€¼ã€‚å¦‚æœ `A` æ˜¯è¡¨æˆ–æ—¶é—´è¡¨ï¼Œåˆ™ `v` ä¹Ÿå¯ä»¥æ˜¯å…ƒèƒæ•°ç»„ã€‚

ç¼ºå¤±å€¼çš„å®šä¹‰å–å†³äº `A` çš„æ•°æ®ç±»å‹ï¼š

- `NaN` - `double`ã€`single`ã€`duration` å’Œ `calendarDuration`
- `NaT` - `datetime`
- `<missing>` â€” `string`
- `<undefined>` - `categorical`
- `' '` - `char`
- `{''}` - å­—ç¬¦æ•°ç»„çš„ `cell`

å¦‚æœ `A` æ˜¯è¡¨ï¼Œåˆ™æ¯åˆ—çš„æ•°æ®ç±»å‹å®šä¹‰è¯¥åˆ—çš„ç¼ºå¤±å€¼ã€‚

```matlab
 
A = [1 3 NaN 4 NaN NaN 5];
F = fillmissing(A,'constant',2)

F =

     1     3     2     4     2     2     5
```

ğŸ”¸ `F = fillmissing(A,method)` ä½¿ç”¨ `method` æŒ‡å®šçš„æ–¹æ³•å¡«å……ç¼ºå¤±çš„æ¡ç›®ã€‚ä¾‹å¦‚ï¼Œ`fillmissing(A,'previous')` å¯¹ `A` ä¸­çš„ç¼ºå¤±æ¡ç›®ä½¿ç”¨ä¸Šä¸€ä¸ªéç¼ºå¤±æ¡ç›®è¿›è¡Œå¡«å……ã€‚

```matlab
A = [1 3 NaN 4 NaN NaN 5];
F = fillmissing(A,'previous')
F = 1Ã—7

     1     3     3     4     4     4     5
```

`F = fillmissing(___,dim)` æŒ‡å®šè¦æ²¿å…¶è¿›è¡Œè¿ç®—çš„ `A` çš„ç»´åº¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`fillmissing` æ²¿å…¶å¤§å°ä¸ä¸º 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ `A` æ˜¯çŸ©é˜µï¼Œåˆ™ `fillmissing(A,2)` è·¨ `A` çš„å„åˆ—è¿›è¡Œè¿ç®—ï¼Œé€è¡Œå¡«å……ç¼ºå¤±çš„æ•°æ®ã€‚

### â‘¡ æ¸…ç†ç¦»ç¾¤å€¼

**ç¦»ç¾¤å€¼æ˜¯ä¸å…¶ä½™æ•°æ®ä¸­çš„æ¨¡å¼æ˜æ˜¾ä¸åŒçš„æ•°æ®å€¼**ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¦»ç¾¤å€¼æ˜¯æŒ‡ä¸ä¸­ä½æ•°ç›¸å·®è¶…è¿‡ä¸‰å€ç»è¿‡æ¢ç®—çš„[ä¸­ä½æ•°ç»å¯¹åå·® (MAD)](https://ww2.mathworks.cn/help/matlab/ref/isoutlier.html#bvolfgk) çš„å€¼ã€‚ç¦»ç¾¤å€¼å¯èƒ½ç”±è®¡ç®—é”™è¯¯æ‰€è‡´ï¼Œä¹Ÿå¯èƒ½è¡¨ç¤ºæ•°æ®çš„é‡è¦ç‰¹ç‚¹ã€‚æ ¹æ®å¯¹æ•°æ®åŠæ•°æ®æºçš„äº†è§£ï¼Œç¡®å®šç¦»ç¾¤å€¼å¹¶å†³å®šå…¶å¤„ç†æ–¹æ³•ã€‚

#### â…  æŸ¥æ‰¾ç¦»ç¾¤å€¼ isoutlier

ğŸ”¸ `TF = isoutlier(A)` è¿”å›ä¸€ä¸ªé€»è¾‘æ•°ç»„ï¼Œå½“åœ¨ `A` çš„å…ƒç´ ä¸­æ£€æµ‹åˆ°ç¦»ç¾¤å€¼æ—¶ï¼Œè¯¥æ•°ç»„ä¸­ä¸ä¹‹å¯¹åº”çš„å…ƒç´ ä¸º `true`ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–è¡¨ï¼Œåˆ™ `isoutlier` åˆ†åˆ«å¯¹æ¯ä¸€åˆ—è¿›è¡Œè¿ç®—ã€‚å¦‚æœ `A` æ˜¯å¤šç»´æ•°ç»„ï¼Œåˆ™ `isoutlier` æ²¿å¤§å°ä¸ç­‰äº 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
TF = isoutlier(A)
TF = 1x15 logical array

   0   0   0   1   0   0   0   0   1   0   0   0   0   0   0
```

ğŸ”¸ `TF = isoutlier(A, findmethod)` æŒ‡å®šæ£€æµ‹ç¦»ç¾¤å€¼çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ`isoutlier(A,'mean')` å¯¹åç¦»å‡å€¼è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„æ‰€æœ‰å…ƒç´ è¿”å› `true`

| æ£€æµ‹æ–¹æ³• findmethod | è¯´æ˜                                                         |
| :------------------ | :----------------------------------------------------------- |
| `'median'`          | ç¦»ç¾¤å€¼å®šä¹‰ä¸ºä¸ä¸­ä½æ•°ç›¸å·®è¶…è¿‡ä¸‰å€æ¢ç®— MAD çš„å…ƒç´ ã€‚æ¢ç®— MAD å®šä¹‰ä¸º `c*median(abs(A-median(A)))`ï¼Œå…¶ä¸­ `c=-1/(sqrt(2)*erfcinv(3/2))`ã€‚ |
| `'mean'`            | ç¦»ç¾¤å€¼å®šä¹‰ä¸ºä¸å‡å€¼ç›¸å·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„å…ƒç´ ã€‚æ­¤æ–¹æ³•æ¯” `'median'` å¿«ï¼Œä½†æ²¡æœ‰å®ƒå¯é ã€‚ |
| `'quartiles'`       | ç¦»ç¾¤å€¼å®šä¹‰ä¸ºæ¯”ä¸Šå››åˆ†ä½æ•° (75%) å¤§ 1.5 ä¸ªå››åˆ†ä½å·®ä»¥ä¸Šæˆ–æ¯”ä¸‹å››åˆ†ä½æ•° (25%) å° 1.5 ä¸ªå››åˆ†ä½å·®ä»¥ä¸Šçš„å…ƒç´ ã€‚å½“ `A` ä¸­çš„æ•°æ®ä¸æ˜¯æ­£æ€åˆ†å¸ƒæ—¶ï¼Œæ­¤æ–¹æ³•å¾ˆæœ‰ç”¨ã€‚ |
| `'grubbs'`          | ä½¿ç”¨ Grubbs æ£€éªŒæ£€æµ‹ç¦»ç¾¤å€¼ï¼Œå¹¶åŸºäºå‡è®¾æ£€éªŒæ¯æ¬¡è¿­ä»£åˆ é™¤ä¸€ä¸ªç¦»ç¾¤å€¼ã€‚æ­¤æ–¹æ³•å‡è®¾ `A` ä¸­çš„æ•°æ®å‘ˆæ­£æ€åˆ†å¸ƒã€‚ |
| `'gesd'`            | ä½¿ç”¨å¹¿ä¹‰æç«¯ Student åå·®æ£€éªŒæ£€æµ‹ç¦»ç¾¤å€¼ã€‚æ­¤è¿­ä»£æ–¹æ³•ä¸ `'grubbs'` ç±»ä¼¼ï¼Œä½†å½“æœ‰å¤šä¸ªç¦»ç¾¤å€¼äº’ç›¸é®ç›–æ—¶ï¼Œæ­¤æ–¹æ³•çš„æ‰§è¡Œæ•ˆæœæ›´å¥½ã€‚ |

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
TF = isoutlier(A,'mean')
TF = 1x15 logical array

   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0
```

ğŸ”¸ `TF = isoutlier(___,dim)` å°†æ²¿ `A` çš„ç»´åº¦ `dim` è¿ç®—ã€‚ä¾‹å¦‚ï¼Œ`isoutlier(A,2)` æ²¿çŸ©é˜µ `A` çš„æ¯ä¸€è¡Œè¿ç®—ã€‚

#### â…¡ åˆ é™¤ç¦»ç¾¤å€¼ rmoutliers

ğŸ”¸ `B = rmoutliers(A)` æ£€æµ‹å¹¶åˆ é™¤å‘é‡ã€çŸ©é˜µã€è¡¨æˆ–æ—¶é—´è¡¨çš„æ•°æ®ä¸­çš„ç¦»ç¾¤å€¼ã€‚

- å¦‚æœ `A` æ˜¯è¡Œå‘é‡æˆ–åˆ—å‘é‡ï¼Œ`rmoutliers` ä¼šæ£€æµ‹ç¦»ç¾¤å€¼å¹¶å°†å…¶åˆ é™¤ã€‚
- å¦‚æœ `A` æ˜¯çŸ©é˜µã€è¡¨æˆ–æ—¶é—´è¡¨ï¼Œ`rmoutliers` ä¼šåˆ†åˆ«æ£€æµ‹ `A` çš„æ¯ä¸ªåˆ—æˆ–å˜é‡ä¸­çš„ç¦»ç¾¤å€¼å¹¶åˆ é™¤æ•´è¡Œã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œç¦»ç¾¤å€¼æ˜¯æŒ‡è¶…è¿‡ä¸‰å€ç»è¿‡æ¢ç®—çš„ä¸­ä½æ•°ç»å¯¹åå·® (MAD) çš„å€¼ã€‚

ğŸ”¸ `B = rmoutliers(A,method)` æŒ‡å®šç¡®å®šç¦»ç¾¤å€¼çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ`rmoutliers(A,'findmean')` å°† `A` ä¸­ä¸å‡å€¼ç›¸å·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„å…ƒç´ å®šä¹‰ä¸ºç¦»ç¾¤å€¼ã€‚

ğŸ”¸ `B = rmoutliers(___,dim)` åœ¨ä¸Šè¿°ä»»ä½•è¯­æ³•çš„åŸºç¡€ä¸Šæ²¿ `A` çš„ç»´åº¦ `dim` åˆ é™¤ç¦»ç¾¤å€¼ã€‚ä¾‹å¦‚ï¼Œ`rmoutliers(A,2)` åˆ é™¤çŸ©é˜µ `A` çš„åˆ—è€Œä¸æ˜¯è¡Œã€‚

ğŸ”¸ `[B,TF] = rmoutliers(___)` è¿˜è¿”å›ä¸ `A` ä¸­è¢«åˆ é™¤çš„è¡Œæˆ–åˆ—å¯¹åº”çš„é€»è¾‘å‘é‡ã€‚

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
[B,TF] = rmoutliers(A)

B = 1Ã—13

    57    59    60    59    58    57    58    61    62    60    62    58    57
    
TF = 1x15 logical array

   0   0   0   1   0   0   0   0   1   0   0   0   0   0   0
```

#### â…¢ æ›¿æ¢ç¦»ç¾¤å€¼ filloutliers

ğŸ”¸ `B = filloutliers(A,fillmethod)` æŸ¥æ‰¾ `A` ä¸­çš„ç¦»ç¾¤å€¼å¹¶æ ¹æ® `fillmethod` æ›¿æ¢å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œ`filloutliers(A,'previous')` å°†ç¦»ç¾¤å€¼æ›¿æ¢ä¸ºä¸Šä¸€ä¸ªéç¦»ç¾¤å€¼å…ƒç´ ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–è¡¨ï¼Œåˆ™ `filloutliers` åˆ†åˆ«å¯¹æ¯ä¸€åˆ—è¿›è¡Œè¿ç®—ã€‚å¦‚æœ `A` æ˜¯å¤šç»´æ•°ç»„ï¼Œåˆ™ `filloutliers` æ²¿å¤§å°ä¸ç­‰äº 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚

| å¡«å……æ–¹æ³•     | è¯´æ˜                                                         |
| :----------- | :----------------------------------------------------------- |
| æ•°å€¼æ ‡é‡     | ä½¿ç”¨æŒ‡å®šçš„æ ‡é‡å€¼è¿›è¡Œå¡«å……                                     |
| `'center'`   | ä½¿ç”¨ç”± `findmethod` å†³å®šçš„ä¸­å¿ƒå€¼è¿›è¡Œå¡«å……                     |
| `'clip'`     | å¯¹äºæ¯” `findmethod` å†³å®šçš„ä¸‹é˜ˆå€¼è¿˜å°çš„å…ƒç´ ï¼Œç”¨ä¸‹é˜ˆå€¼å¡«å……ã€‚å¯¹äºæ¯” `findmethod` å†³å®šçš„ä¸Šé˜ˆå€¼è¿˜å¤§çš„å…ƒç´ ï¼Œç”¨ä¸Šé˜ˆå€¼å¡«å……ã€‚ |
| `'previous'` | ä½¿ç”¨ä¸Šä¸€ä¸ªéç¦»ç¾¤å€¼è¿›è¡Œå¡«å……                                   |
| `'next'`     | ä½¿ç”¨ä¸‹ä¸€ä¸ªéç¦»ç¾¤å€¼è¿›è¡Œå¡«å……                                   |
| `'nearest'`  | ä½¿ç”¨æœ€æ¥è¿‘çš„éç¦»ç¾¤å€¼è¿›è¡Œå¡«å……                                 |
| `'linear'`   | ä½¿ç”¨ç›¸é‚»çš„éç¦»ç¾¤å€¼çš„çº¿æ€§æ’å€¼è¿›è¡Œå¡«å……                         |
| `'spline'`   | ä½¿ç”¨åˆ†æ®µä¸‰æ¬¡æ ·æ¡æ’å€¼è¿›è¡Œå¡«å……                                 |
| `'pchip'`    | ä½¿ç”¨ä¿å½¢åˆ†æ®µä¸‰æ¬¡æ ·æ¡æ’å€¼è¿›è¡Œå¡«å……                             |
| `'makima'`   | ä¿®æ­£ Akima ä¸‰æ¬¡ Hermite æ’å€¼ï¼ˆä»…é™æ•°å€¼ã€`duration` å’Œ `datetime` æ•°æ®ç±»å‹ï¼‰ |

ä¸¾ä¸ªä¾‹å­ï¼š

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
B = filloutliers(A,'linear');
plot(1:15,A,1:15,B,'o')
legend('Original Data','Interpolated Data')
```

![](https://gitee.com/veal98/images/raw/master/img/20201024215111.png)

ğŸ”¸ `B = filloutliers(A,fillmethod,findmethod)` æŒ‡å®šæ£€æµ‹ç¦»ç¾¤å€¼çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ`filloutliers(A,'previous','mean')` å°† `A` ä¸­ä¸å‡å€¼ç›¸å·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„å…ƒç´ å®šä¹‰ä¸ºç¦»ç¾¤å€¼ã€‚

ğŸ”¸ `B = filloutliers(___,dim)` å°†æ²¿ `A` çš„ç»´åº¦ `dim` è¿ç®—ã€‚ä¾‹å¦‚ï¼Œ`filloutliers(A,'linear',2)` æ²¿çŸ©é˜µ `A` çš„æ¯ä¸€è¡Œè¿ç®—ã€‚

### â‘¢ å¹³æ»‘å¤„ç† smoothdata

ğŸ”¸ `B = smoothdata(A)` ä½¿ç”¨ä»¥å¯å‘æ–¹å¼ç¡®å®šçš„å›ºå®šçª—å£é•¿åº¦è¿”å›å‘é‡å…ƒç´ çš„ç§»åŠ¨å¹³å‡å€¼ã€‚çª—å£å‘ä¸‹æ»‘åŠ¨å‘é‡çš„é•¿åº¦ï¼Œè®¡ç®—æ¯ä¸ªçª—å£ä¸­çš„å…ƒç´ çš„å¹³å‡å€¼ã€‚

- å¦‚æœ `A` ä¸ºçŸ©é˜µï¼Œ`smoothdata` è®¡ç®—æ¯åˆ—çš„ç§»åŠ¨å¹³å‡å€¼ã€‚
- å¦‚æœ `A` æ˜¯å¤šç»´æ•°ç»„ï¼Œåˆ™ `smoothdata` æ²¿å¤§å°ä¸ç­‰äº 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚
- å¦‚æœ `A` æ˜¯åŒ…å«æ•°å€¼å˜é‡çš„è¡¨æˆ–æ—¶é—´è¡¨ï¼Œåˆ™ `smoothdata` é’ˆå¯¹æ¯ä¸ªå˜é‡å•ç‹¬æ‰§è¡Œè¿ç®—ã€‚

```matlab
x = 1:100;
A = cos(2*pi*0.05*x+2*pi*rand) + 0.5*randn(1,100);
B = smoothdata(A);
plot(x,A,'-o',x,B,'-x')
legend('Original Data','Smoothed Data')
```

![](https://gitee.com/veal98/images/raw/master/img/20201027165611.png)

ğŸ”¸ `B = smoothdata(A,dim)` æ²¿ `A` çš„ç»´åº¦ `dim` æ‰§è¡Œè¿ç®—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ `A` æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œåˆ™ `smoothdata(A,2)` å¯¹ `A` ä¸­çš„æ¯è¡Œæ•°æ®è¿›è¡Œå¹³æ»‘å¤„ç†ã€‚

åˆ›å»ºä¸€ä¸ªçŸ©é˜µï¼Œå…¶ä¸­çš„è¡Œè¡¨ç¤ºä¸‰ä¸ªå«å™ªä¿¡å·ã€‚ä½¿ç”¨ç§»åŠ¨å¹³å‡å€¼å¯¹ä¸‰ä¸ªä¿¡å·è¿›è¡Œå¹³æ»‘å¤„ç†ï¼Œå¹¶ç»˜åˆ¶ç»è¿‡å¹³æ»‘å¤„ç†çš„æ•°æ®ã€‚

```matlab
x = 1:100;
s1 = cos(2*pi*0.03*x+2*pi*rand) + 0.5*randn(1,100);
s2 = cos(2*pi*0.04*x+2*pi*rand) + 0.4*randn(1,100) + 5;
s3 = cos(2*pi*0.05*x+2*pi*rand) + 0.3*randn(1,100) - 5;
A = [s1; s2; s3];
B = smoothdata(A,2);
plot(x,B(1,:),x,B(2,:),x,B(3,:))
```

![](https://gitee.com/veal98/images/raw/master/img/20201027165824.png)

### â‘£ å»é™¤çº¿æ€§è¶‹åŠ¿ detrend

MATLAB å‡½æ•° [`detrend`](https://ww2.mathworks.cn/help/matlab/ref/detrend.html) ä»æ•°æ®ä¸­å‡å»å‡å€¼æˆ–æœ€ä½³æ‹Ÿåˆçº¿ï¼ˆä»¥æœ€å°äºŒä¹˜æ–¹å¼ï¼‰ã€‚å¦‚æœæ‚¨çš„æ•°æ®åŒ…å«å¤šä¸ªæ•°æ®åˆ—ï¼Œ`detrend` ä¼šåˆ†åˆ«å¤„ç†æ¯ä¸ªæ•°æ®åˆ—ã€‚

é€šè¿‡ä»æ•°æ®ä¸­å»é™¤çº¿æ€§è¶‹åŠ¿ï¼Œæ‚¨èƒ½å¤Ÿå°†åˆ†æé›†ä¸­åœ¨è¶‹åŠ¿æ•°æ®çš„æ³¢åŠ¨ä¸Šã€‚çº¿æ€§è¶‹åŠ¿é€šå¸¸è¡¨ç¤ºæ•°æ®çš„ç³»ç»Ÿæ€§å¢åŠ æˆ–å‡å°‘ã€‚ä¾‹å¦‚ï¼Œä¼ æ„Ÿå™¨æ¼‚ç§»å¯èƒ½å¯¼è‡´ç³»ç»Ÿæ€§åç§»ã€‚è™½ç„¶è¶‹åŠ¿å¯èƒ½æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä½†åœ¨å»é™¤çº¿æ€§è¶‹åŠ¿åï¼ŒæŸäº›ç±»å‹çš„åˆ†æèƒ½å±•ç°æ›´å¥½çš„æ´å¯ŸåŠ›ã€‚

è§†åˆ†æç›®çš„ä¸åŒï¼Œæ‚¨å¯å†³å®šæ˜¯å¦éœ€è¦å»é™¤æ•°æ®ä¸­çš„è¶‹åŠ¿æ•ˆåº”ã€‚

ğŸ’¬ ä¸¾ä¸ªä¾‹å­ï¼š**ä»è‚¡ç¥¨æ¯æ—¥æ”¶ç›˜ä»·ä¸­å»é™¤çº¿æ€§è¶‹åŠ¿ï¼Œä»¥é‡ç‚¹è§‚å¯Ÿæ•´ä½“æ¶¨å¹…çš„ä»·æ ¼æ³¢åŠ¨**ã€‚å¦‚æœæ•°æ®ç¡®å®æœ‰è¶‹åŠ¿ï¼Œåˆ™å»é™¤çº¿æ€§è¶‹åŠ¿ä¼šå¼ºåˆ¶å…¶å‡å€¼ä¸ºé›¶å¹¶å‡å°‘æ€»ä½“å˜åŒ–ã€‚è¯¥ç¤ºä¾‹ä½¿ç”¨ä» `gallery` å‡½æ•°è·å–çš„åˆ†å¸ƒæ¥æ¨¡æ‹Ÿè‚¡ä»·æ³¢åŠ¨ã€‚

åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿæ•°æ®é›†å¹¶è®¡ç®—å…¶å‡å€¼ã€‚`sdata` è¡¨ç¤ºè‚¡ç¥¨çš„æ¯æ—¥ä»·æ ¼å˜åŠ¨ã€‚

```matlab
t = 0:300;
dailyFluct = gallery('normaldata',size(t),2); 
sdata = cumsum(dailyFluct) + 20 + t/100; % cumsum è¡¨ç¤ºç´¯è®¡å’Œ
```

æ±‚å‡ºæ•°æ®çš„å¹³å‡å€¼ã€‚

```matlab
mean(sdata)
ans = 39.4851
```

ç»˜åˆ¶å’Œæ ‡è®°æ•°æ®ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®æ˜¾ç¤ºè‚¡ä»·å‘ˆç³»ç»Ÿæ€§å¢é•¿ã€‚

```matlab
figure
plot(t,sdata);
legend('Original Data','Location','northwest');
xlabel('Time (days)');
ylabel('Stock Price (dollars)');
```

![](https://gitee.com/veal98/images/raw/master/img/20201027164927.png)

åº”ç”¨ `detrend`ï¼Œå®ƒå¯¹ `sdata` æ‰§è¡Œçº¿æ€§æ‹Ÿåˆï¼Œç„¶åå¯¹å…¶è¿›è¡Œå»é™¤çº¿æ€§è¶‹åŠ¿å¤„ç†ã€‚ä»è¾“å…¥ä¸­å‡å»è¾“å‡ºï¼Œå¾—å‡ºè®¡ç®—æ‰€å¾—çš„è¶‹åŠ¿çº¿ã€‚

```matlab
detrend_sdata = detrend(sdata); % å»é™¤çº¿æ€§è¶‹åŠ¿åçš„æ•°æ®
trend = sdata - detrend_sdata; % è¶‹åŠ¿æ•°æ®
```

æ±‚å‡ºå»é™¤çº¿æ€§è¶‹åŠ¿åçš„æ•°æ®çš„å¹³å‡å€¼ã€‚

```matlab
mean(detrend_sdata)
ans = 5.5710e-15
```

å»é™¤çº¿æ€§è¶‹åŠ¿åï¼Œæ•°æ®å‡å€¼éå¸¸æ¥è¿‘ 0ï¼Œä¸é¢„æœŸç›¸ç¬¦ã€‚

å°†è¶‹åŠ¿çº¿ã€å»é™¤çº¿æ€§è¶‹åŠ¿åçš„æ•°æ®åŠå…¶å‡å€¼æ·»åŠ åˆ°å›¾ä¸­ï¼Œä»¥æ˜¾ç¤ºç»“æœã€‚

```matlab
hold on
plot(t,trend,':r') % è¶‹åŠ¿
plot(t,detrend_sdata,'m') % å»è¶‹åŠ¿
plot(t,zeros(size(t)),':k')
legend('Original Data','Trend','Detrended Data',...
       'Mean of Detrended Data','Location','northwest')
xlabel('Time (days)'); 
ylabel('Stock Price (dollars)');
```

<img src="https://gitee.com/veal98/images/raw/master/img/20201027164857.png" style="zoom: 67%;" />

ğŸš¨ æ³¨æ„ï¼š**æ‚¨å¯ä»¥ä½¿ç”¨å¹³æ»‘æ•°æ®ç¡®å®šæ¨¡å‹ï¼Œä½†åº”é¿å…ä½¿ç”¨å¹³æ»‘æ•°æ®æ‹Ÿåˆæ¨¡å‹**ã€‚

## 4. æè¿°æ€§ç»Ÿè®¡é‡

### â‘  æè¿°æ€§ç»Ÿè®¡é‡å‡½æ•°

**åŸºæœ¬ç»Ÿè®¡é‡**ï¼š

| [`min`](https://ww2.mathworks.cn/help/matlab/ref/min.html)   | æ•°ç»„çš„æœ€å°å…ƒç´             |
| ------------------------------------------------------------ | ------------------------- |
| [`mink`](https://ww2.mathworks.cn/help/matlab/ref/mink.html) | è®¡ç®—æ•°ç»„çš„ `k` ä¸ªæœ€å°å…ƒç´  |
| [`max`](https://ww2.mathworks.cn/help/matlab/ref/max.html)   | æ•°ç»„çš„æœ€å¤§å…ƒç´             |
| [`maxk`](https://ww2.mathworks.cn/help/matlab/ref/maxk.html) | è®¡ç®—æ•°ç»„çš„ `k` ä¸ªæœ€å¤§å…ƒç´  |
| [`bounds`](https://ww2.mathworks.cn/help/matlab/ref/bounds.html) | æœ€å°å…ƒç´ å’Œæœ€å¤§å…ƒç´         |
| [`topkrows`](https://ww2.mathworks.cn/help/matlab/ref/topkrows.html) | æŒ‰æ’åºé¡ºåºçš„å‰è‹¥å¹²è¡Œ      |
| [`mean`](https://ww2.mathworks.cn/help/matlab/ref/mean.html) | æ•°ç»„çš„å‡å€¼                |
| [`median`](https://ww2.mathworks.cn/help/matlab/ref/median.html) | æ•°ç»„çš„ä¸­ä½æ•°å€¼            |
| [`mode`](https://ww2.mathworks.cn/help/matlab/ref/mode.html) | æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å€¼    |
| [`std`](https://ww2.mathworks.cn/help/matlab/ref/std.html)   | æ ‡å‡†å·®                    |
| [`var`](https://ww2.mathworks.cn/help/matlab/ref/var.html)   | æ–¹å·®                      |
| [`corrcoef`](https://ww2.mathworks.cn/help/matlab/ref/corrcoef.html) | ç›¸å…³ç³»æ•°                  |
| [`cov`](https://ww2.mathworks.cn/help/matlab/ref/cov.html)   | åæ–¹å·®                    |
| [`xcorr`](https://ww2.mathworks.cn/help/matlab/ref/xcorr.html) | äº’ç›¸å…³                    |
| [`xcov`](https://ww2.mathworks.cn/help/matlab/ref/xcov.html) | äº’åæ–¹å·®                  |

**ç´¯ç§¯ç»Ÿè®¡é‡**ï¼š

| [`cummax`](https://ww2.mathworks.cn/help/matlab/ref/cummax.html) | ç´¯ç§¯æœ€å¤§å€¼ |
| ------------------------------------------------------------ | ---------- |
| [`cummin`](https://ww2.mathworks.cn/help/matlab/ref/cummin.html) | ç´¯ç§¯æœ€å°å€¼ |

**ç§»åŠ¨ç»Ÿè®¡é‡**ï¼š

| [`movmad`](https://ww2.mathworks.cn/help/matlab/ref/movmad.html) | ç§»åŠ¨ä¸­ä½æ•°ç»å¯¹åå·® |
| ------------------------------------------------------------ | ------------------ |
| [`movmax`](https://ww2.mathworks.cn/help/matlab/ref/movmax.html) | ç§»åŠ¨æœ€å¤§å€¼         |
| [`movmean`](https://ww2.mathworks.cn/help/matlab/ref/movmean.html) | ç§»åŠ¨å‡å€¼           |
| [`movmedian`](https://ww2.mathworks.cn/help/matlab/ref/movmedian.html) | ç§»åŠ¨ä¸­ä½æ•°         |
| [`movmin`](https://ww2.mathworks.cn/help/matlab/ref/movmin.html) | ç§»åŠ¨æœ€å°å€¼         |
| [`movprod`](https://ww2.mathworks.cn/help/matlab/ref/movprod.html) | ç§»åŠ¨ä¹˜ç§¯           |
| [`movstd`](https://ww2.mathworks.cn/help/matlab/ref/movstd.html) | ç§»åŠ¨æ ‡å‡†å·®         |
| [`movsum`](https://ww2.mathworks.cn/help/matlab/ref/movsum.html) | ç§»åŠ¨æ€»å’Œ           |
| [`movvar`](https://ww2.mathworks.cn/help/matlab/ref/movvar.html) | ç§»åŠ¨æ–¹å·®           |

ğŸ’¬ ä¸¾ä¸ªä¾‹å­ï¼šæ­¤ç¤ºä¾‹è¯´æ˜å¦‚ä½•ä½¿ç”¨ MATLAB å‡½æ•°è®¡ç®—ä¸€ä¸ª 24Ã—3 çŸ©é˜µï¼ˆç§°ä¸º `count`ï¼‰çš„æœ€å¤§å€¼ã€å‡å€¼å’Œæ ‡å‡†å·®å€¼ã€‚MATLAB ä¸ºçŸ©é˜µä¸­çš„æ¯åˆ—ç‹¬ç«‹è®¡ç®—è¿™äº›ç»Ÿè®¡ä¿¡æ¯ã€‚

```matlab
% Load the sample data
load count.dat
% Find the maximum value in each column
mx = max(count)
% Calculate the mean of each column
mu = mean(count)
% Calculate the standard deviation of each column
sigma = std(count)
```

ç»“æœæ˜¯

```matlab
mx =
          114          145          257

mu = 
      32.0000      46.5417      65.5833

sigma =
      25.3703      41.4057      68.0281
```

è¦è·å–æ¯ä¸ªæ•°æ®åˆ—ä¸­æœ€å¤§æ•°æ®å€¼æ‰€åœ¨çš„è¡Œå·ï¼Œè¯·æŒ‡å®šå¦ä¸€ä¸ªè¾“å‡ºå‚æ•° `indx` ä»¥è¿”å›è¡Œç´¢å¼•ã€‚ä¾‹å¦‚ï¼š

```matlab
[mx,indx] = max(count)
```

è¿™äº›ç»“æœæ˜¯

```
mx =
      114     145     257

indx =
      20    20    20
```

æ­¤å¤„ï¼Œå˜é‡ `mx` æ˜¯è¡Œå‘é‡ï¼Œå®ƒåŒ…å«ä¸‰ä¸ªæ•°æ®åˆ—ä¸­æ¯ä¸ªåˆ—ä¸­çš„æœ€å¤§å€¼ã€‚å˜é‡ `indx` åŒ…å«æ¯åˆ—ä¸­å¯¹åº”äºæœ€å¤§å€¼çš„è¡Œç´¢å¼•ã€‚

è¦æ‰¾åˆ°æ•´ä¸ª `count` çŸ©é˜µä¸­çš„æœ€å°å€¼ï¼Œè¯·**ä½¿ç”¨è¯­æ³• `count(:)` å°† 24Ã—3 çŸ©é˜µè½¬æ¢ä¸º 72Ã—1 åˆ—å‘é‡**ã€‚ç„¶åï¼Œè¦æ‰¾åˆ°è¯¥å•ä¸€åˆ—ä¸­çš„æœ€å°å€¼ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š

```matlab
min(count(:))

ans =
      7
```

### â‘¡ çº¿æ€§ç›¸å…³æ€§

**ç›¸å…³æ€§ç”¨äºé‡åŒ–ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»å¼ºåº¦**ã€‚è‹¥ä¸¤ä¸ªå˜é‡ä¹‹é—´å¹¶æ— ç›¸å…³æ€§ï¼Œåˆ™ä¸å­˜åœ¨å˜é‡å€¼å‘ç”Ÿå…³è”å¼å¢å‡çš„è¶‹åŠ¿ã€‚ä½†æ˜¯ï¼Œä¸¤ä¸ªä¸ç›¸å…³çš„å˜é‡ä¸ä¸€å®šå½¼æ­¤ç‹¬ç«‹ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½å…·æœ‰éçº¿æ€§å…³ç³»ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨çº¿æ€§ç›¸å…³ç ”ç©¶å˜é‡ä¹‹é—´æ˜¯å¦å­˜åœ¨çº¿æ€§å…³ç³»ï¼Œè€Œæ— é¡»å¯¹æ‚¨çš„æ•°æ®å‡è®¾æˆ–æ‹Ÿåˆå…·ä½“çš„æ¨¡å‹ã€‚çº¿æ€§ç›¸å…³è¾ƒå¼±æˆ–å¹¶æ— çº¿æ€§ç›¸å…³çš„ä¸¤ä¸ªå˜é‡å¯èƒ½å…·æœ‰è¾ƒå¼ºçš„éçº¿æ€§å…³ç³»ã€‚ä½†æ˜¯ï¼Œåœ¨æ‹Ÿåˆæ¨¡å‹ä¹‹å‰è®¡ç®—çº¿æ€§ç›¸å…³æ˜¯è¯†åˆ«å…·æœ‰ç®€å•å…³ç³»çš„å˜é‡çš„æœ‰ç”¨æ–¹æ³•ã€‚ç ”ç©¶å˜é‡ä¹‹é—´ç›¸å…³æ€§çš„å¦ä¸€ç§æ–¹æ³•æ˜¯å¯¹æ•°æ®ç»˜åˆ¶æ•£ç‚¹å›¾ã€‚

åæ–¹å·®ç”¨ç›¸å¯¹äºä¸¤ä¸ªå˜é‡çš„æ–¹å·®çš„å•ä½æ¥é‡åŒ–å®ƒä»¬ä¹‹é—´çš„çº¿æ€§å…³ç³»å¼ºåº¦ã€‚**ç›¸å…³æ€§æ˜¯å½’ä¸€åŒ–çš„åæ–¹å·®**ï¼Œå¯æä¾›è¡¡é‡çº¿æ€§å…³ç³»ç¨‹åº¦çš„æ— é‡çº²é‡ï¼Œä¸”ä¸å—ä»»ä¸€å˜é‡çš„èŒƒå›´çš„å½±å“ã€‚

ä»¥ä¸‹ MATLAB å‡½æ•°å¯è®¡ç®—æ ·æœ¬**ç›¸å…³ç³»æ•°**å’Œ**åæ–¹å·®**ã€‚è¿™äº›æ ·æœ¬ç³»æ•°æ˜¯ä»ä¸­æå–æ•°æ®æ ·æœ¬çš„æ€»ä½“æ•°æ®çš„çœŸå®åæ–¹å·®åŠç›¸å…³ç³»æ•°çš„ä¼°è®¡å€¼ã€‚

| å‡½æ•°                                                         | è¯´æ˜                                   |
| :----------------------------------------------------------- | :------------------------------------- |
| [`corrcoef`](https://ww2.mathworks.cn/help/matlab/ref/corrcoef.html) | ç›¸å…³ç³»æ•°çŸ©é˜µ                           |
| [`cov`](https://ww2.mathworks.cn/help/matlab/ref/cov.html)   | åæ–¹å·®çŸ©é˜µ                             |
| [`xcorr`](https://ww2.mathworks.cn/help/matlab/ref/xcorr.html) | éšæœºè¿‡ç¨‹çš„äº’ç›¸å…³æ€§åºåˆ—ï¼ˆåŒ…æ‹¬è‡ªç›¸å…³æ€§ï¼‰ |

#### â…  åæ–¹å·® cov

ä½¿ç”¨ `cov` å‡½æ•°è®¡ç®—çš„**ã€åæ–¹å·®ã€‘**è®¡ç®—ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»å¼ºåº¦ï¼š

```matlab
c1 = ...
c2 = ...

C12 = cov([c1 c2])
C12 = 2Ã—2
103 Ã—

    0.6437    0.9802
    0.9802    1.7144
```

ç»“æœä»¥å¯¹ç§°çš„æ–¹é˜µå½¢å¼æ˜¾ç¤ºï¼Œå¹¶åœ¨ç¬¬ (i, j) ä¸ªä½ç½®ä¸­æ˜¾ç¤ºç¬¬ i ä¸ªå’Œç¬¬ j ä¸ªå˜é‡çš„åæ–¹å·®ã€‚ç¬¬ i ä¸ªå¯¹è§’çº¿å…ƒç´ æ˜¯ç¬¬ i ä¸ªå˜é‡çš„æ–¹å·®ã€‚

ğŸš© æ ·æœ¬åæ–¹å·®çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š

- `cov(X)` æ˜¯å¯¹ç§°çš„ã€‚
- `diag(cov(X))` æ˜¯æ¯ä¸ªæ•°æ®åˆ—çš„æ–¹å·®çš„å‘é‡ã€‚æ–¹å·®ä»£è¡¨æ•°æ®åœ¨ç›¸åº”åˆ—ä¸­çš„åˆ†æ•£ç¨‹åº¦æŒ‡æ ‡ã€‚ï¼ˆ[`var`](https://ww2.mathworks.cn/help/matlab/ref/var.html) å‡½æ•°è®¡ç®—æ–¹å·®ã€‚ï¼‰
- `sqrt(diag(cov(X)))` æ˜¯æ ‡å‡†å·®çš„å‘é‡ã€‚ï¼ˆ[`std`](https://ww2.mathworks.cn/help/matlab/ref/std.html) å‡½æ•°è®¡ç®—æ ‡å‡†å·®ã€‚ï¼‰
- åæ–¹å·®çŸ©é˜µçš„éå¯¹è§’å…ƒç´ ä»£è¡¨å„ä¸ªæ•°æ®åˆ—ä¹‹é—´çš„åæ–¹å·®ã€‚

#### â…¡ ç›¸å…³ç³»æ•° corrcoef

Qï¼š**åæ–¹å·®çš„ç¼ºç‚¹æ˜¯ï¼šå–å†³äºåº¦é‡å„ä¸ªå˜é‡æ‰€ä½¿ç”¨çš„å•ä½**ã€‚

Aï¼šæ‚¨å¯ä»¥å°†å˜é‡çš„åæ–¹å·®é™¤ä»¥æ ‡å‡†å·®ï¼ˆå³**ã€ç›¸å…³ç³»æ•° Correlation coefficientã€‘**ï¼‰ï¼Œä»¥å°†åæ–¹å·®çš„å€¼ã€**å½’ä¸€åŒ–ã€‘**ä¸ºä»‹äº +1 å’Œ â€“1 ä¹‹é—´ã€‚`corrcoef` å‡½æ•°è®¡ç®—*ç›¸å…³ç³»æ•°*ï¼š

```matlab
R12 = corrcoef([c1 c2])
R12 = 2Ã—2 % ç›¸å…³ç³»æ•°çŸ©é˜µ

    1.0000    0.9331
    0.9331    1.0000
```

- æ¥è¿‘ 1 çš„å€¼è¡¨ç¤ºæ•°æ®åˆ—ä¹‹é—´æœ‰æ­£çº¿æ€§å…³ç³»ã€‚
- æ¥è¿‘ -1 çš„å€¼è¡¨ç¤ºä¸€ä¸ªæ•°æ®åˆ—ä¸å¦ä¸€ä¸ªæ•°æ®åˆ—ä¹‹é—´æœ‰è´Ÿçº¿æ€§å…³ç³»ï¼ˆ*åç›¸å…³*ï¼‰ã€‚
- æ¥è¿‘æˆ–ç­‰äº 0 çš„å€¼è¡¨ç¤ºæ•°æ®åˆ—ä¹‹é—´æ— çº¿æ€§å…³ç³»ã€‚

### â‘¢ çº¿æ€§å›å½’

æ•°æ®*æ¨¡å‹*æ˜ç¡®æè¿°*é¢„æµ‹*å˜é‡ä¸*å“åº”*å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚çº¿æ€§å›å½’æ‹Ÿåˆæ¨¡å‹ç³»æ•°ä¸ºçº¿æ€§çš„æ•°æ®æ¨¡å‹ã€‚æœ€å¸¸è§çš„çº¿æ€§å›å½’ç±»å‹æ˜¯*æœ€å°äºŒä¹˜æ‹Ÿåˆ*ï¼Œå®ƒå¯ç”¨äºæ‹Ÿåˆçº¿å’Œå¤šé¡¹å¼ä»¥åŠå…¶ä»–çº¿æ€§æ¨¡å‹ã€‚

#### â…  ç®€å•çº¿æ€§å›å½’

ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜å¦‚ä½•ä½¿ç”¨ `accidents` æ•°æ®é›†æ‰§è¡Œç®€å•çº¿æ€§å›å½’ã€‚`accidents` æ•°æ®é›†åŒ…å«ç¾å›½é‡å¤§äº¤é€šäº‹æ•…çš„æ•°æ®ã€‚

çº¿æ€§å›å½’å¯¹ä¸€ä¸ªå› å˜é‡ï¼ˆå³å“åº”å˜é‡ï¼‰*y* ä¸ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå˜é‡ï¼ˆå³é¢„æµ‹å˜é‡ï¼‰*x*1,...,*xn* ä¹‹é—´çš„å…³ç³»è¿›è¡Œå»ºæ¨¡ã€‚ç®€å•çº¿æ€§å›å½’ä½¿ç”¨ä»¥ä¸‹å…³ç³»æ–¹ç¨‹ï¼Œä»…è€ƒè™‘ä¸€ä¸ªè‡ªå˜é‡ï¼š*y*=*Î²*0+*Î²*1*x*+*Ïµ*,

å…¶ä¸­ï¼Œ*Î²*0 æ˜¯ y è½´æˆªè·ï¼Œ*Î²*1 æ˜¯æ–œç‡ï¼ˆå³å›å½’ç³»æ•°ï¼‰ï¼Œ*Ïµ* æ˜¯è¯¯å·®é¡¹ã€‚

é¦–å…ˆç¡®å®šä¸€ç»„ï¼ˆ*n* ä¸ªï¼‰*x* å’Œ *y* çš„è§‚æµ‹å€¼ï¼Œä»¥ (*x*1,*y*1), (*x*2,*y*2), ..., (*xn*,*yn*) å½¢å¼ç»™å‡ºã€‚å¯¹è¿™äº›å€¼åº”ç”¨ç®€å•çº¿æ€§å›å½’å…³ç³»æ–¹ç¨‹ï¼Œæ„æˆä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ç»„ã€‚è¿™äº›æ–¹ç¨‹ä»¥çŸ©é˜µå½¢å¼è¡¨ç¤ºå¦‚ä¸‹ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201027173152.png" style="zoom:67%;" />

å‡è®¾:

<img src="https://gitee.com/veal98/images/raw/master/img/20201027173206.png" style="zoom:67%;" />

ç°åœ¨å…³ç³»å˜ä¸º *Y*=*XB*ã€‚

åœ¨ MATLAB ä¸­ï¼Œå¯¹äºæ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼Œæ‚¨å¯ä½¿ç”¨åæ–œæ è¿ç®—ç¬¦ [`mldivide`](https://ww2.mathworks.cn/help/matlab/ref/mldivide.html) æ±‚ *B*ï¼Œå³ `B = X\Y`ã€‚

ä»æ•°æ®é›† `accidents` ä¸­å°†äº‹æ•…æ•°æ®åŠ è½½åˆ° `y` ä¸­ï¼Œå°†å·äººå£æ•°æ®åŠ è½½åˆ° `x` ä¸­ã€‚ä½¿ç”¨ `\` è¿ç®—ç¬¦æ±‚**å·äº‹æ•…æ•°é‡ä¸å·äººå£ä¹‹é—´çš„çº¿æ€§å›å½’å…³ç³» $y=Î²_1x$**ã€‚`\` è¿ç®—ç¬¦æ‰§è¡Œæœ€å°äºŒä¹˜å›å½’ã€‚

```matlab
load accidents
x = hwydata(:,14); % Population of states
y = hwydata(:,4); % Accidents per state
format long
b1 = x\y
b1 = 
     1.372716735564871e-04
```

`b1` æ˜¯æ–œç‡æˆ–å›å½’ç³»æ•°ã€‚çº¿æ€§å…³ç³»ä¸º $y=Î²_1x=0.0001372x$ã€‚

ä½¿ç”¨è¯¥å…³ç³»ï¼Œæ ¹æ® `x` è®¡ç®—æ¯å·çš„äº‹æ•…æ•°é‡ `yCalc`ã€‚å¯¹å®é™…å€¼ `y` ä¸è®¡ç®—å€¼ `yCalc` è¿›è¡Œç»˜å›¾ï¼Œæ˜¾ç¤ºå›å½’æƒ…å†µã€‚

```matlab
yCalc1 = b1*x;
scatter(x,y)
hold on
plot(x,yCalc1)
xlabel('Population of state')
ylabel('Fatal traffic accidents per state')
title('Linear Regression Relation Between Accidents & Population')
```

![](https://gitee.com/veal98/images/raw/master/img/20201027195130.png)

åœ¨æ‚¨çš„æ¨¡å‹ä¸­çº³å…¥ y è½´æˆªè· $Î²_0$ ä»¥æ”¹è¿›æ‹Ÿåˆï¼Œå³ $y=Î²_0+Î²_1x$ã€‚ç”¨ä¸€åˆ— 1 å¡«è¡¥ `x` å¹¶ä½¿ç”¨ `\` è¿ç®—ç¬¦è®¡ç®— $Î²_0$ã€‚

```matlab
X = [ones(length(x),1) x];
b = X\y

b = 2Ã—1
102 Ã—

   1.427120171726538
   0.000001256394274
```

æ­¤ç»“æœè¡¨ç¤ºå…³ç³» $y=Î²_0+Î²_1x=142.7120+0.0001256x$ã€‚

åœ¨åŒä¸€å¹…å›¾ä¸Šç»˜åˆ¶è¯¥ç»“æœï¼Œä»¥å›¾çª—æ–¹å¼æ˜¾ç¤ºè¯¥å…³ç³»ã€‚

```matlab
yCalc2 = X*b;
plot(x,yCalc2,'--')
legend('Data','Slope','Slope & Intercept','Location','best');
```

![](https://gitee.com/veal98/images/raw/master/img/20201027195718.png)

#### â…¡ å¤šé¡¹å¼å›å½’

ä½¿ç”¨ `polyfit` å‡½æ•°ä¼°è®¡å¤šé¡¹å¼æ¨¡å‹çš„ç³»æ•°ï¼Œç„¶åä½¿ç”¨ `polyval` å‡½æ•°æ ¹æ®é¢„æµ‹å˜é‡çš„ä»»æ„å€¼è¯„ä¼°æ¨¡å‹ã€‚

- ğŸ”¸ `p = polyfit(x,y,n)`  è¿”å›æ¬¡æ•°ä¸º `n` çš„å¤šé¡¹å¼ `p(x)` çš„ç³»æ•°ï¼Œè¯¥é˜¶æ•°æ˜¯ `y` ä¸­æ•°æ®çš„æœ€ä½³æ‹Ÿåˆï¼ˆåœ¨æœ€å°äºŒä¹˜æ–¹å¼ä¸­ï¼‰ã€‚`p` ä¸­çš„ç³»æ•°æŒ‰é™å¹‚æ’åˆ—ï¼Œ`p` çš„é•¿åº¦ä¸º `n+1`

<img src="https://gitee.com/veal98/images/raw/master/img/20201024171233.png" style="zoom: 67%;" />

- ğŸ”¸ `y = polyval(p,x)` è®¡ç®—å¤šé¡¹å¼ `p` åœ¨ `x` çš„æ¯ä¸ªç‚¹å¤„çš„å€¼ã€‚å‚æ•° `p` æ˜¯é•¿åº¦ä¸º `n+1` çš„å‘é‡ï¼Œå…¶å…ƒç´ æ˜¯ `n` æ¬¡å¤šé¡¹å¼çš„ç³»æ•°

ä»¥ä¸‹ä»£ç ä½¿ç”¨ 6 æ¬¡å¤šé¡¹å¼æ¨¡å‹æ‹Ÿåˆ `count` æ•°æ®é›†ä¸­ç¬¬ä¸‰ä¸ªåå­—è·¯å£çš„æµé‡æ•°æ®ï¼š

```matlab
load count.dat
c3 = count(:,3); % Data at intersection 3 
tdata = (1:24)'; 
plot(c3,'o-') 

hold on 

p_coeffs = polyfit(tdata,c3,6); % æ±‚å‡º6 æ¬¡å¤šé¡¹å¼æ¨¡å‹çš„å‚æ•°
tfit = (1:0.01:24)'; 
yfit = polyval(p_coeffs,tfit); 
plot(tfit,yfit,'r-','LineWidth',2)

legend('Data','Polynomial Fit')
```

<img src="https://gitee.com/veal98/images/raw/master/img/20201024172150.png" style="zoom:67%;" />

ğŸš¨ **æ­¤æ¨¡å‹çš„ä¼˜ç‚¹æ˜¯å¯ä»¥éå¸¸ç®€å•åœ°è·Ÿè¸ªå‡é™è¶‹åŠ¿ã€‚ä½†æ˜¯ï¼Œæ­¤æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›å¯èƒ½æœ‰æ¬ å‡†ç¡®æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®ä¸¤ç«¯**ã€‚

## ğŸ“š References

- [MATLAB R2020a å®˜æ–¹æ–‡æ¡£](https://ww2.mathworks.cn/help/matlab/index.html)