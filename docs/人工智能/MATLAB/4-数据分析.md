# ğŸ’¾ æ•°æ®åˆ†æ

---

## 1. å¯¼å…¥æ•°æ®

ç›´æ¥ <img src="https://gitee.com/veal98/images/raw/master/img/20201024174946.png" style="zoom:67%;" /> å³å¯ ğŸ˜ƒ

å¦‚æœä½¿ç”¨å‘½ä»¤è¡Œçš„è¯ï¼Œå¯å‚è€ƒ [MATLAB å®˜æ–¹æ–‡æ¡£](https://ww2.mathworks.cn/help/matlab/data-import-and-export.html?s_tid=CRUX_lftnav)

ä¸¾ä¸ªä¾‹å­ï¼ŒåŠ è½½ `count.dat` ä¸­çš„æ•°æ®ï¼š

```matlab
load count.dat
```

è¿™ä¸ª 24Ã—3 æ•°ç»„ `count` åŒ…å«ä¸‰ä¸ªåå­—è·¯å£ï¼ˆåˆ—ï¼‰åœ¨ä¸€å¤©ä¸­çš„æ¯å°æ—¶æµé‡ç»Ÿè®¡ï¼ˆè¡Œï¼‰ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201023203638.png" style="zoom:67%;" />

## 2. å¤§å‹æ–‡ä»¶å’Œå¤§æ•°æ®

## 3. æ•°æ®é¢„å¤„ç†

æ‰€è°“é¢„å¤„ç†å°±æ˜¯ï¼šé€šè¿‡å°†æ•°æ®åŠ è½½åˆ°åˆé€‚çš„ MATLAB å®¹å™¨å˜é‡å¹¶åŒºåˆ†â€œæ­£ç¡®â€æ•°æ®å’Œâ€œé”™è¯¯â€æ•°æ®ï¼Œå¼€å§‹æ•°æ®åˆ†æã€‚è¿™æ˜¯åˆçº§æ­¥éª¤ï¼Œå¯ç¡®ä¿åœ¨åç»­çš„åˆ†æè¿‡ç¨‹ä¸­å¾—å‡ºæœ‰æ„ä¹‰çš„ç»“è®ºã€‚

### â‘  æ¸…ç†ç¼ºå¤±æ•°æ®

MATLAB `NaN`ï¼ˆéæ•°å­—ï¼‰å€¼æˆ– `<missing>` é€šå¸¸ç”¨äºè¡¨ç¤ºç¼ºå¤±æ•°æ®ã€‚

| [`ismissing`](https://ww2.mathworks.cn/help/matlab/ref/ismissing.html) | æŸ¥æ‰¾ç¼ºå¤±å€¼     |
| ------------------------------------------------------------ | -------------- |
| [`rmmissing`](https://ww2.mathworks.cn/help/matlab/ref/rmmissing.html) | åˆ é™¤ç¼ºå¤±çš„æ¡ç›® |
| [`fillmissing`](https://ww2.mathworks.cn/help/matlab/ref/fillmissing.html) | å¡«å……ç¼ºå¤±å€¼     |

#### æŸ¥æ‰¾ç¼ºå¤±å€¼ ismissing

`TF = ismissing(A)` è¿”å›é€»è¾‘æ•°ç»„ï¼ŒæŒ‡ç¤ºæ•°ç»„æˆ–è¡¨ä¸­çš„å“ªäº›å…ƒç´ åŒ…å«ç¼ºå¤±å€¼ã€‚`TF` çš„å¤§å°ä¸ `A` çš„å¤§å°ç›¸åŒã€‚

æ ‡å‡†ç¼ºå¤±å€¼å–å†³äºæ•°æ®ç±»å‹ï¼š

- `double`ã€`single`ã€`duration` å’Œ `calendarDuration` çš„æŒ‡ç¤ºç¬¦ä¸º `NaN`
- `datetime` çš„æŒ‡ç¤ºç¬¦ä¸º `NaT`
- `string` çš„æŒ‡ç¤ºç¬¦ä¸º ``
- `categorical` çš„æŒ‡ç¤ºç¬¦ä¸º ``
- `char` çš„æŒ‡ç¤ºç¬¦ä¸º `' '`
- å­—ç¬¦å‘é‡ `cell` çš„æŒ‡ç¤ºç¬¦ä¸º `{''}`

ä¸¾ä¸ªä¾‹å­ï¼š

```matlab
A = [3 NaN 5 6 7 NaN NaN 9];
TF = ismissing(A)

TF = 1x8 logical array

   0   1   0   0   0   1   1   0
```

#### åˆ é™¤ç¼ºå¤±å€¼ rmmissing

ğŸ”¸ **`R = rmmissing(A)` ä»æ•°ç»„æˆ–è¡¨ä¸­åˆ é™¤ç¼ºå¤±çš„æ¡ç›®ã€‚å¦‚æœ `A` æ˜¯å‘é‡ï¼Œåˆ™ `rmmissing` ä¼šåˆ é™¤åŒ…å«ç¼ºå¤±æ•°æ®çš„æ‰€æœ‰æ¡ç›®ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–è¡¨ï¼Œåˆ™ `rmmissing` ä¼šåˆ é™¤åŒ…å«ç¼ºå¤±æ•°æ®çš„æ‰€æœ‰è¡Œ**ã€‚ç¼ºå¤±å€¼çš„å®šä¹‰å–å†³äº `A` çš„æ•°æ®ç±»å‹ï¼š

- `NaN` - `double`ã€`single`ã€`duration` å’Œ `calendarDuration`
- `NaT` â€” `datetime`
- `` â€” `string`
- `` â€” `categorical`
- `' '` â€” `char`
- `{''}` - å­—ç¬¦æ•°ç»„çš„ `cell`

```matlab
A = [1 3 NaN 6 NaN];
R = rmmissing(A)
R = 1Ã—3

     1     3     6
```

ğŸ”¸ `R = rmmissing(A,dim)` æŒ‡å®šè¦æ²¿å…¶è¿›è¡Œè¿ç®—çš„ `A` çš„ç»´åº¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`rmmissing` æ²¿å…¶å¤§å°ä¸ä¸º 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚

<img src="https://gitee.com/veal98/images/raw/master/img/20201024205503.png" style="zoom: 55%;" />

```matlab
>> A = [NaN NaN 5 3 NaN 5 7 NaN 9 2;
        8 9 NaN 1 4 5 6 5 NaN 5;
        NaN 4 9 8 7 2 4 1 NaN 3]

A =

   NaN   NaN     5     3   NaN     5     7   NaN     9     2
     8     9   NaN     1     4     5     6     5   NaN     5
   NaN     4     9     8     7     2     4     1   NaN     3

>> R = rmmissing(A,2) % åˆ é™¤å¸¦æœ‰ç©ºç¼ºå€¼çš„ç¬¬ 2 ä¸ªç»´åº¦ï¼ˆåˆ—ï¼‰

R =

     3     5     7     2
     1     5     6     5
     8     2     4     3
```

ğŸ”¸ `R = rmmissing(___,Name,Value)` ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªåç§°-å€¼å¯¹ç»„å‚æ•°æŒ‡å®šç”¨æ¥åˆ é™¤ç¼ºå¤±æ¡ç›®çš„å…¶ä»–å‚æ•°ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `rmmissing(A,'MinNumMissing',n)` åˆ é™¤ `A` çš„åŒ…å«è‡³å°‘ `n` ä¸ªç¼ºå¤±å€¼çš„è¡Œã€‚

ğŸ”¸ `[R,TF] = rmmissing(___)` è¿˜è¿”å›ä¸ `A` ä¸­è¢«åˆ é™¤çš„è¡Œæˆ–åˆ—å¯¹åº”çš„é€»è¾‘å‘é‡ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

```matlab
A = [NaN NaN 5 3 NaN 5 7 NaN 9 2;
     8 9 NaN 1 4 5 6 5 NaN 5;
     NaN 4 9 8 7 2 4 1 NaN 3];

[R,TF] = rmmissing(A,2,'MinNumMissing',2)
R = 3Ã—8

   NaN     5     3   NaN     5     7   NaN     2
     9   NaN     1     4     5     6     5     5
     4     9     8     7     2     4     1     3
TF = 1x10 logical array

   1   0   0   0   0   0   0   0   1   0
```

#### å¡«å……ç¼ºå¤±å€¼ fillmissing

ğŸ”¸ `F = fillmissing(A,'constant',v)` ä½¿ç”¨å¸¸é‡å€¼ `v` å¡«å……ç¼ºå¤±çš„æ•°ç»„æˆ–è¡¨æ¡ç›®ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–å¤šç»´æ•°ç»„ï¼Œåˆ™ `v` å¯ä»¥æ˜¯æ ‡é‡æˆ–å‘é‡ã€‚å¦‚æœ `v` æ˜¯å‘é‡ï¼Œæ¯ä¸ªå…ƒç´ æŒ‡å®š `A` å¯¹åº”åˆ—ä¸­çš„å¡«å……å€¼ã€‚å¦‚æœ `A` æ˜¯è¡¨æˆ–æ—¶é—´è¡¨ï¼Œåˆ™ `v` ä¹Ÿå¯ä»¥æ˜¯å…ƒèƒæ•°ç»„ã€‚

ç¼ºå¤±å€¼çš„å®šä¹‰å–å†³äº `A` çš„æ•°æ®ç±»å‹ï¼š

- `NaN` - `double`ã€`single`ã€`duration` å’Œ `calendarDuration`
- `NaT` - `datetime`
- `<missing>` â€” `string`
- `<undefined>` - `categorical`
- `' '` - `char`
- `{''}` - å­—ç¬¦æ•°ç»„çš„ `cell`

å¦‚æœ `A` æ˜¯è¡¨ï¼Œåˆ™æ¯åˆ—çš„æ•°æ®ç±»å‹å®šä¹‰è¯¥åˆ—çš„ç¼ºå¤±å€¼ã€‚

```matlab
 
A = [1 3 NaN 4 NaN NaN 5];
F = fillmissing(A,'constant',2)

F =

     1     3     2     4     2     2     5
```

ğŸ”¸ `F = fillmissing(A,method)` ä½¿ç”¨ `method` æŒ‡å®šçš„æ–¹æ³•å¡«å……ç¼ºå¤±çš„æ¡ç›®ã€‚ä¾‹å¦‚ï¼Œ`fillmissing(A,'previous')` å¯¹ `A` ä¸­çš„ç¼ºå¤±æ¡ç›®ä½¿ç”¨ä¸Šä¸€ä¸ªéç¼ºå¤±æ¡ç›®è¿›è¡Œå¡«å……ã€‚

```matlab
A = [1 3 NaN 4 NaN NaN 5];
F = fillmissing(A,'previous')
F = 1Ã—7

     1     3     3     4     4     4     5
```

`F = fillmissing(___,dim)` æŒ‡å®šè¦æ²¿å…¶è¿›è¡Œè¿ç®—çš„ `A` çš„ç»´åº¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`fillmissing` æ²¿å…¶å¤§å°ä¸ä¸º 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ `A` æ˜¯çŸ©é˜µï¼Œåˆ™ `fillmissing(A,2)` è·¨ `A` çš„å„åˆ—è¿›è¡Œè¿ç®—ï¼Œé€è¡Œå¡«å……ç¼ºå¤±çš„æ•°æ®ã€‚

### â‘¡ æ¸…ç†ç¦»ç¾¤å€¼

**ç¦»ç¾¤å€¼æ˜¯ä¸å…¶ä½™æ•°æ®ä¸­çš„æ¨¡å¼æ˜æ˜¾ä¸åŒçš„æ•°æ®å€¼**ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¦»ç¾¤å€¼æ˜¯æŒ‡ä¸ä¸­ä½æ•°ç›¸å·®è¶…è¿‡ä¸‰å€ç»è¿‡æ¢ç®—çš„[ä¸­ä½æ•°ç»å¯¹åå·® (MAD)](https://ww2.mathworks.cn/help/matlab/ref/isoutlier.html#bvolfgk) çš„å€¼ã€‚ç¦»ç¾¤å€¼å¯èƒ½ç”±è®¡ç®—é”™è¯¯æ‰€è‡´ï¼Œä¹Ÿå¯èƒ½è¡¨ç¤ºæ•°æ®çš„é‡è¦ç‰¹ç‚¹ã€‚æ ¹æ®å¯¹æ•°æ®åŠæ•°æ®æºçš„äº†è§£ï¼Œç¡®å®šç¦»ç¾¤å€¼å¹¶å†³å®šå…¶å¤„ç†æ–¹æ³•ã€‚

#### æŸ¥æ‰¾ç¦»ç¾¤å€¼ isoutlier

ğŸ”¸ `TF = isoutlier(A)` è¿”å›ä¸€ä¸ªé€»è¾‘æ•°ç»„ï¼Œå½“åœ¨ `A` çš„å…ƒç´ ä¸­æ£€æµ‹åˆ°ç¦»ç¾¤å€¼æ—¶ï¼Œè¯¥æ•°ç»„ä¸­ä¸ä¹‹å¯¹åº”çš„å…ƒç´ ä¸º `true`ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–è¡¨ï¼Œåˆ™ `isoutlier` åˆ†åˆ«å¯¹æ¯ä¸€åˆ—è¿›è¡Œè¿ç®—ã€‚å¦‚æœ `A` æ˜¯å¤šç»´æ•°ç»„ï¼Œåˆ™ `isoutlier` æ²¿å¤§å°ä¸ç­‰äº 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
TF = isoutlier(A)
TF = 1x15 logical array

   0   0   0   1   0   0   0   0   1   0   0   0   0   0   0
```

ğŸ”¸ `TF = isoutlier(A, findmethod)` æŒ‡å®šæ£€æµ‹ç¦»ç¾¤å€¼çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ`isoutlier(A,'mean')` å¯¹åç¦»å‡å€¼è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„æ‰€æœ‰å…ƒç´ è¿”å› `true`

| æ£€æµ‹æ–¹æ³• findmethod | è¯´æ˜                                                         |
| :------------------ | :----------------------------------------------------------- |
| `'median'`          | ç¦»ç¾¤å€¼å®šä¹‰ä¸ºä¸ä¸­ä½æ•°ç›¸å·®è¶…è¿‡ä¸‰å€æ¢ç®— MAD çš„å…ƒç´ ã€‚æ¢ç®— MAD å®šä¹‰ä¸º `c*median(abs(A-median(A)))`ï¼Œå…¶ä¸­ `c=-1/(sqrt(2)*erfcinv(3/2))`ã€‚ |
| `'mean'`            | ç¦»ç¾¤å€¼å®šä¹‰ä¸ºä¸å‡å€¼ç›¸å·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„å…ƒç´ ã€‚æ­¤æ–¹æ³•æ¯” `'median'` å¿«ï¼Œä½†æ²¡æœ‰å®ƒå¯é ã€‚ |
| `'quartiles'`       | ç¦»ç¾¤å€¼å®šä¹‰ä¸ºæ¯”ä¸Šå››åˆ†ä½æ•° (75%) å¤§ 1.5 ä¸ªå››åˆ†ä½å·®ä»¥ä¸Šæˆ–æ¯”ä¸‹å››åˆ†ä½æ•° (25%) å° 1.5 ä¸ªå››åˆ†ä½å·®ä»¥ä¸Šçš„å…ƒç´ ã€‚å½“ `A` ä¸­çš„æ•°æ®ä¸æ˜¯æ­£æ€åˆ†å¸ƒæ—¶ï¼Œæ­¤æ–¹æ³•å¾ˆæœ‰ç”¨ã€‚ |
| `'grubbs'`          | ä½¿ç”¨ Grubbs æ£€éªŒæ£€æµ‹ç¦»ç¾¤å€¼ï¼Œå¹¶åŸºäºå‡è®¾æ£€éªŒæ¯æ¬¡è¿­ä»£åˆ é™¤ä¸€ä¸ªç¦»ç¾¤å€¼ã€‚æ­¤æ–¹æ³•å‡è®¾ `A` ä¸­çš„æ•°æ®å‘ˆæ­£æ€åˆ†å¸ƒã€‚ |
| `'gesd'`            | ä½¿ç”¨å¹¿ä¹‰æç«¯ Student åå·®æ£€éªŒæ£€æµ‹ç¦»ç¾¤å€¼ã€‚æ­¤è¿­ä»£æ–¹æ³•ä¸ `'grubbs'` ç±»ä¼¼ï¼Œä½†å½“æœ‰å¤šä¸ªç¦»ç¾¤å€¼äº’ç›¸é®ç›–æ—¶ï¼Œæ­¤æ–¹æ³•çš„æ‰§è¡Œæ•ˆæœæ›´å¥½ã€‚ |

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
TF = isoutlier(A,'mean')
TF = 1x15 logical array

   0   0   0   0   0   0   0   0   1   0   0   0   0   0   0
```

ğŸ”¸ `TF = isoutlier(___,dim)` å°†æ²¿ `A` çš„ç»´åº¦ `dim` è¿ç®—ã€‚ä¾‹å¦‚ï¼Œ`isoutlier(A,2)` æ²¿çŸ©é˜µ `A` çš„æ¯ä¸€è¡Œè¿ç®—ã€‚

#### åˆ é™¤ç¦»ç¾¤å€¼ rmoutliers

ğŸ”¸ `B = rmoutliers(A)` æ£€æµ‹å¹¶åˆ é™¤å‘é‡ã€çŸ©é˜µã€è¡¨æˆ–æ—¶é—´è¡¨çš„æ•°æ®ä¸­çš„ç¦»ç¾¤å€¼ã€‚

- å¦‚æœ `A` æ˜¯è¡Œå‘é‡æˆ–åˆ—å‘é‡ï¼Œ`rmoutliers` ä¼šæ£€æµ‹ç¦»ç¾¤å€¼å¹¶å°†å…¶åˆ é™¤ã€‚
- å¦‚æœ `A` æ˜¯çŸ©é˜µã€è¡¨æˆ–æ—¶é—´è¡¨ï¼Œ`rmoutliers` ä¼šåˆ†åˆ«æ£€æµ‹ `A` çš„æ¯ä¸ªåˆ—æˆ–å˜é‡ä¸­çš„ç¦»ç¾¤å€¼å¹¶åˆ é™¤æ•´è¡Œã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œç¦»ç¾¤å€¼æ˜¯æŒ‡è¶…è¿‡ä¸‰å€ç»è¿‡æ¢ç®—çš„ä¸­ä½æ•°ç»å¯¹åå·® (MAD) çš„å€¼ã€‚

ğŸ”¸ `B = rmoutliers(A,method)` æŒ‡å®šç¡®å®šç¦»ç¾¤å€¼çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ`rmoutliers(A,'findmean')` å°† `A` ä¸­ä¸å‡å€¼ç›¸å·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„å…ƒç´ å®šä¹‰ä¸ºç¦»ç¾¤å€¼ã€‚

ğŸ”¸ `B = rmoutliers(___,dim)` åœ¨ä¸Šè¿°ä»»ä½•è¯­æ³•çš„åŸºç¡€ä¸Šæ²¿ `A` çš„ç»´åº¦ `dim` åˆ é™¤ç¦»ç¾¤å€¼ã€‚ä¾‹å¦‚ï¼Œ`rmoutliers(A,2)` åˆ é™¤çŸ©é˜µ `A` çš„åˆ—è€Œä¸æ˜¯è¡Œã€‚

ğŸ”¸ `[B,TF] = rmoutliers(___)` è¿˜è¿”å›ä¸ `A` ä¸­è¢«åˆ é™¤çš„è¡Œæˆ–åˆ—å¯¹åº”çš„é€»è¾‘å‘é‡ã€‚

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
[B,TF] = rmoutliers(A)

B = 1Ã—13

    57    59    60    59    58    57    58    61    62    60    62    58    57
    
TF = 1x15 logical array

   0   0   0   1   0   0   0   0   1   0   0   0   0   0   0
```

#### æ›¿æ¢ç¦»ç¾¤å€¼ filloutliers

ğŸ”¸ `B = filloutliers(A,fillmethod)` æŸ¥æ‰¾ `A` ä¸­çš„ç¦»ç¾¤å€¼å¹¶æ ¹æ® `fillmethod` æ›¿æ¢å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œ`filloutliers(A,'previous')` å°†ç¦»ç¾¤å€¼æ›¿æ¢ä¸ºä¸Šä¸€ä¸ªéç¦»ç¾¤å€¼å…ƒç´ ã€‚å¦‚æœ `A` æ˜¯çŸ©é˜µæˆ–è¡¨ï¼Œåˆ™ `filloutliers` åˆ†åˆ«å¯¹æ¯ä¸€åˆ—è¿›è¡Œè¿ç®—ã€‚å¦‚æœ `A` æ˜¯å¤šç»´æ•°ç»„ï¼Œåˆ™ `filloutliers` æ²¿å¤§å°ä¸ç­‰äº 1 çš„ç¬¬ä¸€ä¸ªç»´åº¦è¿›è¡Œè¿ç®—ã€‚

| å¡«å……æ–¹æ³•     | è¯´æ˜                                                         |
| :----------- | :----------------------------------------------------------- |
| æ•°å€¼æ ‡é‡     | ä½¿ç”¨æŒ‡å®šçš„æ ‡é‡å€¼è¿›è¡Œå¡«å……                                     |
| `'center'`   | ä½¿ç”¨ç”± `findmethod` å†³å®šçš„ä¸­å¿ƒå€¼è¿›è¡Œå¡«å……                     |
| `'clip'`     | å¯¹äºæ¯” `findmethod` å†³å®šçš„ä¸‹é˜ˆå€¼è¿˜å°çš„å…ƒç´ ï¼Œç”¨ä¸‹é˜ˆå€¼å¡«å……ã€‚å¯¹äºæ¯” `findmethod` å†³å®šçš„ä¸Šé˜ˆå€¼è¿˜å¤§çš„å…ƒç´ ï¼Œç”¨ä¸Šé˜ˆå€¼å¡«å……ã€‚ |
| `'previous'` | ä½¿ç”¨ä¸Šä¸€ä¸ªéç¦»ç¾¤å€¼è¿›è¡Œå¡«å……                                   |
| `'next'`     | ä½¿ç”¨ä¸‹ä¸€ä¸ªéç¦»ç¾¤å€¼è¿›è¡Œå¡«å……                                   |
| `'nearest'`  | ä½¿ç”¨æœ€æ¥è¿‘çš„éç¦»ç¾¤å€¼è¿›è¡Œå¡«å……                                 |
| `'linear'`   | ä½¿ç”¨ç›¸é‚»çš„éç¦»ç¾¤å€¼çš„çº¿æ€§æ’å€¼è¿›è¡Œå¡«å……                         |
| `'spline'`   | ä½¿ç”¨åˆ†æ®µä¸‰æ¬¡æ ·æ¡æ’å€¼è¿›è¡Œå¡«å……                                 |
| `'pchip'`    | ä½¿ç”¨ä¿å½¢åˆ†æ®µä¸‰æ¬¡æ ·æ¡æ’å€¼è¿›è¡Œå¡«å……                             |
| `'makima'`   | ä¿®æ­£ Akima ä¸‰æ¬¡ Hermite æ’å€¼ï¼ˆä»…é™æ•°å€¼ã€`duration` å’Œ `datetime` æ•°æ®ç±»å‹ï¼‰ |

ä¸¾ä¸ªä¾‹å­ï¼š

```matlab
A = [57 59 60 100 59 58 57 58 300 61 62 60 62 58 57];
B = filloutliers(A,'linear');
plot(1:15,A,1:15,B,'o')
legend('Original Data','Interpolated Data')
```

![](https://gitee.com/veal98/images/raw/master/img/20201024215111.png)

ğŸ”¸ `B = filloutliers(A,fillmethod,findmethod)` æŒ‡å®šæ£€æµ‹ç¦»ç¾¤å€¼çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ`filloutliers(A,'previous','mean')` å°† `A` ä¸­ä¸å‡å€¼ç›¸å·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„å…ƒç´ å®šä¹‰ä¸ºç¦»ç¾¤å€¼ã€‚

ğŸ”¸ `B = filloutliers(___,dim)` å°†æ²¿ `A` çš„ç»´åº¦ `dim` è¿ç®—ã€‚ä¾‹å¦‚ï¼Œ`filloutliers(A,'linear',2)` æ²¿çŸ©é˜µ `A` çš„æ¯ä¸€è¡Œè¿ç®—ã€‚

### â‘¢ å¹³æ»‘å’Œç­›é€‰

ä»¥ `count.dat` æ–‡ä»¶ä¸ºä¾‹ï¼š

```matlab
load count.dat
```

<img src="https://gitee.com/veal98/images/raw/master/img/20201023203638.png" style="zoom:67%;" />

ç¬¬ä¸‰ä¸ªåå­—è·¯å£çš„æ•°æ®æ—¶åºå›¾ï¼ˆå·²åœ¨ç¦»ç¾¤å€¼ä¸­åˆ é™¤è¯¥ç¦»ç¾¤å€¼ï¼‰ç”Ÿæˆä»¥ä¸‹ç»˜å›¾ï¼š

```matlab
c3m = count(:,3)
plot(c3m,'o-')
hold on
```

![](https://gitee.com/veal98/images/raw/master/img/20201023204912.png)

åœ¨ç»˜å›¾ä¸­ï¼Œç¬¬ 20 ä¸ªå°æ—¶çš„ `NaN` å€¼å‡ºç°é—´éš”ã€‚è¿™ç§å¯¹ `NaN` å€¼çš„å¤„ç†æ–¹å¼æ˜¯ MATLAB ç»˜å›¾å‡½æ•°æ‰€ç‰¹æœ‰çš„ã€‚

å™ªéŸ³æ•°æ®å›´ç»•é¢„æœŸå€¼æ˜¾ç¤ºéšæœºå˜åŒ–ã€‚æ‚¨**å¯èƒ½å¸Œæœ›åœ¨æ„å»ºæ¨¡å‹ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œå¹³æ»‘å¤„ç†ï¼Œä»¥ä¾¿æ˜¾ç¤ºå…¶ä¸»è¦ç‰¹ç‚¹**ã€‚å¹³æ»‘å¤„ç†åº”å½“ä»¥ä¸‹é¢ä¸¤ä¸ªåŸºæœ¬å‡å®šä¸ºåŸºç¡€ï¼š

- é¢„æµ‹å˜é‡ï¼ˆæ—¶é—´ï¼‰å’Œå“åº”ï¼ˆæµé‡ï¼‰ä¹‹é—´çš„å…³ç³»å¹³ç¨³ã€‚

- ç”±äºå·²å‡å°‘å™ªéŸ³ï¼Œå› æ­¤å¹³æ»‘ç®—æ³•ç”Ÿæˆæ¯”é¢„æœŸå€¼æ›´å¥½çš„ä¼°è®¡å€¼ã€‚

ä½¿ç”¨ MATLAB `convn` å‡½æ•°å¯¹æ•°æ®åº”ç”¨ç®€å•ç§»åŠ¨å¹³å‡å¹³æ»‘æ³•ï¼š

```matlab
span = 3; % Size of the averaging window
window = ones(span,1)/span; 
smoothed_c3m = convn(c3m,window,'same');

h = plot(smoothed_c3m,'ro-');
legend('Data','Smoothed Data')
```

![](https://gitee.com/veal98/images/raw/master/img/20201023205150.png)

**ä½¿ç”¨å˜é‡ `span` æ§åˆ¶å¹³æ»‘èŒƒå›´**ã€‚å½“å¹³æ»‘çª—å£åœ¨æ•°æ®ä¸­åŒ…å« `NaN` å€¼æ—¶ï¼Œå¹³å‡å€¼è®¡ç®—è¿”å› `NaN` å€¼ï¼Œä»è€Œå¢å¤§å¹³æ»‘æ•°æ®ä¸­çš„é—´éš”å¤§å°ã€‚

æ­¤å¤–ï¼Œè¿˜å¯ä»¥å¯¹å¹³æ»‘æ•°æ®ä½¿ç”¨ `filter` å‡½æ•°ï¼š

```matlab
smoothed2_c3m = filter(window,1,c3m);

delete(h)
plot(smoothed2_c3m,'ro-','DisplayName','Smoothed Data');
```

![](https://gitee.com/veal98/images/raw/master/img/20201023205243.png)

å¹³æ»‘æ•°æ®åœ¨ä»¥ä¸Šç»˜å›¾çš„åŸºç¡€ä¸Šå‘ç”Ÿäº†åç§»ã€‚å¸¦æœ‰ `'same'` å‚æ•°çš„ `convn` è¿”å›å·ç§¯çš„ä¸­é—´éƒ¨åˆ†ï¼Œå…¶é•¿åº¦ä¸æ•°æ®ç›¸åŒã€‚`filter` è¿”å›å·ç§¯çš„å¼€å¤´ï¼Œå…¶é•¿åº¦ä¸æ•°æ®ç›¸åŒã€‚å¦åˆ™ç®—æ³•ç›¸åŒã€‚

å¹³æ»‘å¤„ç†å¯ä¼°è®¡é¢„æµ‹å˜é‡çš„æ¯ä¸ªå€¼çš„å“åº”å€¼åˆ†å¸ƒçš„ä¸­å¿ƒã€‚å®ƒä½¿è®¸å¤šæ‹Ÿåˆç®—æ³•çš„åŸºæœ¬å‡å®šæ— æ•ˆï¼Œå³*é¢„æµ‹å™¨çš„æ¯ä¸ªå€¼çš„é”™è¯¯å½¼æ­¤ç‹¬ç«‹*ã€‚ç›¸åº”åœ°ï¼Œ**æ‚¨å¯ä»¥ä½¿ç”¨å¹³æ»‘æ•°æ®ç¡®å®šæ¨¡å‹ï¼Œä½†åº”é¿å…ä½¿ç”¨å¹³æ»‘æ•°æ®æ‹Ÿåˆæ¨¡å‹**ã€‚

## 4. å¯è§†åŒ–æ•°æ®

ç»˜å›¾å‡½æ•°éå¸¸å¤šï¼Œæ­¤å¤„å°±ä»¥æ•£ç‚¹å›¾ä¸¾ä¸ªä¾‹å­  ğŸ‘‡

### â‘  äºŒç»´æ•£ç‚¹å›¾

äºŒç»´æ•£ç‚¹å›¾ä½¿ç”¨ `scatter` å‡½æ•°åˆ›å»ºï¼Œç”¨äºæ˜¾ç¤ºå‰ä¸¤ä¸ªåå­—è·¯å£çš„æµé‡ä¹‹é—´çš„å…³ç³»ï¼š

```matlab
load count.dat
c1 = count(:,1); % Data at intersection 1
c2 = count(:,2); % Data at intersection 2

scatter(c1,c2,'filled')
xlabel('Intersection 1')
ylabel('Intersection 2')
```

![](https://gitee.com/veal98/images/raw/master/img/20201024164615.png)

ä½¿ç”¨ `cov` å‡½æ•°è®¡ç®—çš„**ã€åæ–¹å·®ã€‘**è®¡ç®—ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»å¼ºåº¦ï¼ˆæ•°æ®åœ¨æ•£ç‚¹å›¾ä¸­æ²¿ç€æœ€å°äºŒä¹˜ç›´çº¿æ’åˆ—çš„æ¾ç´§åº¦ï¼‰ï¼š

```matlab
C12 = cov([c1 c2])
C12 = 2Ã—2
103 Ã—

    0.6437    0.9802
    0.9802    1.7144
```

ç»“æœä»¥å¯¹ç§°çš„æ–¹é˜µå½¢å¼æ˜¾ç¤ºï¼Œå¹¶åœ¨ç¬¬ (i, j) ä¸ªä½ç½®ä¸­æ˜¾ç¤ºç¬¬ i ä¸ªå’Œç¬¬ j ä¸ªå˜é‡çš„åæ–¹å·®ã€‚ç¬¬ i ä¸ªå¯¹è§’çº¿å…ƒç´ æ˜¯ç¬¬ i ä¸ªå˜é‡çš„æ–¹å·®ã€‚

Qï¼š**åæ–¹å·®çš„ç¼ºç‚¹æ˜¯ï¼šå–å†³äºåº¦é‡å„ä¸ªå˜é‡æ‰€ä½¿ç”¨çš„å•ä½**ã€‚

Aï¼šæ‚¨å¯ä»¥å°†å˜é‡çš„åæ–¹å·®é™¤ä»¥æ ‡å‡†å·®ï¼ˆå³**ã€ç›¸å…³ç³»æ•° Correlation coefficientã€‘**ï¼‰ï¼Œä»¥å°†åæ–¹å·®çš„å€¼ã€**å½’ä¸€åŒ–ã€‘**ä¸ºä»‹äº +1 å’Œ â€“1 ä¹‹é—´ã€‚`corrcoef` å‡½æ•°è®¡ç®—*ç›¸å…³ç³»æ•°*ï¼š

```matlab
R12 = corrcoef([c1 c2])
R12 = 2Ã—2

    1.0000    0.9331
    0.9331    1.0000
r12 = R12(1,2) % ç›¸å…³ç³»æ•°
r12 = 0.9331
```

ç”±äºå·²ç»è¿‡å½’ä¸€åŒ–ï¼Œå› æ­¤ç›¸å…³ç³»æ•°çš„å€¼å¯ä»¥æ–¹ä¾¿åœ°ä¸å…¶ä»–æˆå¯¹çš„åå­—è·¯å£çš„å€¼ç›¸æ¯”è¾ƒã€‚

### â‘¡ ä¸‰ç»´æ•£ç‚¹å›¾

ä¸‰ç»´æ•£ç‚¹å›¾ä½¿ç”¨ [`scatter3`](https://ww2.mathworks.cn/help/matlab/ref/scatter3.html) å‡½æ•°åˆ›å»ºï¼Œç”¨äºæ˜¾ç¤ºæ‰€æœ‰ä¸‰ä¸ªåå­—è·¯å£çš„æµé‡ä¹‹é—´çš„å…³ç³»ï¼šä½¿ç”¨åœ¨ä¸Šè¿°æ­¥éª¤ä¸­åˆ›å»ºçš„å˜é‡ `c1`ã€`c2` å’Œ `c3`ï¼š

```matlab
figure % æ‰“å¼€æ–°çš„å›¾çª—çª—å£å¹¶å°†å…¶ä½œä¸ºå½“å‰å›¾çª—
c3 = count(:,3); % Data at intersection 3
scatter3(c1,c2,c3,'filled')
xlabel('Intersection 1')
ylabel('Intersection 2')
zlabel('Intersection 3')
```

![](https://gitee.com/veal98/images/raw/master/img/20201024165613.png)

é€šè¿‡ä½¿ç”¨ [`eig`](https://ww2.mathworks.cn/help/matlab/ref/eig.html) å‡½æ•°è®¡ç®—**ã€åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼ã€‘**æ¥åº¦é‡ä¸‰ç»´æ•£ç‚¹å›¾ä¸­çš„å˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»å¼ºåº¦ï¼š

```matlab
vars = eig(cov([c1 c2 c3]))
vars = 3Ã—1
103 Ã—

    0.0442
    0.1118
    6.8300
```

## 5. æè¿°æ€§ç»Ÿè®¡é‡



## 2. æ±‡æ€»æ•°æ®

è®¸å¤š MATLAB å‡½æ•°éƒ½å¯ä»¥ç”¨äºæ±‡æ€»æ•°æ®æ ·æœ¬çš„æ€»ä½“ä½ç½®ã€è§„æ¨¡å’Œå½¢çŠ¶ã€‚

ä½¿ç”¨ MATLAB çš„ä¸€å¤§ä¼˜ç‚¹æ˜¯ï¼š**å‡½æ•°å¤„ç†æ•´ä¸ªæ•°æ®æ•°ç»„ï¼Œè€Œä¸æ˜¯ä»…å¤„ç†å•ä¸€æ ‡é‡å€¼ã€‚è¿™äº›å‡½æ•°ç§°ä¸ºã€å‘é‡åŒ–å‡½æ•°ã€‘**ã€‚é€šè¿‡å‘é‡åŒ–å¯ä»¥è¿›è¡Œæœ‰æ•ˆçš„é—®é¢˜å…¬å¼åŒ–ï¼ˆä½¿ç”¨åŸºäºæ•°ç»„çš„æ•°æ®ï¼‰å’Œæœ‰æ•ˆè®¡ç®—ï¼ˆä½¿ç”¨å‘é‡åŒ–ç»Ÿè®¡å‡½æ•°ï¼‰ã€‚

### â‘  ä½ç½®åº¦é‡

é€šè¿‡å®šä¹‰â€œå…¸å‹â€å€¼æ¥æ±‡æ€»æ•°æ®ç¤ºä¾‹çš„ä½ç½®ã€‚ä½¿ç”¨å‡½æ•° `mean`ã€`median` å’Œ `mode` è®¡ç®—å¸¸è§ä½ç½®åº¦é‡æˆ–â€œé›†ä¸­è¶‹åŠ¿â€ï¼š

```matlab
load count.dat

x1 = mean(count) % æ¯åˆ—çš„å¹³å‡å€¼
x1 = 1Ã—3

   32.0000   46.5417   65.5833
   
x2 = median(count) % æ¯åˆ—çš„ä¸­ä½æ•°
x2 = 1Ã—3

   23.5000   36.0000   39.0000
   
x3 = mode(count) % æ¯åˆ—å‡ºç°æ¬¡æ•°æœ€å¤šçš„å€¼
x3 = 1Ã—3

    11     9     9 
```

ä¸æ‰€æœ‰ç»Ÿè®¡å‡½æ•°ä¸€æ ·ï¼Œä¸Šè¿° MATLABÂ® å‡½æ•°æ±‡æ€»å¤šä¸ªåˆ—ä¸­çš„æ•°æ®ï¼Œå¹¶ä¿ç•™å˜é‡ï¼ˆåˆ—ï¼‰ã€‚è¿™äº›å‡½æ•°åœ¨ä¸€æ¬¡è°ƒç”¨ä¸­è®¡ç®—ä¸‰ä¸ªåå­—è·¯å£ä¸­çš„æ¯ä¸ªåå­—è·¯å£çš„æ•°æ®ä½ç½®ã€‚

### â‘¡ è§„æ¨¡åº¦é‡

æœ‰å¤šç§æ–¹æ³•å¯ä»¥åº¦é‡æ•°æ®æ ·æœ¬çš„è§„æ¨¡æˆ–â€œåˆ†æ•£ç¨‹åº¦â€ã€‚MATLAB å‡½æ•° `max`ã€`min`ã€`std` å’Œ `var` è®¡ç®—æŸäº›å¸¸è§åº¦é‡ï¼š

```matlab
dx1 = max(count)-min(count) % æ¯åˆ—ä¸­æœ€å¤§å€¼å‡æœ€å°å€¼
dx1 = 1Ã—3

   107   136   250
dx2 = std(count)  % æ¯åˆ—çš„æ ‡å‡†å·®
dx2 = 1Ã—3

   25.3703   41.4057   68.0281
   
dx3 = var(count) % æ¯åˆ—çš„æ–¹å·®
dx3 = 1Ã—3
103 Ã—

    0.6437    1.7144    4.6278
```

ä¸æ‰€æœ‰ç»Ÿè®¡å‡½æ•°ä¸€æ ·ï¼Œä¸Šè¿° MATLABÂ® å‡½æ•°æ±‡æ€»å¤šä¸ªåˆ—ä¸­çš„æ•°æ®ï¼Œå¹¶ä¿ç•™å˜é‡ï¼ˆåˆ—ï¼‰ã€‚è¿™äº›å‡½æ•°åœ¨ä¸€æ¬¡è°ƒç”¨ä¸­è®¡ç®—ä¸‰ä¸ªåå­—è·¯å£ä¸­çš„æ¯ä¸ªåå­—è·¯å£çš„æ•°æ®è§„æ¨¡ã€‚

### â‘¢ åˆ†å¸ƒå½¢çŠ¶

æ±‡æ€»åˆ†å¸ƒçš„å½¢çŠ¶æ¯”æ±‡æ€»åˆ†å¸ƒçš„ä½ç½®æˆ–è§„æ¨¡æ›´éš¾ã€‚MATLAB  `hist` å‡½æ•°ç»˜åˆ¶ç›´æ–¹å›¾ï¼Œå¯è§†åŒ–æ˜¾ç¤ºæ±‡æ€»æ•°æ®ï¼š

```matlab
figure
hist(count)
legend('Intersection 1',...
       'Intersection 2',...
       'Intersection 3')
```

![](https://gitee.com/veal98/images/raw/master/img/20201023210422.png)

å‚æ•°æ¨¡å‹æä¾›åˆ†å¸ƒå½¢çŠ¶çš„æ±‡æ€»åˆ†æã€‚æŒ‡æ•°åˆ†å¸ƒå’Œæ•°æ®å‡å€¼æŒ‡å®šçš„å‚æ•° `mu` éå¸¸é€‚ç”¨äºæµé‡æ•°æ®ï¼š

```matlab
c1 = count(:,1); % Data at intersection 1
[bin_counts,bin_locations] = hist(c1);
bin_width = bin_locations(2) - bin_locations(1);
hist_area = (bin_width)*(sum(bin_counts));

figure
hist(c1)
hold on

mu1 = mean(c1);
exp_pdf = @(t)(1/mu1)*exp(-t/mu1); % Integrates
                                   % to 1
t = 0:150;
y = exp_pdf(t);
plot(t,(hist_area)*y,'r','LineWidth',2)
legend('Distribution','Exponential Fit')
```

![](https://gitee.com/veal98/images/raw/master/img/20201023210729.png)

## 4. æ•°æ®å»ºæ¨¡

å‚æ•°æ¨¡å‹å°†å¯¹æ•°æ®å…³ç³»çš„ç†è§£è½¬æ¢ä¸ºå…·æœ‰é¢„æµ‹èƒ½åŠ›çš„åˆ†æå·¥å…·ã€‚å¯¹äºæµé‡æ•°æ®çš„ä¸Šå‡å’Œä¸‹é™è¶‹åŠ¿ï¼Œå¤šé¡¹å¼æ¨¡å‹å’Œæ­£å¼¦æ¨¡å‹æ˜¯ç†æƒ³é€‰æ‹©ã€‚

### â‘  å¤šé¡¹å¼å›å½’

ä½¿ç”¨ `polyfit` å‡½æ•°ä¼°è®¡å¤šé¡¹å¼æ¨¡å‹çš„ç³»æ•°ï¼Œç„¶åä½¿ç”¨ `polyval` å‡½æ•°æ ¹æ®é¢„æµ‹å˜é‡çš„ä»»æ„å€¼è¯„ä¼°æ¨¡å‹ã€‚

- ğŸ”¸ `p = polyfit(x,y,n)`  è¿”å›æ¬¡æ•°ä¸º `n` çš„å¤šé¡¹å¼ `p(x)` çš„ç³»æ•°ï¼Œè¯¥é˜¶æ•°æ˜¯ `y` ä¸­æ•°æ®çš„æœ€ä½³æ‹Ÿåˆï¼ˆåœ¨æœ€å°äºŒä¹˜æ–¹å¼ä¸­ï¼‰ã€‚`p` ä¸­çš„ç³»æ•°æŒ‰é™å¹‚æ’åˆ—ï¼Œ`p` çš„é•¿åº¦ä¸º `n+1`

<img src="https://gitee.com/veal98/images/raw/master/img/20201024171233.png" style="zoom: 67%;" />

- ğŸ”¸ `y = polyval(p,x)` è®¡ç®—å¤šé¡¹å¼ `p` åœ¨ `x` çš„æ¯ä¸ªç‚¹å¤„çš„å€¼ã€‚å‚æ•° `p` æ˜¯é•¿åº¦ä¸º `n+1` çš„å‘é‡ï¼Œå…¶å…ƒç´ æ˜¯ `n` æ¬¡å¤šé¡¹å¼çš„ç³»æ•°

ä»¥ä¸‹ä»£ç ä½¿ç”¨ 6 æ¬¡å¤šé¡¹å¼æ¨¡å‹æ‹Ÿåˆç¬¬ä¸‰ä¸ªåå­—è·¯å£çš„æµé‡æ•°æ®ï¼š

```matlab
load count.dat
c3 = count(:,3); % Data at intersection 3 
tdata = (1:24)'; 
plot(c3,'o-') 

hold on 

p_coeffs = polyfit(tdata,c3,6); % æ±‚å‡º6 æ¬¡å¤šé¡¹å¼æ¨¡å‹çš„å‚æ•°
tfit = (1:0.01:24)'; 
yfit = polyval(p_coeffs,tfit); 
plot(tfit,yfit,'r-','LineWidth',2)

legend('Data','Polynomial Fit')
```

<img src="https://gitee.com/veal98/images/raw/master/img/20201024172150.png" style="zoom:67%;" />

ğŸš¨ **æ­¤æ¨¡å‹çš„ä¼˜ç‚¹æ˜¯å¯ä»¥éå¸¸ç®€å•åœ°è·Ÿè¸ªå‡é™è¶‹åŠ¿ã€‚ä½†æ˜¯ï¼Œæ­¤æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›å¯èƒ½æœ‰æ¬ å‡†ç¡®æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®ä¸¤ç«¯**ã€‚

### â‘¡ ä¸€èˆ¬çº¿æ€§å›å½’

å‡å®šæ•°æ®æ˜¯å‘¨æœŸä¸º 12 ä¸ªå°æ—¶çš„å‘¨æœŸæ€§æ•°æ®ï¼Œå¹¶ä¸”å³°å€¼å‡ºç°åœ¨ç¬¬ 7 ä¸ªå°æ—¶å·¦å³ï¼Œæ‹Ÿåˆä»¥ä¸‹å½¢å¼çš„æ­£å¼¦æ¨¡å‹æ˜¯åˆç†çš„ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201024172336.png" style="zoom:67%;" />

ç³»æ•° *a* å’Œ *b* å‘ˆçº¿æ€§å…³ç³»ã€‚ä½¿ç”¨ MATLAB `mldivide`ï¼ˆåæ–œæ  `\`ï¼‰è¿ç®—ç¬¦æ‹Ÿåˆä¸€èˆ¬çº¿æ€§æ¨¡å‹ï¼š

- ğŸš¨ **å¯¹çº¿æ€§æ–¹ç¨‹ç»„ `Ax = B` æ±‚è§£ `x` ä½¿ç”¨ `\`ï¼Œå³ `x = A\B`**

```matlab
load count.dat
c3 = count(:,3); % Data at intersection 3 
tdata = (1:24)'; 
plot(c3,'o-')

hold on

X = [ones(size(tdata)) cos((2*pi/12)*(tdata-7))];
s_coeffs = X\c3;
tfit = (1:0.01:24)';
yfit = [ones(size(tfit)) cos((2*pi/12)*(tfit-7))]*s_coeffs; 
plot(tfit,yfit,'r-','LineWidth',2)

legend('Data','Sinusoidal Fit','Location','NW')
```

![](https://gitee.com/veal98/images/raw/master/img/20201024172537.png)

## ğŸ“š References

- [MATLAB R2020a å®˜æ–¹æ–‡æ¡£](https://ww2.mathworks.cn/help/matlab/index.html)