# ğŸ“ˆ ç¬¬ 9 ç«  ç»˜å›¾å’Œå¯è§†åŒ–

---

ä¿¡æ¯å¯è§†åŒ–ï¼ˆä¹Ÿå«ç»˜å›¾ï¼‰æ˜¯æ•°æ®åˆ†æä¸­æœ€é‡è¦çš„å·¥ä½œä¹‹ä¸€ã€‚å®ƒå¯èƒ½æ˜¯æ¢ç´¢è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼Œå¸®åŠ©æˆ‘ä»¬æ‰¾å‡ºå¼‚å¸¸å€¼ã€å¿…è¦çš„æ•°æ®è½¬æ¢ã€å¾—å‡ºæœ‰å…³æ¨¡å‹çš„ideaç­‰ã€‚å¦å¤–ï¼Œåšä¸€ä¸ªå¯äº¤äº’çš„æ•°æ®å¯è§†åŒ–ä¹Ÿè®¸æ˜¯å·¥ä½œçš„æœ€ç»ˆç›®æ ‡ã€‚Pythonæœ‰è®¸å¤šåº“è¿›è¡Œé™æ€æˆ–åŠ¨æ€çš„æ•°æ®å¯è§†åŒ–ï¼Œä½†æˆ‘ä»¬ä¸»è¦å…³æ³¨matplotlibï¼ˆhttp://matplotlib.org/ï¼‰å’ŒåŸºäºå®ƒçš„åº“ã€‚

matplotlibæ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå‡ºç‰ˆè´¨é‡å›¾è¡¨çš„æ¡Œé¢ç»˜å›¾åŒ…ï¼ˆä¸»è¦æ˜¯2Dæ–¹é¢ï¼‰ã€‚è¯¥é¡¹ç›®æ˜¯ç”±John Hunteräº2002å¹´å¯åŠ¨çš„ï¼Œå…¶ç›®çš„æ˜¯ä¸ºPythonæ„å»ºä¸€ä¸ªMATLABå¼çš„ç»˜å›¾æ¥å£ã€‚matplotlibå’ŒIPythonç¤¾åŒºè¿›è¡Œåˆä½œï¼Œç®€åŒ–äº†ä»IPython shellï¼ˆåŒ…æ‹¬ç°åœ¨çš„Jupyter notebookï¼‰è¿›è¡Œäº¤äº’å¼ç»˜å›¾ã€‚matplotlibæ”¯æŒå„ç§æ“ä½œç³»ç»Ÿä¸Šè®¸å¤šä¸åŒçš„GUIåç«¯ï¼Œè€Œä¸”è¿˜èƒ½å°†å›¾ç‰‡å¯¼å‡ºä¸ºå„ç§å¸¸è§çš„çŸ¢é‡ï¼ˆvectorï¼‰å’Œå…‰æ …ï¼ˆrasterï¼‰å›¾ï¼šPDFã€SVGã€JPGã€PNGã€BMPã€GIFç­‰ã€‚é™¤äº†å‡ å¼ ï¼Œæœ¬ä¹¦ä¸­çš„å¤§éƒ¨åˆ†å›¾éƒ½æ˜¯ç”¨å®ƒç”Ÿæˆçš„ã€‚

éšç€æ—¶é—´çš„å‘å±•ï¼Œmatplotlibè¡ç”Ÿå‡ºäº†å¤šä¸ªæ•°æ®å¯è§†åŒ–çš„å·¥å…·é›†ï¼Œå®ƒä»¬ä½¿ç”¨matplotlibä½œä¸ºåº•å±‚ã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯seabornï¼ˆhttp://seaborn.pydata.org/ï¼‰ï¼Œæœ¬ç« åé¢ä¼šå­¦ä¹ å®ƒã€‚

å­¦ä¹ æœ¬ç« ä»£ç æ¡ˆä¾‹çš„æœ€ç®€å•æ–¹æ³•æ˜¯åœ¨Jupyter notebookè¿›è¡Œäº¤äº’å¼ç»˜å›¾ã€‚åœ¨Jupyter notebookä¸­æ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼š
```python
%matplotlib notebook
```

## 9.1 matplotlib APIå…¥é—¨

### 1. å¯¼å…¥ matplotlib

 matplotlib çš„é€šå¸¸å¼•å…¥çº¦å®šæ˜¯ï¼š

```python
In [11]: import matplotlib.pyplot as plt
```

åœ¨Jupyterä¸­è¿è¡Œ `%matplotlib notebook`ï¼ˆæˆ–åœ¨IPythonä¸­è¿è¡Œ%matplotlibï¼‰ï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„å›¾å½¢ã€‚

```python
In [12]: import numpy as np

In [13]: data = np.arange(10)

In [14]: data
Out[14]: array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

In [15]: plt.plot(data)
```

![](https://gitee.com/veal98/images/raw/master/img/20200615114329.png)

è™½ç„¶seabornè¿™æ ·çš„åº“å’Œpandasçš„å†…ç½®ç»˜å›¾å‡½æ•°èƒ½å¤Ÿå¤„ç†è®¸å¤šæ™®é€šçš„ç»˜å›¾ä»»åŠ¡ï¼Œä½†å¦‚æœéœ€è¦è‡ªå®šä¹‰ä¸€äº›é«˜çº§åŠŸèƒ½çš„è¯å°±å¿…é¡»å­¦ä¹  matplotlib APIã€‚

>ğŸš© è™½ç„¶æœ¬ä¹¦æ²¡æœ‰è¯¦ç»†åœ°è®¨è®ºmatplotlibçš„å„ç§åŠŸèƒ½ï¼Œä½†è¶³ä»¥å°†ä½ å¼•å…¥é—¨ã€‚matplotlibçš„ç¤ºä¾‹åº“å’Œæ–‡æ¡£æ˜¯å­¦ä¹ é«˜çº§ç‰¹æ€§çš„æœ€å¥½èµ„æºã€‚

### 2. Figureå’ŒSubplot

**matplotlibçš„å›¾åƒéƒ½ä½äºFigureå¯¹è±¡ä¸­**ã€‚ä½ å¯ä»¥ç”¨ `plt.figure` åˆ›å»ºä¸€ä¸ªæ–°çš„Figureï¼š

```python
In [16]: fig = plt.figure()
```

å¦‚æœç”¨çš„æ˜¯IPythonï¼Œè¿™æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªç©ºçª—å£ï¼Œä½†åœ¨Jupyterä¸­ï¼Œå¿…é¡»å†è¾“å…¥æ›´å¤šå‘½ä»¤æ‰èƒ½çœ‹åˆ°ã€‚plt.figure æœ‰ä¸€äº›é€‰é¡¹ï¼Œç‰¹åˆ«æ˜¯ `figsize`ï¼Œå®ƒç”¨äºç¡®ä¿å½“å›¾ç‰‡ä¿å­˜åˆ°ç£ç›˜æ—¶å…·æœ‰ä¸€å®šçš„å¤§å°å’Œçºµæ¨ªæ¯”ã€‚

ä¸èƒ½é€šè¿‡ç©ºFigureç»˜å›¾ã€‚å¿…é¡»ç”¨ `add_subplot` åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªsubplotæ‰è¡Œï¼š

```python
In [17]: ax1 = fig.add_subplot(2, 2, 1)
```

<u>è¿™æ¡ä»£ç çš„æ„æ€æ˜¯ï¼šå›¾åƒåº”è¯¥æ˜¯2Ã—2çš„ï¼ˆå³æœ€å¤š4å¼ å›¾ï¼‰ï¼Œä¸”å½“å‰é€‰ä¸­çš„æ˜¯4ä¸ªsubplotä¸­çš„ç¬¬ä¸€ä¸ªï¼ˆç¼–å·ä»1å¼€å§‹ï¼‰ã€‚</u>å¦‚æœå†æŠŠåé¢ä¸¤ä¸ªsubplotä¹Ÿåˆ›å»ºå‡ºæ¥ï¼Œæœ€ç»ˆå¾—åˆ°çš„å›¾åƒå¦‚å›¾9-2æ‰€ç¤ºï¼š

```python
In [18]: ax2 = fig.add_subplot(2, 2, 2)

In [19]: ax3 = fig.add_subplot(2, 2, 3)
```

![](https://gitee.com/veal98/images/raw/master/img/20200615115750.png)

>ğŸš© ä½¿ç”¨Jupyter notebookæœ‰ä¸€ç‚¹ä¸åŒï¼Œå³æ¯ä¸ªå°çª—é‡æ–°æ‰§è¡Œåï¼Œå›¾å½¢ä¼šè¢«é‡ç½®ã€‚å› æ­¤ï¼Œå¯¹äºå¤æ‚çš„å›¾å½¢ï¼Œä½ å¿…é¡»å°†æ‰€æœ‰çš„ç»˜å›¾å‘½ä»¤å­˜åœ¨ä¸€ä¸ªå°çª—é‡Œã€‚

è¿™é‡Œï¼Œæˆ‘ä»¬è¿è¡ŒåŒä¸€ä¸ªå°çª—é‡Œçš„æ‰€æœ‰å‘½ä»¤ï¼š

```python 
fig = plt.figure()
ax1 = fig.add_subplot(2, 2, 1)
ax2 = fig.add_subplot(2, 2, 2)
ax3 = fig.add_subplot(2, 2, 3)
```

å¦‚æœè¿™æ—¶æ‰§è¡Œä¸€æ¡ç»˜å›¾å‘½ä»¤ï¼ˆå¦‚ `plt.plot([1.5, 3.5, -2, 1.6])` ï¼‰ï¼Œmatplotlib å°±ä¼šåœ¨æœ€åä¸€ä¸ªç”¨è¿‡çš„subplotï¼ˆå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºä¸€ä¸ªï¼‰ä¸Šè¿›è¡Œç»˜åˆ¶ï¼Œéšè—åˆ›å»ºfigureå’Œsubplotçš„è¿‡ç¨‹ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œä½ å°±ä¼šå¾—åˆ°å¦‚å›¾9-3æ‰€ç¤ºçš„ç»“æœï¼š

```python
In [20]: plt.plot(np.random.randn(50).cumsum(), 'k--')
```

![](https://gitee.com/veal98/images/raw/master/img/20200615120003.png)

`"k--"`æ˜¯ä¸€ä¸ªçº¿å‹é€‰é¡¹ï¼Œç”¨äºå‘Šè¯‰matplotlibç»˜åˆ¶é»‘è‰²è™šçº¿å›¾ã€‚ä¸Šé¢é‚£äº›ç”± fig.add_subplot æ‰€è¿”å›çš„å¯¹è±¡æ˜¯**AxesSubplot** å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨å®ƒä»¬çš„å®ä¾‹æ–¹æ³•å°±å¯ä»¥åœ¨å…¶å®ƒç©ºç€çš„æ ¼å­é‡Œé¢ç”»å›¾äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

```python
In [21]: ax1.hist(np.random.randn(100), bins=20, color='k', alpha=0.3) # hist ç›´æ–¹å›¾

In [22]: ax2.scatter(np.arange(30), np.arange(30) + 3 * np.random.randn(30)) # scatter æ•£ç‚¹å›¾
```

![](https://gitee.com/veal98/images/raw/master/img/20200615120054.png)

> ä½ å¯ä»¥åœ¨matplotlibçš„æ–‡æ¡£ä¸­æ‰¾åˆ°å„ç§å›¾è¡¨ç±»å‹ã€‚

åˆ›å»ºåŒ…å«subplotç½‘æ ¼çš„figureæ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„ä»»åŠ¡ï¼Œmatplotlibæœ‰ä¸€ä¸ªæ›´ä¸ºæ–¹ä¾¿çš„æ–¹æ³• `plt.subplots`ï¼Œ**å®ƒå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„Figureï¼Œå¹¶è¿”å›ä¸€ä¸ªå«æœ‰å·²åˆ›å»ºçš„subplotå¯¹è±¡çš„NumPyæ•°ç»„**ï¼š

```python
In [24]: fig, axes = plt.subplots(2, 3)

In [25]: axes
Out[25]: 
array([[<matplotlib.axes._subplots.AxesSubplot object at 0x7fb626374048>,
        <matplotlib.axes._subplots.AxesSubplot object at 0x7fb62625db00>,
        <matplotlib.axes._subplots.AxesSubplot object at 0x7fb6262f6c88>],
       [<matplotlib.axes._subplots.AxesSubplot object at 0x7fb6261a36a0>,
        <matplotlib.axes._subplots.AxesSubplot object at 0x7fb626181860>,
        <matplotlib.axes._subplots.AxesSubplot object at 0x7fb6260fd4e0>]], dtype
=object)
```

**è¿™æ˜¯éå¸¸å®ç”¨çš„ï¼Œå› ä¸ºå¯ä»¥è½»æ¾åœ°å¯¹axesæ•°ç»„è¿›è¡Œç´¢å¼•ï¼Œå°±å¥½åƒæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸€æ ·ï¼Œä¾‹å¦‚ `axes[0,1]`**ã€‚ä½ è¿˜å¯ä»¥é€šè¿‡sharexå’ŒshareyæŒ‡å®šsubplotåº”è¯¥å…·æœ‰ç›¸åŒçš„Xè½´æˆ–Yè½´ã€‚åœ¨æ¯”è¾ƒç›¸åŒèŒƒå›´çš„æ•°æ®æ—¶ï¼Œè¿™ä¹Ÿæ˜¯éå¸¸å®ç”¨çš„ï¼Œå¦åˆ™ï¼Œmatplotlibä¼šè‡ªåŠ¨ç¼©æ”¾å„å›¾è¡¨çš„ç•Œé™ã€‚æœ‰å…³è¯¥æ–¹æ³•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ä¸‹è¡¨ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200615120151.png)

### 3. è°ƒæ•´subplotå‘¨å›´çš„é—´è· subplots_adjust

é»˜è®¤æƒ…å†µä¸‹ï¼Œmatplotlibä¼šåœ¨subplotå¤–å›´ç•™ä¸‹ä¸€å®šçš„è¾¹è·ï¼Œå¹¶åœ¨subplotä¹‹é—´ç•™ä¸‹ä¸€å®šçš„é—´è·ã€‚é—´è·è·Ÿå›¾åƒçš„é«˜åº¦å’Œå®½åº¦æœ‰å…³ï¼Œå› æ­¤ï¼Œå¦‚æœä½ è°ƒæ•´äº†å›¾åƒå¤§å°ï¼ˆä¸ç®¡æ˜¯ç¼–ç¨‹è¿˜æ˜¯æ‰‹å·¥ï¼‰ï¼Œé—´è·ä¹Ÿä¼šè‡ªåŠ¨è°ƒæ•´ã€‚åˆ©ç”¨Figureçš„ `subplots_adjust` æ–¹æ³•å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°ä¿®æ”¹é—´è·ï¼Œæ­¤å¤–ï¼Œå®ƒä¹Ÿæ˜¯ä¸ªé¡¶çº§å‡½æ•°ï¼š

```python
subplots_adjust(left=None, bottom=None, right=None, top=None,
                wspace=None, hspace=None)
```

wspaceå’Œhspaceç”¨äºæ§åˆ¶å®½åº¦å’Œé«˜åº¦çš„ç™¾åˆ†æ¯”ï¼Œå¯ä»¥ç”¨ä½œsubplotä¹‹é—´çš„é—´è·ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå…¶ä¸­æˆ‘å°†é—´è·æ”¶ç¼©åˆ°äº†0ï¼ˆå¦‚å›¾9-5æ‰€ç¤ºï¼‰ï¼š

```python
fig = plt.figure()
fig, axes = plt.subplots(2, 2, sharex=True, sharey=True)
for i in range(2):
    for j in range(2):
        axes[i, j].hist(np.random.randn(500), bins=50, color='k', alpha=0.5)
plt.subplots_adjust(wspace=0, hspace=0)
```

![](https://gitee.com/veal98/images/raw/master/img/20200615120739.png)

ä¸éš¾çœ‹å‡ºï¼Œå…¶ä¸­çš„è½´æ ‡ç­¾é‡å äº†ã€‚matplotlibä¸ä¼šæ£€æŸ¥æ ‡ç­¾æ˜¯å¦é‡å ï¼Œæ‰€ä»¥å¯¹äºè¿™ç§æƒ…å†µï¼Œä½ åªèƒ½è‡ªå·±è®¾å®šåˆ»åº¦ä½ç½®å’Œåˆ»åº¦æ ‡ç­¾ã€‚åé¢å‡ èŠ‚å°†ä¼šè¯¦ç»†ä»‹ç»è¯¥å†…å®¹ã€‚

### 4. é¢œè‰²ã€æ ‡è®°å’Œçº¿å‹

matplotlibçš„ **`plot` å‡½æ•°æ¥å—ä¸€ç»„Xå’ŒYåæ ‡ï¼Œè¿˜å¯ä»¥æ¥å—ä¸€ä¸ªè¡¨ç¤ºé¢œè‰²å’Œçº¿å‹çš„å­—ç¬¦ä¸²ç¼©å†™**ã€‚ä¾‹å¦‚ï¼Œè¦æ ¹æ®xå’Œyç»˜åˆ¶ç»¿è‰²è™šçº¿ï¼Œä½ å¯ä»¥æ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š

```python
ax.plot(x, y, 'g--')
```

è¿™ç§åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŒ‡å®šé¢œè‰²å’Œçº¿å‹çš„æ–¹å¼éå¸¸æ–¹ä¾¿ã€‚åœ¨å®é™…ä¸­ï¼Œå¦‚æœä½ æ˜¯ç”¨ä»£ç ç»˜å›¾ï¼Œä½ å¯èƒ½ä¸æƒ³é€šè¿‡å¤„ç†å­—ç¬¦ä¸²æ¥è·å¾—æƒ³è¦çš„æ ¼å¼ã€‚é€šè¿‡ä¸‹é¢è¿™ç§æ›´ä¸ºæ˜ç¡®çš„æ–¹å¼ä¹Ÿèƒ½å¾—åˆ°åŒæ ·çš„æ•ˆæœï¼š

```python
ax.plot(x, y, linestyle='--', color='g')
```

**å¸¸ç”¨çš„é¢œè‰²å¯ä»¥ä½¿ç”¨é¢œè‰²ç¼©å†™ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šé¢œè‰²ç ï¼ˆä¾‹å¦‚ï¼Œ'#CECECE'ï¼‰**ã€‚

**çº¿å›¾å¯ä»¥ä½¿ç”¨æ ‡è®°å¼ºè°ƒæ•°æ®ç‚¹**ã€‚å› ä¸ºmatplotlibå¯ä»¥åˆ›å»ºè¿ç»­çº¿å›¾ï¼Œåœ¨ç‚¹ä¹‹é—´è¿›è¡Œæ’å€¼ï¼Œå› æ­¤æœ‰æ—¶å¯èƒ½ä¸å¤ªå®¹æ˜“çœ‹å‡ºçœŸå®æ•°æ®ç‚¹çš„ä½ç½®ã€‚æ ‡è®°ä¹Ÿå¯ä»¥æ”¾åˆ°æ ¼å¼å­—ç¬¦ä¸²ä¸­ï¼Œä½†**æ ‡è®°ç±»å‹å’Œçº¿å‹å¿…é¡»æ”¾åœ¨é¢œè‰²åé¢**ï¼š

```python
In [30]: from numpy.random import randn

In [31]: plt.plot(randn(30).cumsum(), 'ko--')
```

![](https://gitee.com/veal98/images/raw/master/img/20200615121126.png)

è¿˜å¯ä»¥å°†å…¶å†™æˆæ›´ä¸ºæ˜ç¡®çš„å½¢å¼ï¼š

```python
plot(randn(30).cumsum(), color='k', linestyle='dashed', marker='o')
```

åœ¨çº¿å‹å›¾ä¸­ï¼Œéå®é™…æ•°æ®ç‚¹é»˜è®¤æ˜¯æŒ‰çº¿æ€§æ–¹å¼æ’å€¼çš„ã€‚å¯ä»¥é€šè¿‡drawstyleé€‰é¡¹ä¿®æ”¹ï¼š

```python
In [33]: data = np.random.randn(30).cumsum()

In [34]: plt.plot(data, 'k--', label='Default') # å¯¹è¯¥çº¿å–å Default
Out[34]: [<matplotlib.lines.Line2D at 0x7fb624d86160>]
 
In [35]: plt.plot(data, 'k-', drawstyle='steps-post', label='steps-post') # å¯¹è¯¥çº¿å–å steps-post
Out[35]: [<matplotlib.lines.Line2D at 0x7fb624d869e8>]

In [36]: plt.legend(loc='best')
```

![å›¾9-7 ä¸åŒdrawstyleé€‰é¡¹çš„çº¿å‹å›¾](http://upload-images.jianshu.io/upload_images/7178691-3ec7642e1a592f08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

ä½ å¯èƒ½æ³¨æ„åˆ°è¿è¡Œä¸Šé¢ä»£ç æ—¶æœ‰è¾“å‡º<matplotlib.lines.Line2D at ...>ã€‚matplotlibä¼šè¿”å›å¼•ç”¨äº†æ–°æ·»åŠ çš„å­ç»„ä»¶çš„å¯¹è±¡ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œä½ å¯ä»¥æ”¾å¿ƒåœ°å¿½ç•¥è¿™äº›è¾“å‡ºã€‚è¿™é‡Œï¼Œ**å› ä¸ºæˆ‘ä»¬ä¼ é€’äº† label å‚æ•°ï¼ˆå¯ä»»æ„å‘½åï¼‰åˆ° plotï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªplotå›¾ä¾‹ï¼ŒæŒ‡æ˜æ¯æ¡ä½¿ç”¨ plt.legend çš„çº¿çš„åç§°**ã€‚

>ğŸš© ä½ å¿…é¡»è°ƒç”¨ `plt.legend`ï¼ˆæˆ–ä½¿ç”¨ `ax.legend`ï¼Œå¦‚æœå¼•ç”¨äº†è½´çš„è¯ï¼‰æ¥åˆ›å»ºå›¾ä¾‹ï¼Œæ— è®ºä½ ç»˜å›¾æ—¶æ˜¯å¦ä¼ é€’ label æ ‡ç­¾é€‰é¡¹ã€‚

### 5. åˆ»åº¦ã€æ ‡ç­¾å’Œå›¾ä¾‹

å¯¹äºå¤§å¤šæ•°çš„å›¾è¡¨è£…é¥°é¡¹ï¼Œå…¶ä¸»è¦å®ç°æ–¹å¼æœ‰äºŒï¼šä½¿ç”¨è¿‡ç¨‹å‹çš„pyplotæ¥å£ï¼ˆä¾‹å¦‚ï¼Œmatplotlib.pyplotï¼‰ä»¥åŠæ›´ä¸ºé¢å‘å¯¹è±¡çš„åŸç”Ÿmatplotlib APIã€‚

pyplotæ¥å£çš„è®¾è®¡ç›®çš„å°±æ˜¯äº¤äº’å¼ä½¿ç”¨ï¼Œå«æœ‰è¯¸å¦‚xlimã€xtickså’Œxticklabelsä¹‹ç±»çš„æ–¹æ³•ã€‚å®ƒä»¬åˆ†åˆ«æ§åˆ¶å›¾è¡¨çš„èŒƒå›´ã€åˆ»åº¦ä½ç½®ã€åˆ»åº¦æ ‡ç­¾ç­‰ã€‚å…¶ä½¿ç”¨æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š

- è°ƒç”¨æ—¶ä¸å¸¦å‚æ•°ï¼Œåˆ™è¿”å›å½“å‰çš„å‚æ•°å€¼ï¼ˆä¾‹å¦‚ï¼Œplt.xlim()è¿”å›å½“å‰çš„Xè½´ç»˜å›¾èŒƒå›´ï¼‰ã€‚

- è°ƒç”¨æ—¶å¸¦å‚æ•°ï¼Œåˆ™è®¾ç½®å‚æ•°å€¼ï¼ˆä¾‹å¦‚ï¼Œ**`plt.xlim([0,10])` ä¼šå°†Xè½´çš„èŒƒå›´è®¾ç½®ä¸º0åˆ°10**ï¼‰ã€‚

  ![](https://gitee.com/veal98/images/raw/master/img/20200615122243.png)

æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯å¯¹å½“å‰æˆ–æœ€è¿‘åˆ›å»ºçš„AxesSubplotèµ·ä½œç”¨çš„ã€‚å®ƒä»¬å„è‡ªå¯¹åº”subplotå¯¹è±¡ä¸Šçš„ä¸¤ä¸ªæ–¹æ³•ï¼Œä»¥xlimä¸ºä¾‹ï¼Œå°±æ˜¯ `ax.get_xlim` å’Œ `ax.set_xlim`ã€‚æˆ‘æ›´å–œæ¬¢ä½¿ç”¨subplotçš„å®ä¾‹æ–¹æ³•ï¼ˆå› ä¸ºæˆ‘å–œæ¬¢æ˜ç¡®çš„äº‹æƒ…ï¼Œè€Œä¸”åœ¨å¤„ç†å¤šä¸ªsubplotæ—¶è¿™æ ·ä¹Ÿæ›´æ¸…æ¥šä¸€äº›ï¼‰ã€‚å½“ç„¶ä½ å®Œå…¨å¯ä»¥é€‰æ‹©è‡ªå·±è§‰å¾—æ–¹ä¾¿çš„é‚£ä¸ªã€‚

### 6. è®¾ç½®æ ‡é¢˜ã€è½´æ ‡ç­¾ã€åˆ»åº¦ä»¥åŠåˆ»åº¦æ ‡ç­¾

ä¸ºäº†è¯´æ˜è‡ªå®šä¹‰è½´ï¼Œæˆ‘å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„å›¾åƒå¹¶ç»˜åˆ¶ä¸€æ®µéšæœºæ¼«æ­¥ï¼ˆå¦‚å›¾9-8æ‰€ç¤ºï¼‰ï¼š

```python
In [37]: fig = plt.figure()

In [38]: ax = fig.add_subplot(1, 1, 1)

In [39]: ax.plot(np.random.randn(1000).cumsum())
```

![å›¾9-8 ç”¨äºæ¼”ç¤ºxticksçš„ç®€å•çº¿å‹å›¾ï¼ˆå¸¦æœ‰æ ‡ç­¾ï¼‰](http://upload-images.jianshu.io/upload_images/7178691-caf9300dacb61fa4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

è¦æ”¹å˜xè½´åˆ»åº¦ï¼Œæœ€ç®€å•çš„åŠæ³•æ˜¯ä½¿ç”¨ `set_xticks` å’Œ `set_xticklabels`ã€‚å‰è€…å‘Šè¯‰matplotlibè¦å°†åˆ»åº¦æ”¾åœ¨æ•°æ®èŒƒå›´ä¸­çš„å“ªäº›ä½ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›ä½ç½®ä¹Ÿå°±æ˜¯åˆ»åº¦æ ‡ç­¾ã€‚ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡set_xticklabelså°†ä»»ä½•å…¶ä»–çš„å€¼ç”¨ä½œæ ‡ç­¾ï¼š

```python
In [40]: ticks = ax.set_xticks([0, 250, 500, 750, 1000])

In [41]: labels = ax.set_xticklabels(['one', 'two', 'three', 'four', 'five'],
   ....:                             rotation=30, fontsize='small')
```

`rotation` é€‰é¡¹è®¾å®šxåˆ»åº¦æ ‡ç­¾å€¾æ–œ30åº¦ã€‚æœ€åï¼Œå†ç”¨ `set_xlabel` ä¸ºXè½´è®¾ç½®ä¸€ä¸ªåç§°ï¼Œå¹¶ç”¨ `set_title` è®¾ç½®ä¸€ä¸ªæ ‡é¢˜ï¼‰ï¼š

```python
In [42]: ax.set_title('My first matplotlib plot')
Out[42]: <matplotlib.text.Text at 0x7fb624d055f8>

In [43]: ax.set_xlabel('Stages')
```

![](https://gitee.com/veal98/images/raw/master/img/20200615122658.png)

**Y è½´çš„ä¿®æ”¹æ–¹å¼ä¸æ­¤ç±»ä¼¼ï¼Œåªéœ€å°†ä¸Šè¿°ä»£ç ä¸­çš„ x æ›¿æ¢ä¸º y å³å¯**ã€‚è½´çš„ç±»æœ‰é›†åˆæ–¹æ³•ï¼Œå¯ä»¥æ‰¹é‡è®¾å®šç»˜å›¾é€‰é¡¹ã€‚å‰é¢çš„ä¾‹å­ï¼Œä¹Ÿå¯ä»¥å†™ä¸ºï¼š

```python
props = {
    'title': 'My first matplotlib plot',
    'xlabel': 'Stages'
}
ax.set(**props)
```

### 7. æ·»åŠ å›¾ä¾‹

<u>**å›¾ä¾‹ï¼ˆlegendï¼‰**æ˜¯å¦ä¸€ç§ç”¨äºæ ‡è¯†å›¾è¡¨å…ƒç´ çš„é‡è¦å·¥å…·</u>ã€‚æ·»åŠ å›¾ä¾‹çš„æ–¹å¼æœ‰å¤šç§ã€‚æœ€ç®€å•çš„æ˜¯åœ¨æ·»åŠ subplot çš„æ—¶å€™ä¼ å…¥labelå‚æ•°ï¼š

```python
In [44]: from numpy.random import randn

In [45]: fig = plt.figure(); ax = fig.add_subplot(1, 1, 1)

In [46]: ax.plot(randn(1000).cumsum(), 'k', label='one')
Out[46]: [<matplotlib.lines.Line2D at 0x7fb624bdf860>]

In [47]: ax.plot(randn(1000).cumsum(), 'k--', label='two')
Out[47]: [<matplotlib.lines.Line2D at 0x7fb624be90f0>]

In [48]: ax.plot(randn(1000).cumsum(), 'k.', label='three')
Out[48]: [<matplotlib.lines.Line2D at 0x7fb624be9160>]
```

åœ¨æ­¤ä¹‹åï¼Œä½ å¯ä»¥è°ƒç”¨ `ax.legend()` æˆ– `plt.legend()`æ¥è‡ªåŠ¨åˆ›å»ºå›¾ä¾‹ï¼š

```python
In [49]: ax.legend(loc='best')
```

![å›¾9-10 å¸¦æœ‰ä¸‰æ¡çº¿ä»¥åŠå›¾ä¾‹çš„ç®€å•çº¿å‹å›¾](http://upload-images.jianshu.io/upload_images/7178691-651ff89750c0a89b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**`loc` å‘Šè¯‰matplotlibè¦å°†å›¾ä¾‹æ”¾åœ¨å“ª**ã€‚å¦‚æœä½ ä¸æ˜¯å¹æ¯›æ±‚ç–µçš„è¯ï¼Œ"`best`"æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒä¼šé€‰æ‹©æœ€ä¸ç¢äº‹çš„ä½ç½®ã€‚<u>è¦ä»å›¾ä¾‹ä¸­å»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œä¸ä¼ å…¥labelæˆ–ä¼ å…¥ `label='_nolegend_'`å³å¯</u>ã€‚

### 8. æ³¨è§£ä»¥åŠåœ¨Subplotä¸Šç»˜å›¾

é™¤æ ‡å‡†çš„ç»˜å›¾ç±»å‹ï¼Œä½ å¯èƒ½è¿˜å¸Œæœ›ç»˜åˆ¶ä¸€äº›å­é›†çš„æ³¨è§£ï¼Œå¯èƒ½æ˜¯æ–‡æœ¬ã€ç®­å¤´æˆ–å…¶ä»–å›¾å½¢ç­‰ã€‚æ³¨è§£å’Œæ–‡å­—å¯ä»¥é€šè¿‡textã€arrowå’Œannotateå‡½æ•°è¿›è¡Œæ·»åŠ ã€‚textå¯ä»¥å°†æ–‡æœ¬ç»˜åˆ¶åœ¨å›¾è¡¨çš„æŒ‡å®šåæ ‡(x,y)ï¼Œè¿˜å¯ä»¥åŠ ä¸Šä¸€äº›è‡ªå®šä¹‰æ ¼å¼ï¼š

```python
ax.text(x, y, 'Hello world!',
        family='monospace', fontsize=10)
```

æ³¨è§£ä¸­å¯ä»¥æ—¢å«æœ‰æ–‡æœ¬ä¹Ÿå«æœ‰ç®­å¤´ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ ¹æ®æœ€è¿‘çš„æ ‡å‡†æ™®å°”500æŒ‡æ•°ä»·æ ¼ï¼ˆæ¥è‡ªYahoo!Financeï¼‰ç»˜åˆ¶ä¸€å¼ æ›²çº¿å›¾ï¼Œå¹¶æ ‡å‡º2008å¹´åˆ°2009å¹´é‡‘èå±æœºæœŸé—´çš„ä¸€äº›é‡è¦æ—¥æœŸã€‚ä½ å¯ä»¥åœ¨Jupyter notebookçš„ä¸€ä¸ªå°çª—ä¸­è¯•éªŒè¿™æ®µä»£ç ï¼š

```python
from datetime import datetime

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)

data = pd.read_csv('examples/spx.csv', index_col=0, parse_dates=True)
spx = data['SPX']

spx.plot(ax=ax, style='k-')

crisis_data = [
    (datetime(2007, 10, 11), 'Peak of bull market'),
    (datetime(2008, 3, 12), 'Bear Stearns Fails'),
    (datetime(2008, 9, 15), 'Lehman Bankruptcy')
]

for date, label in crisis_data:
    ax.annotate(label, xy=(date, spx.asof(date) + 75),
                xytext=(date, spx.asof(date) + 225),
                arrowprops=dict(facecolor='black', headwidth=4, width=2,
                                headlength=4),
                horizontalalignment='left', verticalalignment='top')

# Zoom in on 2007-2010
ax.set_xlim(['1/1/2007', '1/1/2011'])
ax.set_ylim([600, 1800])

ax.set_title('Important dates in the 2008-2009 financial crisis')
```

![å›¾9-11 2008-2009å¹´é‡‘èå±æœºæœŸé—´çš„é‡è¦æ—¥æœŸ](http://upload-images.jianshu.io/upload_images/7178691-3127eaa51f5e4c2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

è¿™å¼ å›¾ä¸­æœ‰å‡ ä¸ªé‡è¦çš„ç‚¹è¦å¼ºè°ƒï¼š**`ax.annotate`æ–¹æ³•å¯ä»¥åœ¨æŒ‡å®šçš„xå’Œyåæ ‡è½´ç»˜åˆ¶æ ‡ç­¾ã€‚æˆ‘ä»¬ä½¿ç”¨`set_xlim`å’Œ`set_ylim`äººå·¥è®¾å®šèµ·å§‹å’Œç»“æŸè¾¹ç•Œï¼Œè€Œä¸ä½¿ç”¨matplotlibçš„é»˜è®¤æ–¹æ³•**ã€‚æœ€åï¼Œç”¨ax.set_titleæ·»åŠ å›¾æ ‡æ ‡é¢˜ã€‚

å›¾å½¢çš„ç»˜åˆ¶è¦éº»çƒ¦ä¸€äº›ã€‚matplotlibæœ‰ä¸€äº›è¡¨ç¤ºå¸¸è§å›¾å½¢çš„å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡è¢«ç§°ä¸ºå—ï¼ˆpatchï¼‰ã€‚å…¶ä¸­æœ‰äº›ï¼ˆå¦‚Rectangleå’ŒCircleï¼‰ï¼Œå¯ä»¥åœ¨matplotlib.pyplotä¸­æ‰¾åˆ°ï¼Œä½†å®Œæ•´é›†åˆä½äºmatplotlib.patchesã€‚

**è¦åœ¨å›¾è¡¨ä¸­æ·»åŠ ä¸€ä¸ªå›¾å½¢ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªå—å¯¹è±¡ shpï¼Œç„¶åé€šè¿‡ `ax.add_patch(shp)` å°†å…¶æ·»åŠ åˆ°subplot ä¸­**ï¼š

```python
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)

rect = plt.Rectangle((0.2, 0.75), 0.4, 0.15, color='k', alpha=0.3)
circ = plt.Circle((0.7, 0.2), 0.15, color='b', alpha=0.3)
pgon = plt.Polygon([[0.15, 0.15], [0.35, 0.4], [0.2, 0.6]],
                   color='g', alpha=0.5)

ax.add_patch(rect)
ax.add_patch(circ)
ax.add_patch(pgon)
```

![å›¾9-12 ç”±ä¸‰ä¸ªå—å›¾å½¢ç»„æˆçš„å›¾](http://upload-images.jianshu.io/upload_images/7178691-1f8a3d7a3a02d7d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


å¦‚æœæŸ¥çœ‹è®¸å¤šå¸¸è§å›¾è¡¨å¯¹è±¡çš„å…·ä½“å®ç°ä»£ç ï¼Œä½ å°±ä¼šå‘ç°å®ƒä»¬å…¶å®å°±æ˜¯ç”±å—patchç»„è£…è€Œæˆçš„ã€‚

### 9. å°†å›¾è¡¨ä¿å­˜åˆ°æ–‡ä»¶

åˆ©ç”¨ `plt.savefig` å¯ä»¥å°†å½“å‰å›¾è¡¨ä¿å­˜åˆ°æ–‡ä»¶ã€‚è¯¥æ–¹æ³•ç›¸å½“äºFigureå¯¹è±¡çš„å®ä¾‹æ–¹æ³• savefigã€‚ä¾‹å¦‚ï¼Œè¦å°†å›¾è¡¨ä¿å­˜ä¸º SVG æ–‡ä»¶ï¼Œä½ åªéœ€è¾“å…¥ï¼š

```python
plt.savefig('figpath.svg')
```

æ–‡ä»¶ç±»å‹æ˜¯é€šè¿‡æ–‡ä»¶æ‰©å±•åæ¨æ–­å‡ºæ¥çš„ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯.pdfï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªPDFæ–‡ä»¶ã€‚æˆ‘åœ¨å‘å¸ƒå›¾ç‰‡æ—¶æœ€å¸¸ç”¨åˆ°ä¸¤ä¸ªé‡è¦çš„é€‰é¡¹æ˜¯ `dpi`ï¼ˆæ§åˆ¶â€œæ¯è‹±å¯¸ç‚¹æ•°â€åˆ†è¾¨ç‡ï¼‰å’Œ `bbox_inches`ï¼ˆå¯ä»¥å‰ªé™¤å½“å‰å›¾è¡¨å‘¨å›´çš„ç©ºç™½éƒ¨åˆ†ï¼‰ã€‚<u>è¦å¾—åˆ°ä¸€å¼ å¸¦æœ‰æœ€å°ç™½è¾¹ä¸”åˆ†è¾¨ç‡ä¸º 400 DPI çš„ PNG å›¾ç‰‡ï¼Œä½ å¯ä»¥</u>ï¼š

```python
plt.savefig('figpath.png', dpi=400, bbox_inches='tight')
```

savefig å¹¶éä¸€å®šè¦å†™å…¥ç£ç›˜ï¼Œä¹Ÿå¯ä»¥å†™å…¥ä»»ä½•æ–‡ä»¶å‹çš„å¯¹è±¡ï¼Œæ¯”å¦‚ BytesIOï¼š

```python
from io import BytesIO
buffer = BytesIO()
plt.savefig(buffer)
plot_data = buffer.getvalue()
```

ä¸‹è¡¨åˆ—å‡ºäº†savefigçš„å…¶å®ƒé€‰é¡¹ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200615124146.png)

### 10. matplotlib é…ç½®

matplotlib è‡ªå¸¦ä¸€äº›é…è‰²æ–¹æ¡ˆï¼Œä»¥åŠä¸ºç”Ÿæˆå‡ºç‰ˆè´¨é‡çš„å›¾ç‰‡è€Œè®¾å®šçš„é»˜è®¤é…ç½®ä¿¡æ¯ã€‚å¹¸è¿çš„æ˜¯ï¼Œå‡ ä¹æ‰€æœ‰é»˜è®¤è¡Œä¸ºéƒ½èƒ½é€šè¿‡ä¸€ç»„å…¨å±€å‚æ•°è¿›è¡Œè‡ªå®šä¹‰ï¼Œå®ƒä»¬å¯ä»¥ç®¡ç†å›¾åƒå¤§å°ã€subplot è¾¹è·ã€é…è‰²æ–¹æ¡ˆã€å­—ä½“å¤§å°ã€ç½‘æ ¼ç±»å‹ç­‰ã€‚ä¸€ç§ Python ç¼–ç¨‹æ–¹å¼é…ç½®ç³»ç»Ÿçš„æ–¹æ³•æ˜¯ä½¿ç”¨ `rc` æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œè¦å°†å…¨å±€çš„å›¾åƒé»˜è®¤å¤§å°è®¾ç½®ä¸º10Ã—10ï¼Œä½ å¯ä»¥æ‰§è¡Œï¼š

```python
plt.rc('figure', figsize=(10, 10))
```

rc çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¸Œæœ›è‡ªå®šä¹‰çš„å¯¹è±¡ï¼Œå¦‚'figure'ã€'axes'ã€'xtick'ã€'ytick'ã€'grid'ã€'legend'ç­‰ã€‚å…¶åå¯ä»¥è·Ÿä¸Šä¸€ç³»åˆ—çš„å…³é”®å­—å‚æ•°ã€‚ä¸€ä¸ªç®€å•çš„åŠæ³•æ˜¯å°†è¿™äº›é€‰é¡¹å†™æˆä¸€ä¸ªå­—å…¸ï¼š

```python
font_options = {'family' : 'monospace',
                'weight' : 'bold',
                'size'   : 'small'}
plt.rc('font', **font_options)
```

è¦äº†è§£å…¨éƒ¨çš„è‡ªå®šä¹‰é€‰é¡¹ï¼Œè¯·æŸ¥é˜…matplotlibçš„é…ç½®æ–‡ä»¶matplotlibrcï¼ˆä½äºmatplotlib/mpl-dataç›®å½•ä¸­ï¼‰ã€‚å¦‚æœå¯¹è¯¥æ–‡ä»¶è¿›è¡Œäº†è‡ªå®šä¹‰ï¼Œå¹¶å°†å…¶æ”¾åœ¨ä½ è‡ªå·±çš„.matplotlibrcç›®å½•ä¸­ï¼Œåˆ™æ¯æ¬¡ä½¿ç”¨matplotlibæ—¶å°±ä¼šåŠ è½½è¯¥æ–‡ä»¶ã€‚

ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼ŒseabornåŒ…æœ‰è‹¥å¹²å†…ç½®çš„ç»˜å›¾ä¸»é¢˜æˆ–ç±»å‹ï¼Œå®ƒä»¬ä½¿ç”¨äº†matplotlibçš„å†…éƒ¨é…ç½®ã€‚

## 9.2 ä½¿ç”¨pandaså’Œseabornç»˜å›¾

matplotlibå®é™…ä¸Šæ˜¯ä¸€ç§æ¯”è¾ƒä½çº§çš„å·¥å…·ã€‚è¦ç»˜åˆ¶ä¸€å¼ å›¾è¡¨ï¼Œä½ ç»„è£…ä¸€äº›åŸºæœ¬ç»„ä»¶å°±è¡Œï¼šæ•°æ®å±•ç¤ºï¼ˆå³å›¾è¡¨ç±»å‹ï¼šçº¿å‹å›¾ã€æŸ±çŠ¶å›¾ã€ç›’å½¢å›¾ã€æ•£å¸ƒå›¾ã€ç­‰å€¼çº¿å›¾ç­‰ï¼‰ã€å›¾ä¾‹ã€æ ‡é¢˜ã€åˆ»åº¦æ ‡ç­¾ä»¥åŠå…¶ä»–æ³¨è§£å‹ä¿¡æ¯ã€‚

åœ¨pandasä¸­ï¼Œæˆ‘ä»¬æœ‰å¤šåˆ—æ•°æ®ï¼Œè¿˜æœ‰è¡Œå’Œåˆ—æ ‡ç­¾ã€‚pandasè‡ªèº«å°±æœ‰å†…ç½®çš„æ–¹æ³•ï¼Œç”¨äºç®€åŒ–ä»DataFrameå’ŒSeriesç»˜åˆ¶å›¾å½¢ã€‚å¦ä¸€ä¸ªåº“seabornï¼ˆhttps://seaborn.pydata.org/ï¼‰ï¼Œç”±Michael Waskomåˆ›å»ºçš„é™æ€å›¾å½¢åº“ã€‚Seabornç®€åŒ–äº†è®¸å¤šå¸¸è§å¯è§†ç±»å‹çš„åˆ›å»ºã€‚

>ğŸš© **å¼•å…¥seabornä¼šä¿®æ”¹matplotlibé»˜è®¤çš„é¢œè‰²æ–¹æ¡ˆå’Œç»˜å›¾ç±»å‹ï¼Œä»¥æé«˜å¯è¯»æ€§å’Œç¾è§‚åº¦**ã€‚å³ä½¿ä½ ä¸ä½¿ç”¨seaborn APIï¼Œä½ å¯èƒ½ä¹Ÿä¼šå¼•å…¥seabornï¼Œä½œä¸ºæé«˜ç¾è§‚åº¦å’Œç»˜åˆ¶å¸¸è§matplotlibå›¾å½¢çš„ç®€åŒ–æ–¹æ³•ã€‚

### 1. çº¿å‹å›¾

ğŸš© **Serieså’ŒDataFrameéƒ½æœ‰ä¸€ä¸ªç”¨äºç”Ÿæˆå„ç±»å›¾è¡¨çš„plotæ–¹æ³•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ‰€ç”Ÿæˆçš„æ˜¯çº¿å‹å›¾**ï¼š

```python
In [60]: s = pd.Series(np.random.randn(10).cumsum(), index=np.arange(0, 100, 10))

In [61]: s.plot()
```

![å›¾9-13 ç®€å•çš„Serieså›¾è¡¨ç¤ºä¾‹](http://upload-images.jianshu.io/upload_images/7178691-f28e5ab2ac94c7a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

è¯¥Serieså¯¹è±¡çš„ç´¢å¼•ä¼šè¢«ä¼ ç»™matplotlibï¼Œå¹¶ç”¨ä»¥ç»˜åˆ¶Xè½´ã€‚å¯ä»¥é€šè¿‡use_index=Falseç¦ç”¨è¯¥åŠŸèƒ½ã€‚Xè½´çš„åˆ»åº¦å’Œç•Œé™å¯ä»¥é€šè¿‡xtickså’Œxlimé€‰é¡¹è¿›è¡Œè°ƒèŠ‚ï¼ŒYè½´å°±ç”¨ytickså’Œylimã€‚plot å‚æ•°çš„å®Œæ•´åˆ—è¡¨è¯·å‚è§ä¸‹è¡¨ï¼š


![](https://gitee.com/veal98/images/raw/master/img/20200615125234.png)



pandasçš„å¤§éƒ¨åˆ†ç»˜å›¾æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå¯é€‰çš„axå‚æ•°ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ªmatplotlibçš„subplotå¯¹è±¡ã€‚è¿™ä½¿ä½ èƒ½å¤Ÿåœ¨ç½‘æ ¼å¸ƒå±€ä¸­æ›´ä¸ºçµæ´»åœ°å¤„ç†subplotçš„ä½ç½®ã€‚

DataFrameçš„plotæ–¹æ³•ä¼šåœ¨ä¸€ä¸ªsubplotä¸­ä¸ºå„åˆ—ç»˜åˆ¶ä¸€æ¡çº¿ï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºå›¾ä¾‹ï¼ˆå¦‚å›¾9-14æ‰€ç¤ºï¼‰ï¼š
```python
In [62]: df = pd.DataFrame(np.random.randn(10, 4).cumsum(0),
   ....:                   columns=['A', 'B', 'C', 'D'],
   ....:                   index=np.arange(0, 100, 10))

In [63]: df.plot()
```

![](https://gitee.com/veal98/images/raw/master/img/20200615125434.png)

plotå±æ€§åŒ…å«ä¸€æ‰¹ä¸åŒç»˜å›¾ç±»å‹çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ`df.plot()`ç­‰ä»·äº`df.plot.line()`ã€‚åé¢ä¼šå­¦ä¹ è¿™äº›æ–¹æ³•ã€‚

>ğŸš© plotçš„å…¶ä»–å…³é”®å­—å‚æ•°ä¼šè¢«ä¼ ç»™ç›¸åº”çš„matplotlibç»˜å›¾å‡½æ•°ï¼Œæ‰€ä»¥è¦æ›´æ·±å…¥åœ°è‡ªå®šä¹‰å›¾è¡¨ï¼Œå°±å¿…é¡»å­¦ä¹ æ›´å¤šæœ‰å…³matplotlib APIçš„çŸ¥è¯†ã€‚

DataFrameè¿˜æœ‰ä¸€äº›ç”¨äºå¯¹åˆ—è¿›è¡Œçµæ´»å¤„ç†çš„é€‰é¡¹ï¼Œä¾‹å¦‚ï¼Œæ˜¯è¦å°†æ‰€æœ‰åˆ—éƒ½ç»˜åˆ¶åˆ°ä¸€ä¸ªsubplotä¸­è¿˜æ˜¯åˆ›å»ºå„è‡ªçš„subplotã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è§ä¸‹è¡¨ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200615125504.png)

>ğŸš© æœ‰å…³æ—¶é—´åºåˆ—çš„ç»˜å›¾ï¼Œè¯·è§ç¬¬11ç« ã€‚

### 2. æŸ±çŠ¶å›¾

**`plot.bar()`å’Œ`plot.barh()`åˆ†åˆ«ç»˜åˆ¶æ°´å¹³å’Œå‚ç›´çš„æŸ±çŠ¶å›¾**ã€‚è¿™æ—¶ï¼ŒSerieså’ŒDataFrameçš„ç´¢å¼•å°†ä¼šè¢«ç”¨ä½œXï¼ˆbarï¼‰æˆ–Yï¼ˆbarhï¼‰åˆ»åº¦ï¼ˆå¦‚å›¾9-15æ‰€ç¤ºï¼‰ï¼š

```python
In [64]: fig, axes = plt.subplots(2, 1)

In [65]: data = pd.Series(np.random.rand(16), index=list('abcdefghijklmnop'))

In [66]: data.plot.bar(ax=axes[0], color='k', alpha=0.7)
Out[66]: <matplotlib.axes._subplots.AxesSubplot at 0x7fb62493d470>

In [67]: data.plot.barh(ax=axes[1], color='k', alpha=0.7)
```

![](https://gitee.com/veal98/images/raw/master/img/20200615130344.png)

**`color='k'`å’Œ`alpha=0.7`è®¾å®šäº†å›¾å½¢çš„é¢œè‰²ä¸ºé»‘è‰²ï¼Œå¹¶ä½¿ç”¨éƒ¨åˆ†çš„å¡«å……é€æ˜åº¦**ã€‚å¯¹äºDataFrameï¼ŒæŸ±çŠ¶å›¾ä¼šå°†æ¯ä¸€è¡Œçš„å€¼åˆ†ä¸ºä¸€ç»„ï¼Œå¹¶æ’æ˜¾ç¤ºï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

```python
In [69]: df = pd.DataFrame(np.random.rand(6, 4),
   ....:                   index=['one', 'two', 'three', 'four', 'five', 'six'],
   ....:                   columns=pd.Index(['A', 'B', 'C', 'D'], name='Genus'))

In [70]: df
Out[70]: 
Genus         A         B         C         D
one    0.370670  0.602792  0.229159  0.486744
two    0.420082  0.571653  0.049024  0.880592
three  0.814568  0.277160  0.880316  0.431326
four   0.374020  0.899420  0.460304  0.100843
five   0.433270  0.125107  0.494675  0.961825
six    0.601648  0.478576  0.205690  0.560547

In [71]: df.plot.bar()
```

![](https://gitee.com/veal98/images/raw/master/img/20200615130328.png)

æ³¨æ„ï¼Œ**DataFrameå„åˆ—çš„åç§°"Genus"è¢«ç”¨ä½œäº†å›¾ä¾‹çš„æ ‡é¢˜**ã€‚

**è®¾ç½®`stacked=True`å³å¯ä¸ºDataFrameç”Ÿæˆå †ç§¯æŸ±çŠ¶å›¾ï¼Œè¿™æ ·æ¯è¡Œçš„å€¼å°±ä¼šè¢«å †ç§¯åœ¨ä¸€èµ·**ï¼š

```python
In [73]: df.plot.barh(stacked=True, alpha=0.5)
```

![](https://gitee.com/veal98/images/raw/master/img/20200615130412.png)

>ğŸš© æŸ±çŠ¶å›¾æœ‰ä¸€ä¸ªéå¸¸ä¸é”™çš„ç”¨æ³•ï¼šåˆ©ç”¨ value_counts å›¾å½¢åŒ–æ˜¾ç¤ºSeriesä¸­å„å€¼çš„å‡ºç°é¢‘ç‡ï¼Œæ¯”å¦‚s.value_counts().plot.bar()ã€‚

å†ä»¥æœ¬ä¹¦å‰é¢ç”¨è¿‡çš„é‚£ä¸ªæœ‰å…³å°è´¹çš„æ•°æ®é›†ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦åšä¸€å¼ å †ç§¯æŸ±çŠ¶å›¾ä»¥å±•ç¤ºæ¯å¤©å„ç§èšä¼šè§„æ¨¡çš„æ•°æ®ç‚¹çš„ç™¾åˆ†æ¯”ã€‚æˆ‘ç”¨read_csvå°†æ•°æ®åŠ è½½è¿›æ¥ï¼Œç„¶åæ ¹æ®æ—¥æœŸå’Œèšä¼šè§„æ¨¡åˆ›å»ºä¸€å¼ äº¤å‰è¡¨ï¼š

> ğŸ‘‡ tips è¡¨ä¸­çš„éƒ¨åˆ†æ•°æ®ï¼š
>
> total_bill,tip,smoker,day,time,size
> 
> 16.99,1.01,No,Sun,Dinner,2
> 
> 10.34,1.66,No,Sun,Dinner,3
> 
> 21.01,3.5,No,Sun,Dinner,3
> 
> 14.78,3.23,No,Sun,Dinner,2
> 
> 10.27,1.71,No,Sun,Dinner,2
> 

```python
In [75]: tips = pd.read_csv('examples/tips.csv')

In [76]: party_counts = pd.crosstab(tips['day'], tips['size']) # ç¬¬ä¸€ä¸ªå‚æ•° è¡Œï¼Œç¬¬äºŒä¸ªå‚æ•° åˆ—ï¼Œè®¡ç®— day è¡Œ size åˆ—çš„ä¸ªæ•°

In [77]: party_counts
Out[77]: 
size  1   2   3   4  5  6
day                      
Fri   1  16   1   1  0  0
Sat   2  53  18  13  1  0
Sun   0  39  15  18  3  1
Thur  1  48   4   5  1  3

# Not many 1- and 6-person parties
In [78]: party_counts = party_counts.loc[:, 2:5]
```

ç„¶åè¿›è¡Œè§„æ ¼åŒ–ï¼Œä½¿å¾—å„è¡Œçš„å’Œä¸º1ï¼Œå¹¶ç”Ÿæˆå›¾è¡¨ï¼š

```python
# Normalize to sum to 1
In [79]: party_pcts = party_counts.div(party_counts.sum(1), axis=0) # div é™¤æ³•

In [80]: party_pcts
Out[80]: 
size         2         3         4         5
day                                         
Fri   0.888889  0.055556  0.055556  0.000000
Sat   0.623529  0.211765  0.152941  0.011765
Sun   0.520000  0.200000  0.240000  0.040000
Thur  0.827586  0.068966  0.086207  0.017241

In [81]: party_pcts.plot.bar()
```

![](https://gitee.com/veal98/images/raw/master/img/20200615130718.png)

äºæ˜¯ï¼Œé€šè¿‡è¯¥æ•°æ®é›†å°±å¯ä»¥çœ‹å‡ºï¼Œèšä¼šè§„æ¨¡åœ¨å‘¨æœ«ä¼šå˜å¤§ã€‚

**å¯¹äºåœ¨ç»˜åˆ¶ä¸€ä¸ªå›¾å½¢ä¹‹å‰ï¼Œéœ€è¦è¿›è¡Œåˆè®¡çš„æ•°æ®ï¼Œä½¿ç”¨seabornå¯ä»¥å‡å°‘å·¥ä½œé‡**ã€‚ç”¨seabornæ¥çœ‹æ¯å¤©çš„å°è´¹æ¯”ä¾‹ï¼š

```python
In [83]: import seaborn as sns

In [84]: tips['tip_pct'] = tips['tip'] / (tips['total_bill'] - tips['tip'])

In [85]: tips.head()
Out[85]: 
   total_bill   tip smoker  day    time  size   tip_pct
0       16.99  1.01     No  Sun  Dinner     2  0.063204
1       10.34  1.66     No  Sun  Dinner     3  0.191244
2       21.01  3.50     No  Sun  Dinner     3  0.199886
3       23.68  3.31     No  Sun  Dinner     2  0.162494
4       24.59  3.61     No  Sun  Dinner     4  0.172069

In [86]: sns.barplot(x='tip_pct', y='day', data=tips, orient='h')
```

![](https://gitee.com/veal98/images/raw/master/img/20200615130825.png)

**seabornçš„ç»˜åˆ¶å‡½æ•°ä½¿ç”¨`data`å‚æ•°ï¼Œå®ƒå¯èƒ½æ˜¯pandasçš„DataFrame**ã€‚å…¶å®ƒçš„å‚æ•°æ˜¯å…³äºåˆ—çš„åå­—ã€‚å› ä¸ºä¸€å¤©çš„æ¯ä¸ªå€¼æœ‰å¤šæ¬¡è§‚å¯Ÿï¼ŒæŸ±çŠ¶å›¾çš„å€¼æ˜¯tip_pctçš„å¹³å‡å€¼ã€‚ç»˜åˆ¶åœ¨æŸ±çŠ¶å›¾ä¸Šçš„é»‘çº¿ä»£è¡¨95%ç½®ä¿¡åŒºé—´ï¼ˆå¯ä»¥é€šè¿‡å¯é€‰å‚æ•°é…ç½®ï¼‰ã€‚

seaborn.barplotæœ‰é¢œè‰²é€‰é¡¹ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä¸€ä¸ªé¢å¤–çš„å€¼è®¾ç½®ï¼š

```python
In [88]: sns.barplot(x='tip_pct', y='day', hue='time', data=tips, orient='h')
```

<img src="https://gitee.com/veal98/images/raw/master/img/20200615143220.png" style="zoom: 67%;" />

æ³¨æ„ï¼Œseabornå·²ç»è‡ªåŠ¨ä¿®æ”¹äº†å›¾å½¢çš„ç¾è§‚åº¦ï¼šé»˜è®¤è°ƒè‰²æ¿ï¼Œå›¾å½¢èƒŒæ™¯å’Œç½‘æ ¼çº¿çš„é¢œè‰²ã€‚ä½ å¯ä»¥ç”¨seaborn.setåœ¨ä¸åŒçš„å›¾å½¢å¤–è§‚ä¹‹é—´åˆ‡æ¢ï¼š

```python
In [90]: sns.set(style="whitegrid")
```

### 3. ç›´æ–¹å›¾å’Œå¯†åº¦å›¾

ç›´æ–¹å›¾ï¼ˆhistogramï¼‰æ˜¯ä¸€ç§å¯ä»¥å¯¹å€¼é¢‘ç‡è¿›è¡Œç¦»æ•£åŒ–æ˜¾ç¤ºçš„æŸ±çŠ¶å›¾ã€‚æ•°æ®ç‚¹è¢«æ‹†åˆ†åˆ°ç¦»æ•£çš„ã€é—´éš”å‡åŒ€çš„é¢å…ƒä¸­ï¼Œç»˜åˆ¶çš„æ˜¯å„é¢å…ƒä¸­æ•°æ®ç‚¹çš„æ•°é‡ã€‚å†ä»¥å‰é¢é‚£ä¸ªå°è´¹æ•°æ®ä¸ºä¾‹ï¼Œé€šè¿‡åœ¨Seriesä½¿ç”¨ `plot.hist` æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”Ÿæˆä¸€å¼ â€œå°è´¹å æ¶ˆè´¹æ€»é¢ç™¾åˆ†æ¯”â€çš„ç›´æ–¹å›¾ï¼ˆå¦‚å›¾9-21æ‰€ç¤ºï¼‰ï¼š
```python
In [92]: tips['tip_pct'].plot.hist(bins=50)
```

![](https://gitee.com/veal98/images/raw/master/img/20200615143736.png)

ä¸æ­¤ç›¸å…³çš„ä¸€ç§å›¾è¡¨ç±»å‹æ˜¯å¯†åº¦å›¾ï¼Œå®ƒæ˜¯é€šè¿‡è®¡ç®—â€œå¯èƒ½ä¼šäº§ç”Ÿè§‚æµ‹æ•°æ®çš„è¿ç»­æ¦‚ç‡åˆ†å¸ƒçš„ä¼°è®¡â€è€Œäº§ç”Ÿçš„ã€‚ä¸€èˆ¬çš„è¿‡ç¨‹æ˜¯å°†è¯¥åˆ†å¸ƒè¿‘ä¼¼ä¸ºä¸€ç»„æ ¸ï¼ˆå³è¯¸å¦‚æ­£æ€åˆ†å¸ƒä¹‹ç±»çš„è¾ƒä¸ºç®€å•çš„åˆ†å¸ƒï¼‰ã€‚å› æ­¤ï¼Œå¯†åº¦å›¾ä¹Ÿè¢«ç§°ä½œKDEï¼ˆKernel Density Estimateï¼Œæ ¸å¯†åº¦ä¼°è®¡ï¼‰å›¾ã€‚ä½¿ç”¨ `plot.kde` å’Œæ ‡å‡†æ··åˆæ­£æ€åˆ†å¸ƒä¼°è®¡å³å¯ç”Ÿæˆä¸€å¼ å¯†åº¦å›¾ï¼ˆè§å›¾9-22ï¼‰ï¼š
```python
In [94]: tips['tip_pct'].plot.density()
```

![](https://gitee.com/veal98/images/raw/master/img/20200615143800.png)

seabornçš„ `distplot` æ–¹æ³•ç»˜åˆ¶ç›´æ–¹å›¾å’Œå¯†åº¦å›¾æ›´åŠ ç®€å•ï¼Œè¿˜å¯ä»¥åŒæ—¶ç”»å‡ºç›´æ–¹å›¾å’Œè¿ç»­å¯†åº¦ä¼°è®¡å›¾ã€‚ä½œä¸ºä¾‹å­ï¼Œè€ƒè™‘ä¸€ä¸ªåŒå³°åˆ†å¸ƒï¼Œç”±ä¸¤ä¸ªä¸åŒçš„æ ‡å‡†æ­£æ€åˆ†å¸ƒç»„æˆï¼ˆè§å›¾9-23ï¼‰ï¼š

```python
In [96]: comp1 = np.random.normal(0, 1, size=200)

In [97]: comp2 = np.random.normal(10, 2, size=200)

In [98]: values = pd.Series(np.concatenate([comp1, comp2]))

In [99]: sns.distplot(values, bins=100, color='k')
```

![](https://gitee.com/veal98/images/raw/master/img/20200615143809.png)

### 4. æ•£å¸ƒå›¾æˆ–ç‚¹å›¾

ç‚¹å›¾æˆ–æ•£å¸ƒå›¾æ˜¯è§‚å¯Ÿä¸¤ä¸ªä¸€ç»´æ•°æ®åºåˆ—ä¹‹é—´çš„å…³ç³»çš„æœ‰æ•ˆæ‰‹æ®µã€‚åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘åŠ è½½äº†æ¥è‡ªstatsmodels é¡¹ç›®çš„ macrodata æ•°æ®é›†ï¼Œé€‰æ‹©äº†å‡ ä¸ªå˜é‡ï¼Œç„¶åè®¡ç®—å¯¹æ•°å·®ï¼š

```python
In [100]: macro = pd.read_csv('examples/macrodata.csv')

In [101]: data = macro[['cpi', 'm1', 'tbilrate', 'unemp']]

In [102]: trans_data = np.log(data).diff().dropna()

In [103]: trans_data[-5:]
Out[103]: 
          cpi        m1  tbilrate     unemp
198 -0.007904  0.045361 -0.396881  0.105361
199 -0.021979  0.066753 -2.277267  0.139762
200  0.002340  0.010286  0.606136  0.160343
201  0.008419  0.037461 -0.200671  0.127339
202  0.008894  0.012202 -0.405465  0.042560
```

ç„¶åå¯ä»¥ä½¿ç”¨seabornçš„ `regplot` æ–¹æ³•ï¼Œå®ƒå¯ä»¥åšä¸€ä¸ªæ•£å¸ƒå›¾ï¼Œå¹¶åŠ ä¸Šä¸€æ¡çº¿æ€§å›å½’çš„çº¿ï¼š

```python
In [105]: sns.regplot('m1', 'unemp', data=trans_data)
Out[105]: <matplotlib.axes._subplots.AxesSubplot at 0x7fb613720be0>

In [106]: plt.title('Changes in log %s versus log %s' % ('m1', 'unemp'))
```

![](https://gitee.com/veal98/images/raw/master/img/20200615143832.png)

åœ¨æ¢ç´¢å¼æ•°æ®åˆ†æå·¥ä½œä¸­ï¼ŒåŒæ—¶è§‚å¯Ÿä¸€ç»„å˜é‡çš„æ•£å¸ƒå›¾æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼Œè¿™ä¹Ÿè¢«ç§°ä¸ºæ•£å¸ƒå›¾çŸ©é˜µï¼ˆscatter plot matrixï¼‰ã€‚çº¯æ‰‹å·¥åˆ›å»ºè¿™æ ·çš„å›¾è¡¨å¾ˆè´¹å·¥å¤«ï¼Œæ‰€ä»¥seabornæä¾›äº†ä¸€ä¸ªä¾¿æ·çš„ `pairplot` å‡½æ•°ï¼Œå®ƒæ”¯æŒåœ¨å¯¹è§’çº¿ä¸Šæ”¾ç½®æ¯ä¸ªå˜é‡çš„ç›´æ–¹å›¾æˆ–å¯†åº¦ä¼°è®¡ï¼š

```python
In [107]: sns.pairplot(trans_data, diag_kind='kde', plot_kws={'alpha': 0.2})
```

![](https://gitee.com/veal98/images/raw/master/img/20200615143859.png)

ä½ å¯èƒ½æ³¨æ„åˆ°äº†plot_kwså‚æ•°ã€‚å®ƒå¯ä»¥è®©æˆ‘ä»¬ä¼ é€’é…ç½®é€‰é¡¹åˆ°éå¯¹è§’çº¿å…ƒç´ ä¸Šçš„å›¾å½¢ä½¿ç”¨ã€‚å¯¹äºæ›´è¯¦ç»†çš„é…ç½®é€‰é¡¹ï¼Œå¯ä»¥æŸ¥é˜…seaborn.pairplotæ–‡æ¡£å­—ç¬¦ä¸²ã€‚


###5. åˆ†é¢ç½‘æ ¼ï¼ˆfacet gridï¼‰å’Œç±»å‹æ•°æ®
è¦æ˜¯æ•°æ®é›†æœ‰é¢å¤–çš„åˆ†ç»„ç»´åº¦å‘¢ï¼Ÿæœ‰å¤šä¸ªåˆ†ç±»å˜é‡çš„æ•°æ®å¯è§†åŒ–çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å°é¢ç½‘æ ¼ã€‚seabornæœ‰ä¸€ä¸ªæœ‰ç”¨çš„å†…ç½®å‡½æ•° `factorplot`ï¼Œå¯ä»¥ç®€åŒ–åˆ¶ä½œå¤šç§åˆ†é¢å›¾ï¼š
```python
 In [108]: sns.factorplot(x='day', y='tip_pct', hue='time', col='smoker',
   .....:                kind='bar', data=tips[tips.tip_pct < 1])
```

![](https://gitee.com/veal98/images/raw/master/img/20200615150136.png)

é™¤äº†åœ¨åˆ†é¢ä¸­ç”¨ä¸åŒçš„é¢œè‰²æŒ‰æ—¶é—´åˆ†ç»„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç»™æ¯ä¸ªæ—¶é—´å€¼æ·»åŠ ä¸€è¡Œæ¥æ‰©å±•åˆ†é¢ç½‘æ ¼ï¼š

```python
In [109]: sns.factorplot(x='day', y='tip_pct', row='time',
   .....:                col='smoker',
   .....:                kind='bar', data=tips[tips.tip_pct < 1])
```

![](https://gitee.com/veal98/images/raw/master/img/20200615150557.png)

factorplotæ”¯æŒå…¶å®ƒçš„ç»˜å›¾ç±»å‹ï¼Œä½ å¯èƒ½ä¼šç”¨åˆ°ã€‚ä¾‹å¦‚ï¼Œ**ç›’å›¾ box**ï¼ˆå®ƒå¯ä»¥æ˜¾ç¤ºä¸­ä½æ•°ï¼Œå››åˆ†ä½æ•°ï¼Œå’Œå¼‚å¸¸å€¼ï¼‰å°±æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å¯è§†åŒ–ç±»å‹ï¼ˆè§å›¾9-28ï¼‰ï¼š

```python
In [110]: sns.factorplot(x='tip_pct', y='day', kind='box',
   .....:                data=tips[tips.tip_pct < 0.5])
```

<img src="https://gitee.com/veal98/images/raw/master/img/20200615150633.png" style="zoom:67%;" />

ä½¿ç”¨æ›´é€šç”¨çš„seaborn.FacetGridç±»ï¼Œä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„åˆ†é¢ç½‘æ ¼ã€‚è¯·æŸ¥é˜…seabornçš„æ–‡æ¡£ï¼ˆhttps://seaborn.pydata.org/ï¼‰ã€‚

## 9.3 å…¶å®ƒçš„Pythonå¯è§†åŒ–å·¥å…·
ä¸å…¶å®ƒå¼€æºåº“ç±»ä¼¼ï¼ŒPythonåˆ›å»ºå›¾å½¢çš„æ–¹å¼éå¸¸å¤šï¼ˆæ ¹æœ¬ç½—åˆ—ä¸å®Œï¼‰ã€‚è‡ªä»2010å¹´ï¼Œè®¸å¤šå¼€å‘å·¥ä½œéƒ½é›†ä¸­åœ¨åˆ›å»ºäº¤äº’å¼å›¾å½¢ä»¥ä¾¿åœ¨Webä¸Šå‘å¸ƒã€‚åˆ©ç”¨å·¥å…·å¦‚Bokenï¼ˆhttps://bokeh.pydata.org/en/latest/ï¼‰å’ŒPlotlyï¼ˆhttps://github.com/plotly/plotly.pyï¼‰ï¼Œç°åœ¨å¯ä»¥åˆ›å»ºåŠ¨æ€äº¤äº’å›¾å½¢ï¼Œç”¨äºç½‘é¡µæµè§ˆå™¨ã€‚

å¯¹äºåˆ›å»ºç”¨äºæ‰“å°æˆ–ç½‘é¡µçš„é™æ€å›¾å½¢ï¼Œæˆ‘å»ºè®®é»˜è®¤ä½¿ç”¨matplotlibå’Œé™„åŠ çš„åº“ï¼Œæ¯”å¦‚pandaså’Œseabornã€‚å¯¹äºå…¶å®ƒæ•°æ®å¯è§†åŒ–è¦æ±‚ï¼Œå­¦ä¹ å…¶å®ƒçš„å¯ç”¨å·¥å…·å¯èƒ½æ˜¯æœ‰ç”¨çš„ã€‚

## âœ… End

æœ¬ç« çš„ç›®çš„æ˜¯ç†Ÿæ‚‰ä¸€äº›åŸºæœ¬çš„æ•°æ®å¯è§†åŒ–æ“ä½œï¼Œä½¿ç”¨`pandas`ï¼Œ`matplotlib`ï¼Œå’Œ`seaborn`ã€‚å¦‚æœè§†è§‰æ˜¾ç¤ºæ•°æ®åˆ†æçš„ç»“æœå¯¹ä½ çš„å·¥ä½œå¾ˆé‡è¦ï¼Œæˆ‘é¼“åŠ±ä½ å¯»æ±‚æ›´å¤šçš„èµ„æºæ¥äº†è§£æ›´é«˜æ•ˆçš„æ•°æ®å¯è§†åŒ–ã€‚è¿™æ˜¯ä¸€ä¸ªæ´»è·ƒçš„ç ”ç©¶é¢†åŸŸï¼Œä½ å¯ä»¥é€šè¿‡åœ¨çº¿å’Œçº¸è´¨çš„å½¢å¼å­¦ä¹ è®¸å¤šä¼˜ç§€çš„èµ„æºã€‚

ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨`pandas`çš„æ•°æ®èšåˆå’Œåˆ†ç»„æ“ä½œä¸Šã€‚

---

# ğŸ“š References

- ğŸ“•  [ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æ-ç¬¬2ç‰ˆ-ä¸­æ–‡è¯‘ç‰ˆã€‹](https://www.jianshu.com/p/04d180d90a3f)

  <img src="https://gitee.com/veal98/images/raw/master/img/20200607091609.png" style="zoom:50%;" />

- ğŸš [Gihubã€ŠPythonæ•°æ®åˆ†æã€‹é…å¥—æºç ](https://github.com/wesm/pydata-book)