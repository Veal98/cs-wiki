# 53. æœ€å¤§è¿ç»­å­åºåˆ—å’Œ

---

ğŸ‘‰ [53. Maximum Subarray â€” Easy](https://leetcode-cn.com/problems/maximum-subarray/)

## ğŸ“œ é¢˜ç›®æè¿° 

Given an integer array nums, find the **contiguous (ç›¸é‚»çš„) subarray (containing at least one number) which has the largest sum** and return its sum.

Follow up: If you have figured out the O(n) solution, try coding another solution using the **divide and conquer** approach, which is more subtle

**Example 1**:

```
  Input: nums = [-2,1,-3,4,-1,2,1,-5,4]
  Output: 6
  Explanation: [4,-1,2,1] has the largest sum = 6.
```

  **Example 2**:

```
  Input: nums = [1]
  Output: 1
```

  **Example 3**:

```
  Input: nums = [0]
  Output: 0
```

  **Example 4**:

```
  Input: nums = [-1]
  Output: -1
```

  **Constraints**:

```
  1 <= nums.length <= 2 * 104
  -231 <= nums[i] <= 231 - 1
```

## ğŸ’¡ è§£é¢˜æ€è·¯

æœ€å¤§è¿ç»­å­åºåˆ—å’ŒåŒ…å«ä¸‰ç§æƒ…å†µ

- æœ€å¤§è¿ç»­å­åºåˆ—å’Œåˆ†å¸ƒåœ¨å·¦è¾¹
- æœ€å¤§è¿ç»­å­åºåˆ—å’Œåˆ†å¸ƒåœ¨å³è¾¹
- æœ€å¤§è¿ç»­å­åºåˆ—å’Œè·¨è¶Šå·¦å³ä¸¤è¾¹

å‰ä¸¤ç§æƒ…å†µç›´æ¥é€’å½’æ±‚è§£ï¼Œåé¢è¿™ç§ä»ä¸­é—´å¼€å§‹ä¸€ç‚¹ä¸€ç‚¹å‘å·¦å³ä¸¤è¾¹è¯•æ¢ï¼Œç›´åˆ°æ‰¾åˆ°æœ€å¤§å­åºåˆ—å’Œã€‚

## âœ… å…·ä½“ä»£ç 

çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼Œæ¸…æ™°æ˜“æ‡‚ï¼š

```java
import java.util.*;


public class Solution {
    /**
     * max sum of the subarray
     * @param arr intæ•´å‹ä¸€ç»´æ•°ç»„ the array
     * @return intæ•´å‹
     */
    public int maxsumofSubarray (int[] arr) {
        // write code here
        return maxsum(arr, 0, arr.length);
    }
    
    private int maxsum (int[] arr, int left, int right) {
        int mid = (left + right) / 2;
        if (left + 1 == right) {
            return arr[left]; 
        }
        
        // é€’å½’æ±‚è§£å·¦åŠéƒ¨åˆ†æœ€å¤§å€¼
        int maxL = maxsum(arr, left, mid);
        // é€’å½’æ±‚è§£å³åŠéƒ¨åˆ†æœ€å¤§å€¼
        int maxR = maxsum(arr, mid, right);
        
        // æ±‚è§£è·¨åŒºåŸŸçš„å€¼
        int maxSubLeft = 0;
        int maxSubRight = 0;
        int tempL = 0;
        int tempR = 0;
        
        for (int i = mid+1; i < arr.length; i ++) {
            tempR += arr[i];
            if (maxSubRight < tempR) {
                maxSubRight = tempR;
            }
        }
        
        for (int i = mid; i > 0; i --) {
            tempL += arr[i];
            if (maxSubLeft < tempL) {
                maxSubLeft = tempL;
            }
        }
        
        return Math.max(Math.max(maxL, maxR), maxSubLeft + maxSubRight);
    }
}
```

## ğŸ†š å¤æ‚åº¦åˆ†æ

å‡è®¾åºåˆ— a çš„é•¿åº¦ä¸º nã€‚

**æ—¶é—´å¤æ‚åº¦**ï¼š$O(n)$

å‡è®¾æˆ‘ä»¬<u>æŠŠé€’å½’çš„è¿‡ç¨‹çœ‹ä½œæ˜¯ä¸€é¢—äºŒå‰æ ‘çš„å…ˆåºéå†</u>ï¼Œé‚£ä¹ˆè¿™é¢—äºŒå‰æ ‘çš„æ·±åº¦çš„æ¸è¿›ä¸Šç•Œä¸º $O(logn)$ï¼Œè¿™é‡Œçš„æ€»æ—¶é—´ç›¸å½“äºéå†è¿™é¢—äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ•…æ€»æ—¶é—´çš„æ¸è¿›ä¸Šç•Œæ˜¯ $O(\sum_{i = 1}^{\log n} 2^{i - 1}) = O(n)$ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚

**ç©ºé—´å¤æ‚åº¦**ï¼š$O(logn)$

é€’å½’ä¼šä½¿ç”¨ O(logn) çš„æ ˆç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(logn)ã€‚