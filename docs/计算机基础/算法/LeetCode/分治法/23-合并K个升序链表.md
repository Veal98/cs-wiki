# 23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨

---

ğŸ‘‰ [23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-k-sorted-lists/)

## ğŸ“œ é¢˜ç›®æè¿°

You are given an array of k linked-lists lists, each linked-list is sorted in ascending order.

Merge all the linked-lists into one sorted linked-list and return it.

**Example 1**:

```
Input: lists = [[1,4,5],[1,3,4],[2,6]]
Output: [1,1,2,3,4,4,5,6]
Explanation: The linked-lists are:
[
  1->4->5,
  1->3->4,
  2->6
]
merging them into one sorted list:
1->1->2->3->4->4->5->6
```

**Example 2**:

```
Input: lists = []
Output: []
```

**Example 3**:

```
Input: lists = [[]]
Output: []
```

## ğŸ’¡ è§£é¢˜æ€è·¯ 

å…ˆçœ‹ä¸€ä¸‹ [21 - åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ Easy](è®¡ç®—æœºåŸºç¡€/ç®—æ³•/LeetCode/é“¾è¡¨/21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨.md)

æœ¬é¢˜è§£é¢˜æ€è·¯åŒå½’å¹¶æ’åº(åˆ†æ²»æ³•)ï¼Œä¸¤ä¸¤å½’å¹¶ï¼Œä¸æ–­åœ°å°†å‰åç›¸é‚»çš„ä¸¤ä¸ªæœ‰åºè¡¨å½’å¹¶ä¸ºä¸€ä¸ªæœ‰åºè¡¨

![](https://gitee.com/veal98/images/raw/master/img/20200928163012.png)


## âœ…  å…·ä½“ä»£ç  


```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode mergeKLists(ListNode[] lists) {
        return merge(lists, 0, lists.length - 1);
    }

    // å¯¹æ•°ç»„ list çš„å·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åº
    private ListNode merge(ListNode[] list, int l, int r){
        if(l == r)
            return list[l];
        if(l > r)
            return null;
        int mid = (l + r) / 2; // ä»ä¸­é—´åˆ’åˆ†ä¸¤ä¸ªå­åºåˆ—
        ListNode left = merge(list, l, mid); // å¯¹å·¦ä¾§åºåˆ—è¿›è¡Œé€’å½’æ’åº
        ListNode right = merge(list, mid + 1, r); // å¯¹å³ä¾§åºåˆ—è¿›è¡Œé€’å½’æ’åº
        return mergeTwoLists(left, right); // å½’å¹¶
    }

    // å°†ä¸¤ä¸ªæœ‰åºè¡¨å½’å¹¶ä¸ºä¸€ä¸ªæœ‰åºè¡¨
    private ListNode mergeTwoLists(ListNode l1, ListNode l2){
        if(l1 == null || l2 == null){
            return l1 != null ? l1 : l2;
        }

        ListNode l3 = new ListNode(0); // æ–°é“¾è¡¨
        // å·¥ä½œæŒ‡é’ˆ
        ListNode ptr1 = l1;
        ListNode ptr2 = l2;
        ListNode ptr3 = l3; 

        while(ptr1 != null && ptr2 != null){
            if(ptr1.val <= ptr2.val){
                ptr3.next = ptr1;
                ptr1 = ptr1.next;
            }
            else{
                ptr3.next = ptr2;
                ptr2 = ptr2.next;
            }
            ptr3 = ptr3.next;
        }

        if(ptr1 != null){
            ptr3.next = ptr1;
        }
        
        if(ptr2 != null){
            ptr3.next = ptr2;
        }

        return l3.next;
    }

}
```

## ğŸ†š å¤æ‚åº¦åˆ†æ

æ—¶é—´å¤æ‚åº¦ï¼šè€ƒè™‘é€’å½’ã€Œå‘ä¸Šå›å‡ã€çš„è¿‡ç¨‹â€”â€”ç¬¬ä¸€è½®åˆå¹¶ $\frac{k}{2}$ ç»„é“¾è¡¨ï¼Œæ¯ä¸€ç»„çš„æ—¶é—´ä»£ä»·æ˜¯ O(2n)ï¼›ç¬¬äºŒè½®åˆå¹¶ $\frac{k}{4}$ ç»„é“¾è¡¨ï¼Œæ¯ä¸€ç»„çš„æ—¶é—´ä»£ä»·æ˜¯ O(4n)...... æ‰€ä»¥æ€»çš„æ—¶é—´ä»£ä»·æ˜¯ $O(\sum_{i = 1}^{\infty} \frac{k}{2^i} \times 2^i n) = O(kn \times \log k)$ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º $O(kn \times \log k)$ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šé€’å½’ä¼šä½¿ç”¨åˆ° $O(\log k)$ ç©ºé—´ä»£ä»·çš„æ ˆç©ºé—´