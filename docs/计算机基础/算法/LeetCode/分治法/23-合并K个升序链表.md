# 23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨

---

ğŸ‘‰ [23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-k-sorted-lists/)

## ğŸ“œ é¢˜ç›®æè¿°

You are given an array of k linked-lists lists, each linked-list is sorted in ascending order.

Merge all the linked-lists into one sorted linked-list and return it.

**Example 1**:

```
Input: lists = [[1,4,5],[1,3,4],[2,6]]
Output: [1,1,2,3,4,4,5,6]
Explanation: The linked-lists are:
[
  1->4->5,
  1->3->4,
  2->6
]
merging them into one sorted list:
1->1->2->3->4->4->5->6
```

**Example 2**:

```
Input: lists = []
Output: []
```

**Example 3**:

```
Input: lists = [[]]
Output: []
```

## ğŸ’¡ è§£é¢˜æ€è·¯ 

å…ˆçœ‹ä¸€ä¸‹ [21 - åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ Easy](è®¡ç®—æœºåŸºç¡€/ç®—æ³•/LeetCode/é“¾è¡¨/21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨.md)

æœ¬é¢˜è§£é¢˜æ€è·¯åŒå½’å¹¶æ’åº(åˆ†æ²»æ³•)ï¼Œä¸¤ä¸¤å½’å¹¶ï¼Œä¸æ–­åœ°å°†å‰åç›¸é‚»çš„ä¸¤ä¸ªæœ‰åºè¡¨å½’å¹¶ä¸ºä¸€ä¸ªæœ‰åºè¡¨

![](https://gitee.com/veal98/images/raw/master/img/20200928163012.png)


## âœ…  å…·ä½“ä»£ç  


```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode mergeKLists(ListNode[] lists) {
        return mergeKLists(lists, 0, lists.length - 1);
    }
    
    // ä¸¤ä¸¤å½’å¹¶é“¾è¡¨æ•°ç»„ lists ä» left åˆ° right çš„é“¾è¡¨
    private ListNode mergeKLists(ListNode[] lists, int left, int right) {
        if (left > right) {
            return null;
        }
        // åªæœ‰ä¸€ä¸ªé“¾è¡¨
        if (left == right) {
            return lists[left];
        }
        
        int mid = (left + right) / 2;
        // å¯¹å·¦ä¾§é“¾è¡¨åºåˆ—è¿›è¡Œä¸¤ä¸¤é€’å½’å½’å¹¶
        ListNode leftList = mergeKLists(lists, left, mid);
        // å¯¹å³ä¾§é“¾è¡¨åºåˆ—è¿›è¡Œä¸¤ä¸¤é€’å½’å½’å¹¶
        ListNode rightList = mergeKLists(lists, mid + 1, right);
        
        // å½’å¹¶è¿™ä¸¤ä¸ªé“¾è¡¨
        return mergeTwoLists(leftList, rightList);
    }
    
    // å½’å¹¶ä¸¤ä¸ªå‡åºé“¾è¡¨
    private ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        if (l1 == null || l2 == null) {
            return l1 != null ? l1 : l2;
        }
        
        ListNode l3 = new ListNode(); // æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        // å·¥ä½œæŒ‡é’ˆ
        ListNode p1 = l1;
        ListNode p2 = l2;
        ListNode p3 = l3;
        
        while (p1 != null && p2 != null) {
            if (p1.val < p2.val) {
                p3.next = p1;
                p1 = p1.next;
            }
            else {
                p3.next = p2;
                p2 = p2.next;
            }
            p3 = p3.next;
        }
        
        if (p1 != null) {
            p3.next = p1;
        }
        if (p2 != null) {
            p3.next = p2;
        }
        
        return l3.next;
    }
    
}
```

## ğŸ†š å¤æ‚åº¦åˆ†æ

æ—¶é—´å¤æ‚åº¦ï¼šè€ƒè™‘é€’å½’ã€Œå‘ä¸Šå›å‡ã€çš„è¿‡ç¨‹â€”â€”ç¬¬ä¸€è½®åˆå¹¶ $\frac{k}{2}$ ç»„é“¾è¡¨ï¼Œæ¯ä¸€ç»„çš„æ—¶é—´ä»£ä»·æ˜¯ O(2n)ï¼›ç¬¬äºŒè½®åˆå¹¶ $\frac{k}{4}$ ç»„é“¾è¡¨ï¼Œæ¯ä¸€ç»„çš„æ—¶é—´ä»£ä»·æ˜¯ O(4n)...... æ‰€ä»¥æ€»çš„æ—¶é—´ä»£ä»·æ˜¯ $O(\sum_{i = 1}^{\infty} \frac{k}{2^i} \times 2^i n) = O(kn \times \log k)$ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º $O(kn \times \log k)$ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šé€’å½’ä¼šä½¿ç”¨åˆ° $O(\log k)$ ç©ºé—´ä»£ä»·çš„æ ˆç©ºé—´