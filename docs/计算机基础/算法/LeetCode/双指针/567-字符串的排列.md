# 567. å­—ç¬¦ä¸²çš„æ’åˆ—

---

ğŸ‘‰ [567. å­—ç¬¦ä¸²çš„æ’åˆ— â€” Medium](https://leetcode-cn.com/problems/permutation-in-string/)

## ğŸ“œ é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ s2 æ˜¯å¦åŒ…å« s1 çš„æ’åˆ—ã€‚

æ¢å¥è¯è¯´ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ’åˆ—ä¹‹ä¸€æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„å­ä¸²ã€‚

ç¤ºä¾‹1:

```
è¾“å…¥: s1 = "ab" s2 = "eidbaooo"
è¾“å‡º: True
è§£é‡Š: s2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ ("ba").
```


ç¤ºä¾‹2:

```
è¾“å…¥: s1= "ab" s2 = "eidboaoo"
è¾“å‡º: False
```

## ğŸ’¡ è§£é¢˜æ€è·¯ 

**ã€åŒæŒ‡é’ˆã€‘**ï¼šåŒæŒ‡é’ˆä¸­çš„æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œå…·ä½“æ€è·¯è¯¦è§è¯¥ç¯‡æ–‡ç«  ğŸ‘‰ [https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/9-åŒæŒ‡é’ˆ](https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/9-åŒæŒ‡é’ˆ)


## âœ…  å…·ä½“ä»£ç  


```java
class Solution {
    
    // è®°å½• s1 ä¸­çš„å­—ç¬¦åŠå…¶å¯¹åº”çš„ä¸ªæ•°
    HashMap<Character, Integer> need = new HashMap<>(); 
    // è®°å½•çª—å£ä¸­çš„å­—ç¬¦åŠå…¶å¯¹åº”çš„ä¸ªæ•°
    HashMap<Character, Integer> window = new HashMap<>(); 
    
    public boolean checkInclusion(String s1, String s2) {
        int s1Len = s1.length();
        int s2Len = s2.length();
        if(s2Len == 0)
            return false;
        
        for(int i = 0; i < s1Len; i ++){
            char c = s1.charAt(i);
            need.put(c, need.getOrDefault(c, 0) + 1);
        }
        
        int left = 0;
        int right = 0;
        int vaild = 0; // è¡¨ç¤ºçª—å£ window ä¸­æ»¡è¶³ need æ¡ä»¶çš„å­—ç¬¦ä¸ªæ•°
        
        while(right < s2Len){
            char c = s2.charAt(right);
            right ++;
            // å¦‚æœå³æŒ‡é’ˆæŒ‡å‘çš„è¿™ä¸ªå­—ç¬¦å­˜åœ¨äºå­—ç¬¦ä¸² s1 ä¸­ï¼Œåˆ™æ›´æ–°çª—å£æ•°æ®ä»¥åŠ vaild
            if(need.containsKey(c)){
                // æ›´æ–°çª—å£æ•°æ®
                window.put(c, window.getOrDefault(c, 0) + 1);
                // çª—å£ä¸­çš„è¯¥å­—ç¬¦æ»¡è¶³ need æ¡ä»¶ï¼Œåˆ™ vaild ++
                if(window.get(c).equals(need.get(c)))
                    vaild ++;
            }
            
            // æ”¶ç¼©å·¦çª—å£
            while(right - left >= s1Len){
                // åœ¨è¿™é‡Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†åˆæ³•çš„å­ä¸²
                if(vaild == need.size())
                    return true;
            
                char d = s2.charAt(left);
                left ++;
                if(need.containsKey(d)){
                    if(window.get(d).equals(need.get(d)))
                        vaild --;
                    window.put(d, window.getOrDefault(d, 0) - 1);
                }
            }
            
        }
        
        return false;
        
    }
}
```

