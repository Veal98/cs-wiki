# 474. ä¸€å’Œé›¶

---

ğŸ‘‰ [474. Ones and Zeroes](https://leetcode-cn.com/problems/ones-and-zeroes/)

## ğŸ“œ é¢˜ç›®æè¿°

Given an array, strs, with strings consisting of only 0s and 1s. Also two integers m and n.

Now your task is to find the maximum number of strings that you can form with given m 0s and n 1s. Each 0 and 1 can be used at most once.

ç°åœ¨ï¼Œå‡è®¾ä½ åˆ†åˆ«æ”¯é…ç€ m ä¸ª 0 å’Œ n ä¸ª 1ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 å­—ç¬¦ä¸²çš„æ•°ç»„ã€‚

ä½ çš„ä»»åŠ¡æ˜¯ä½¿ç”¨ç»™å®šçš„ m ä¸ª 0 å’Œ n ä¸ª 1 ï¼Œæ‰¾åˆ°èƒ½æ‹¼å‡ºå­˜åœ¨äºæ•°ç»„ä¸­çš„å­—ç¬¦ä¸²çš„æœ€å¤§æ•°é‡ã€‚æ¯ä¸ª 0 å’Œ 1 è‡³å¤šè¢«ä½¿ç”¨ä¸€æ¬¡ã€‚

**Example 1**:

```
Input: strs = ["10","0001","111001","1","0"], m = 5, n = 3
Output: 4
Explanation: This are totally 4 strings can be formed by the using of 5 0s and 3 1s, which are "10","0001","1","0".
```

**Example 2**:

```
Input: strs = ["10","0","1"], m = 1, n = 1
Output: 2
Explanation: You could form "10", but then you'd have nothing left. Better form "0" and "1".
```

**Constraints**:

1 <= strs.length <= 600

1 <= strs[i].length <= 100

strs[i] consists only of digits '0' and '1'.

1 <= m, n <= 100

## ğŸ’¡ è§£é¢˜æ€è·¯ 

**ã€åŠ¨æ€è§„åˆ’ã€‘**ï¼šç±»ä¼¼äº 0-1 èƒŒåŒ…é—®é¢˜ï¼šç»™ä½ ä¸€ä¸ªå¯è£…è½½é‡é‡ä¸º `W` çš„èƒŒåŒ…å’Œ `N` ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰é‡é‡å’Œä»·å€¼ä¸¤ä¸ªå±æ€§ï¼Œä¸”æ¯ä¸ªç‰©å“åªæœ‰ä¸€ä»¶ã€‚å…¶ä¸­ç¬¬ `i` ä¸ªç‰©å“çš„é‡é‡ä¸º `w[i]`ï¼Œä»·å€¼ä¸º `v[i]`ï¼Œç°åœ¨è®©ä½ ç”¨è¿™ä¸ªèƒŒåŒ…è£…ç‰©å“ï¼Œä»¥è·å¾—æœ€å¤§ä»·å€¼ï¼Œä¸”æ¯ä¸ªç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚

æœ¬é¢˜ä¸­çš„ m å’Œ n ç±»æ¯”äºèƒŒåŒ…é—®é¢˜ä¸­çš„ç‰©å“æ•°é‡ï¼Œ0 å’Œ 1 ç±»æ¯”äºèƒŒåŒ…é—®é¢˜ä¸­çš„ç‰©å“é‡é‡ï¼Œèƒ½å¤Ÿè¡¨è¾¾çš„å­—ç¬¦ä¸²æ•°é‡ç±»æ¯”äºèƒŒåŒ…é—®é¢˜ä¸­çš„ç‰©å“ä»·å€¼ï¼ŒåŒæ ·éƒ½æ˜¯åœ¨è§„å®šé‡é‡èŒƒå›´å†…è·å–æœ€å¤§ä»·å€¼ä¸”æ¯ä¸ªç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼ˆæ¯ä¸ª 0 æˆ– 1 åªèƒ½ä½¿ç”¨ 1 æ¬¡ï¼‰ã€‚

æˆ‘ä»¬ç”¨ `dp[k][i][j]` è¡¨ç¤ºéå†åˆ°ç¬¬ k ä¸ªï¼ˆä¸‹æ ‡ä¸º k - 1ï¼‰çš„å­—ç¬¦ä¸²æ—¶ä½¿ç”¨ `i` ä¸ª 0 å’Œ `j` ä¸ª 1 èƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å¤§å­—ç¬¦ä¸²æ•°é‡ã€‚å¯¹äºæŸä¸ªå­—ç¬¦ä¸²ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œç”¨è¿˜å‰©çš„ 0 1 æ•°é‡è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²ï¼Œæˆ–è€…ä¸è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²ã€‚å‡è®¾è¡¨ç¤ºç¬¬ k ä¸ªå­—ç¬¦ä¸²éœ€è¦çš„ 0 æ•°é‡ä¸º `cost_zero[k]`ï¼Œè¡¨ç¤ºç¬¬ k ä¸ªå­—ç¬¦ä¸²éœ€è¦çš„ 1 æ•°é‡ä¸º `cost_one[k]`. çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201010113114.png" style="zoom: 67%;" />

åˆ™æˆ‘ä»¬æœ€ç»ˆæ‰€éœ€è¦æ±‚çš„ä¸º `dp[strs.length][m][n]`

base case å°±æ˜¯ k = 0 æˆ–è€… m = 0 æˆ–è€… n = 0 çš„æ—¶å€™ï¼Œ`dp[k][i][j] = 0`ï¼Œåœ¨ Java ä¸­ `new int[][][]` çš„è¿‡ç¨‹å°±ä¼šå°†è¯¥æ•°ç»„å…¨éƒ¨åˆå§‹åŒ–æˆ 0 äº†

## âœ…  å…·ä½“ä»£ç  

### â‘  åŠ¨æ€è§„åˆ’åŸºç¡€è§£æ³•


```java
class Solution {
    public int findMaxForm(String[] strs, int m, int n) {
        int len = strs.length;
        int[][][] dp = new int[len+1][m+1][n+1];
        for(int k = 1; k <= len; k ++){
            int[] counter = counterZeroAndOne(strs[k-1]);
            for(int i = 0; i <= m; i ++){
                for(int j = 0; j <= n; j ++){
                    if(i < counter[0] || j < counter[1]) // å½“å‰å‰©ä½™çš„ i j æ•°é‡æ— æ³•è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²
                        dp[k][i][j] = dp[k - 1][i][j];
                    else // è¡¨è¾¾è¯¥å­—ç¬¦ä¸²æˆ–ä¸è¡¨è¾¾ï¼Œæ‹©ä¼˜
                        dp[k][i][j] = Math.max( dp[k-1][i][j], dp[k-1][i - counter[0]][j-counter[1]] + 1 );
                }
            }
        }
        return dp[len][m][n];
    }

    // è®¡ç®—å­—ç¬¦ä¸²ä¸­ 0 å’Œ 1 çš„æ•°é‡
    private int[] counterZeroAndOne(String str){
        int[] counter = new int[2];
        for(char c : str.toCharArray()){
            if(c == '0')
                counter[0] ++;
            else 
                counter[1] ++;
        }
        return counter;
    }
}
```

å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ 0-1 èƒŒåŒ…é—®é¢˜çš„ä»£ç ï¼ŒåŸºæœ¬ä¸€è‡´ï¼Œåªä¸è¿‡å°†è¾…åŠ©è¡¨æ”¹æˆäº† 3 ç»´ã€‚

<img src="https://gitee.com/veal98/images/raw/master/img/20201010172128.png" style="zoom:67%;" />

### â‘¡ çŠ¶æ€å‹ç¼©

å¯¹äºä¸Šè¿°ä»£ç ï¼Œå¯ä»¥çœ‹å‡º `dp[k][][]` åªå’Œ `dp[k-1][][]` æœ‰å…³ï¼Œæ‰€ä»¥å¯ä»¥å»æ‰ç¬¬ä¸€ç»´ kï¼Œåªç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¿å­˜ä¸Šä¸€æ¬¡è®¡ç®—çš„ç»“æœã€‚å¹¶ä¸”ç”±åˆ¤æ–­æ¡ä»¶å¯çŸ¥åªæœ‰åœ¨ `i >= counter[0] && j < counter[1]` æ—¶ï¼Œæ‰ä¼šè€ƒè™‘æ˜¯å¦å¯èƒ½è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²ã€‚ğŸ’¡ æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹åˆ¤æ–­æ¡ä»¶ï¼Œ**å°† `i` å’Œ `m` ä» `m (n)` å¼€å§‹ä¾æ¬¡é€’å‡ï¼Œç±»ä¼¼äºé€’å½’çš„æ–¹å¼ï¼Œè¿™æ ·å°±å¯ä»¥ä¿å­˜ä¸Šä¸€æ¬¡è®¡ç®—çš„ç»“æœï¼ˆå­ç»“æœï¼‰**ï¼š

```java
class Solution {
    public int findMaxForm(String[] strs, int m, int n) {
        int len = strs.length;
        int[][] dp = new int[m+1][n+1];
        
        for(String s : strs){
            int[] counter = counterZeroAndOne(s);
            for(int i = m; i >= counter[0]; i --){
                for(int j = n; j >= counter[1]; j --){
                    // è¡¨è¾¾è¯¥å­—ç¬¦ä¸²æˆ–ä¸è¡¨è¾¾ï¼Œæ‹©ä¼˜
                    dp[i][j] = Math.max( dp[i][j], dp[i - counter[0]][j-counter[1]] + 1 );
                }
            }
        }
        return dp[m][n];
    }

    // è®¡ç®—å­—ç¬¦ä¸²ä¸­ 0 å’Œ 1 çš„æ•°é‡
    private int[] counterZeroAndOne(String str){
        int[] counter = new int[2];
        for(char c : str.toCharArray()){
            if(c == '0')
                counter[0] ++;
            else 
                counter[1] ++;
        }
        return counter;
    }
}
```

<img src="https://gitee.com/veal98/images/raw/master/img/20201010172840.png" style="zoom:67%;" />