# 494. ç›®æ ‡å’Œ

---

ğŸ‘‰ [494. ç›®æ ‡å’Œ](https://leetcode-cn.com/problems/target-sum/)

## ğŸ“œ é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œa1, a2, ..., an, å’Œä¸€ä¸ªç›®æ ‡æ•°ï¼ŒSã€‚ç°åœ¨ä½ æœ‰ä¸¤ä¸ªç¬¦å· + å’Œ -ã€‚å¯¹äºæ•°ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªæ•´æ•°ï¼Œä½ éƒ½å¯ä»¥ä» + æˆ– -ä¸­é€‰æ‹©ä¸€ä¸ªç¬¦å·æ·»åŠ åœ¨å‰é¢ã€‚

è¿”å›å¯ä»¥ä½¿æœ€ç»ˆæ•°ç»„å’Œä¸ºç›®æ ‡æ•° S çš„æ‰€æœ‰æ·»åŠ ç¬¦å·çš„æ–¹æ³•æ•°ã€‚

ç¤ºä¾‹ï¼š

```
è¾“å…¥ï¼šnums: [1, 1, 1, 1, 1], S: 3
è¾“å‡ºï¼š5
è§£é‡Šï¼š
-1+1+1+1+1 = 3
+1-1+1+1+1 = 3
+1+1-1+1+1 = 3
+1+1+1-1+1 = 3
+1+1+1+1-1 = 3
```

ä¸€å…±æœ‰5ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º3ã€‚

## ğŸ’¡ è§£é¢˜æ€è·¯

**ã€åŠ¨æ€è§„åˆ’æ³•ã€‘**ï¼šå¯ä»¥è½¬æ¢ä¸ºå…¸å‹çš„ **0-1 èƒŒåŒ…é—®é¢˜**ã€‚æŠŠæ‰€æœ‰ç¬¦å·ä¸ºæ­£çš„æ•°æ€»å’Œè®¾ä¸ºä¸€ä¸ªèƒŒåŒ…çš„å®¹é‡ï¼Œå®¹é‡ä¸º `x`ï¼›æŠŠæ‰€æœ‰ç¬¦å·ä¸ºè´Ÿçš„æ•°æ€»å’Œï¼ˆç»å¯¹å€¼ï¼‰è®¾ä¸ºä¸€ä¸ªèƒŒåŒ…çš„å®¹é‡ï¼Œå®¹é‡ä¸º `y`ã€‚ä»¤ `sum `ä¸ºæ•°ç»„çš„æ€»å’Œï¼Œåˆ™ `x+y = sum`ã€‚è€Œä¸¤ä¸ªèƒŒåŒ…çš„å·®ä¸º `S` ,åˆ™ `x-y=S`ã€‚ä»è€Œæ±‚å¾— `x=(S+sum)/2`ã€‚

åŸºäºä¸Šè¿°åˆ†æï¼Œé¢˜ç›®è½¬æ¢ä¸º 0-1 èƒŒåŒ…é—®é¢˜ï¼šç»™å®š `N` ä¸ªç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸º `x=(S+sum)/2` çš„èƒŒåŒ…ï¼Œæ¯ä¸ªç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼ˆæˆ‘ä»¬å·²ç»å‡è®¾å‡ºæ‰€æœ‰æ­£æ•°å’Œè´Ÿæ•°ç»å¯¹å€¼çš„å’Œï¼Œå³æ•°ç»„ä¸­æ¯ä¸ªæ•°éƒ½æ˜¯ç¡®å®šçš„ä¸”åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œç›¸å½“äº 0-1 èƒŒåŒ…é—®é¢˜æ¯ä¸ªç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼‰ï¼Œç¬¬ `i` ä¸ªç‰©å“çš„é‡é‡ä¸º `nums[i]` ï¼ˆå³æ•°å€¼å¤§å°ï¼‰ï¼Œæ±‚æœ‰å¤šå°‘ç§æ–¹å¼æ°å¥½è®©èƒŒåŒ…è£…æ»¡ã€‚

## âœ…  å…·ä½“ä»£ç 

æ­¤å¤„æˆ‘ä»¬å°±ä¸ä»äºŒç»´å†å‹ç¼©åˆ°ä¸€ç»´äº†ï¼Œéƒ½æ˜¯å¥—è·¯ï¼Œå¦‚æœè¿˜æ˜¯ä¸æ¸…æ¥šäºŒç»´è¾…åŠ©è¡¨è¯¥å¦‚ä½•å†™çš„å…„å¼Ÿä»¬å¯ä»¥å‚è€ƒè¯¥ç¯‡æ–‡ç«  èƒŒåŒ…é—®é¢˜ éƒ¨åˆ†  ğŸ‘‰ [https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/5-åŠ¨æ€è§„åˆ’](https://veal98.gitee.io/cs-wiki/#/è®¡ç®—æœºåŸºç¡€/ç®—æ³•/5-åŠ¨æ€è§„åˆ’)ã€‚

ç›´æ¥ä¸Šä¸€ç»´è¾…åŠ©è¡¨çš„ä»£ç ï¼Œæ³¨æ„ä¸¤ä¸ªç‰¹æ®Šæƒ…å†µçš„å¤„ç†ï¼š


```java
class Solution {
    public int findTargetSumWays(int[] nums, int S) {
        int len = nums.length;

        int sum = 0; // æ•°ç»„æ‰€æœ‰æ•°çš„å’Œ
        for(int num : nums){
            sum += num;
        }

        // èƒŒåŒ…å®¹é‡ x=(S+sum)/2 ä¸ºæ•´æ•°ï¼Œè‹¥ sum+S ä¸ºå¥‡æ•°çš„è¯ä¸æ»¡è¶³è¦æ±‚
        if((S+sum)%2 == 1)
            return 0;
        // ç›®æ ‡å’Œä¸å¯èƒ½å¤§äºæ€»å’Œ
        if (S > sum){
            return 0;
        }

        // è¾…åŠ©è¡¨ï¼šä¸ºæœ€ç»ˆæ•°ç»„å’Œä¸º i æ·»åŠ ç¬¦å·çš„æ–¹æ³•æ•°ä¸º dp[i]
        // å³æœ‰ dp[i] ç§æ–¹æ³•å¯ä»¥è£…æ»¡é‡é‡ä¸º i çš„èƒŒåŒ…
        int[] dp = new int[(S+sum)/2 +1];
        // base case
        dp[0] = 1; // èƒŒåŒ…é‡é‡ä¸º 0ï¼Œåªæœ‰ä¸€ç§æ–¹æ³•å³ä¸è£…ä»»ä½•ä¸œè¥¿
        for(int i = 1; i <= len; i ++){
            for(int j = (S+sum)/2; j - nums[i-1] >= 0; j --){
                dp[j] = dp[j] + dp[j - nums[i-1]]; // æ–¹æ³•æ•°ä¹‹å’Œ
            }
        }

        return dp[(S+sum)/2];
    }
}
```

