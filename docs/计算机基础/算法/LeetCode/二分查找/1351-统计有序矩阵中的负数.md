# 1351. ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•°

---

ğŸ‘‰ [1351. ç»Ÿè®¡æœ‰åºçŸ©é˜µä¸­çš„è´Ÿæ•° â€” Easy](https://leetcode-cn.com/problems/count-negative-numbers-in-a-sorted-matrix/)

## ğŸ“œ é¢˜ç›®æè¿°

Given a m * n matrix grid which is sorted in **non-increasing order both row-wise and column-wise**. ï¼ˆçŸ©é˜µä¸­çš„å…ƒç´ æ— è®ºæ˜¯æŒ‰è¡Œè¿˜æ˜¯æŒ‰åˆ—ï¼Œéƒ½ä»¥éé€’å¢é¡ºåºæ’åˆ—ã€‚ï¼‰

Return the number of negative numbers in grid.

**Example 1**:

```
Input: grid = [[4,3,2,-1],[3,2,1,-1],[1,1,-1,-2],[-1,-1,-2,-3]]
Output: 8
Explanation: There are 8 negatives number in the matrix.
```

**Example 2**:

```
Input: grid = [[3,2],[1,0]]
Output: 0
```

**Example 3**:

```
Input: grid = [[1,-1],[-1,-1]]
Output: 3
```

**Example 4**:

```
Input: grid = [[-1]]
Output: 1
```

**Constraints**:

m == grid.length

n == grid[i].length

1 <= m, n <= 100

-100 <= `grid[i][j]` <= 100

## ğŸ’¡ è§£é¢˜æ€è·¯ 

å¯¹çŸ©é˜µä¸­çš„æ¯ä¸€è¡Œä¾æ¬¡è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å‡ºç¬¬ä¸€ä¸ªè´Ÿæ•°æ‰€åœ¨ä½ç½®ï¼Œç”±äºæ¯è¡Œéƒ½æ˜¯éé€’å¢æ’åºï¼ˆæ•°ç»„æœ‰åºï¼ŒåŒ…å«é‡å¤å…ƒç´ ï¼‰ï¼Œåˆ™è¯´æ˜è¯¥è¡Œè¯¥æ•°ä¹‹åçš„å…¶ä»–æ•°éƒ½ä¸ºè´Ÿæ•°ã€‚æ˜¾ç„¶æ˜¯ä¸€ä¸ªå…¸å‹çš„äºŒåˆ†æŸ¥æ‰¾å·¦è¾¹ç•Œçš„ä¾‹å­ã€‚

## âœ…  å…·ä½“ä»£ç  

### â‘  äºŒåˆ†æŸ¥æ‰¾


```java
class Solution {
    public int countNegatives(int[][] grid) {
        int rowLen = grid.length; // è¡Œæ•°
        int columnLen = grid[0].length; // åˆ—æ•°

        int count = 0; // è´Ÿæ•°çš„ä¸ªæ•°
        
        for(int i = 0; i < rowLen; i ++){
            int left = 0;
            int right = columnLen;
            // äºŒåˆ†æŸ¥æ‰¾ç¬¬ i è¡Œçš„ç¬¬ 1 ä¸ªè´Ÿæ•°
            while(left < right){
                int mid = left + (right - left) / 2;
                if(grid[i][mid] >= 0)
                    left = mid + 1;
                else
                    right = mid;
            }

            count += columnLen - left;
        }

        return count;
    }
}   
```

ğŸƒâ€ è¿è¡Œç»“æœï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20200923173740.png" style="zoom:80%;" />

### â‘¡ ä¼˜åŒ–åçš„äºŒåˆ†æŸ¥æ‰¾

å……åˆ†åˆ©ç”¨é¢˜ç›®æ¡ä»¶ï¼š

è¡Œéå¢åºåˆ—ï¼Œæ•…åœ¨æ‰¾æ¯è¡Œç¬¬ä¸€ä¸ªè´Ÿæ•°æ—¶å¯ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ˆæ¯”çº¿æ€§æŸ¥æ‰¾å¿«ï¼‰ï¼›

**åˆ—ä¹Ÿæ˜¯éå¢åºåˆ—ï¼Œæ•…éå†æ¯è¡Œæ—¶å¯ä»¥å°†ä¸Šä¸€è¡Œçš„ç¬¬ä¸€ä¸ªè´Ÿæ•°çš„ç´¢å¼•ä½œä¸ºè¯¥è¡Œçš„å³è¾¹ç•Œ**ã€‚

å…¶å®å°±æ˜¯å°† ` int right = columnLen;` çš„ä½ç½®ç§»åˆ°å¾ªç¯å¤–é¢æ¥å°±è¡Œäº†ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20200923173620.png" style="zoom:67%;" />

ğŸƒâ€ è¿è¡Œç»“æœï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20200923173708.png" style="zoom: 80%;" />

## ğŸ†š å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šäºŒåˆ†æŸ¥æ‰¾ä¸€è¡Œçš„æ—¶é—´å¤æ‚åº¦ä¸º logmï¼Œéœ€è¦éå† n è¡Œï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogm)ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)