# 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

---

ğŸ‘‰ [34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® â€” Medium](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/)

## ğŸ“œ é¢˜ç›®æè¿°

Given an array of integers nums sorted in **ascending order**, find **the starting and ending position of a given target value**.

Your algorithm's runtime complexity must be in the order of O(log n).

If the target is not found in the array, return [-1, -1].

é¢˜æ„å°±æ˜¯åœ¨ä¸€ä¸ªåŒ…å«é‡å¤å…ƒç´ çš„éé€’å‡æ’åºçš„æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºæŸä¸ªå…ƒç´ çš„å¼€å§‹ä¸‹æ ‡å’Œç»“æŸä¸‹æ ‡

**Example 1**:

```
Input: nums = [5,7,7,8,8,10], target = 8
Output: [3,4]
```

**Example 2**:

```
Input: nums = [5,7,7,8,8,10], target = 6
Output: [-1,-1]
```

**Constraints**:

0 <= nums.length <= 10^5

-10^9 <= nums[i] <= 10^9

nums is a non decreasing array.

-10^9 <= target <= 10^9

## ğŸ’¡ è§£é¢˜æ€è·¯ 

**äºŒåˆ†æŸ¥æ‰¾**ï¼šåˆ†åˆ«åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œå³å¯


## âœ…  å…·ä½“ä»£ç  


```java
class Solution {
    public int[] searchRange(int[] nums, int target) {

        int[] res = new int[]{-1, -1}; // å­˜å‚¨å·¦å³è¾¹ç•Œ

        if(nums == null || nums.length == 0) 
            return res;

        // å¯»æ‰¾å·¦è¾¹ç•Œ
        int left = 0;
        int right = nums.length - 1;
        while (left < right) {
            int mid = left + ((right - left) >> 1);
            if (nums[mid] < target) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        res[0] = nums[left] == target ? left : -1;
        
        // å¯»æ‰¾å³è¾¹ç•Œ
        if (res[0] != -1) {
            if (left == nums.length - 1 || nums[left + 1] != target) {
                res[1] = left;
            } 
            else {
                right = nums.length - 1;
                while (left < right) {
                    int mid = left + ((right - left) >> 1) + 1;
                    if (nums[mid] > target) {
                        right = mid - 1;
                    } else {
                        left = mid;
                    }
                }
                res[1] = nums[right] == target ? right : -1;
            }
        }

        return res;
    }
}
```

## ğŸ†š å¤æ‚åº¦åˆ†æ

**æ—¶é—´å¤æ‚åº¦**ï¼š $O(logn)$

ç”±äºäºŒåˆ†æŸ¥æ‰¾æ¯æ¬¡å°†æœç´¢åŒºé—´å¤§çº¦åˆ’åˆ†ä¸ºä¸¤ç­‰åˆ†ï¼Œæ‰€ä»¥è‡³å¤šæœ‰ $\lceil \log_{2}n \rceil$ æ¬¡è¿­ä»£ã€‚äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¯¹æ•°çº§åˆ«çš„ ã€‚

**ç©ºé—´å¤æ‚åº¦**ï¼šO(1)

æ‰€æœ‰å·¥ä½œéƒ½æ˜¯åŸåœ°è¿›è¡Œçš„ï¼Œæ‰€ä»¥æ€»çš„å†…å­˜ç©ºé—´æ˜¯å¸¸æ•°çº§åˆ«çš„ã€‚

