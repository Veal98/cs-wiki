# ðŸ‘®â€â™‚ï¸ 17 - æ ‘çš„å­ç»“æž„

---



### é¢˜ç›®æè¿°

è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aï¼ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æž„ã€‚ï¼ˆpsï¼šæˆ‘ä»¬çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æž„ï¼‰



### è§£é¢˜æ€è·¯

é€’å½’åˆ¤æ–­ï¼Œå…ˆåŒ¹é…åˆ°æ ¹èŠ‚ç‚¹ï¼Œå†ä»¥è¯¥èŠ‚ç‚¹ä¸ºè½´åŒ¹é…å·¦å³å­æ ‘



### å…·ä½“ä»£ç 

- C++

```cpp
/*
struct TreeNode {
    int val;
    struct TreeNode *left;
    struct TreeNode *right;
    TreeNode(int x) :
            val(x), left(NULL), right(NULL) {
    }
};*/
class Solution {
public:
    bool HasSubtree(TreeNode* p1, TreeNode* p2){
        bool result = false;
        //å½“Tree1å’ŒTree2éƒ½ä¸ä¸ºé›¶çš„æ—¶å€™ï¼Œæ‰è¿›è¡Œæ¯”è¾ƒã€‚å¦åˆ™ç›´æŽ¥è¿”å›žfalse
        if(p2!= NULL && p1!=NULL){
            //å¦‚æžœæ‰¾åˆ°äº†å¯¹åº”Tree2çš„æ ¹èŠ‚ç‚¹çš„ç‚¹
            if(p1->val == p2->val)
                //ä»¥è¿™ä¸ªæ ¹èŠ‚ç‚¹ä¸ºä¸ºèµ·ç‚¹åˆ¤æ–­æ˜¯å¦åŒ…å«Tree2
                result = doesTree1HavaTree2(p1,p2);
            
            //å¦‚æžœæ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆå°±å†åŽ»rootçš„å·¦å„¿å­å½“ä½œèµ·ç‚¹ï¼ŒåŽ»åˆ¤æ–­æ˜¯å¦åŒ…å«Tree2
            if(!result)
               result =  HasSubtree(p1->left,p2);
            
            if(!result)
                result = HasSubtree(p1->right,p2);
        }
        return result;
    }
    
    // è‹¥ä¸¤æ£µæ ‘çš„é¡¶ç‚¹ç›¸ç­‰ï¼Œåˆ™è°ƒç”¨æ­¤æ–¹æ³•è¿›è¡Œé€’å½’åˆ¤æ–­ æ˜¯å¦ä¸ºå­ç»“æž„
    bool doesTree1HavaTree2(TreeNode *big, TreeNode *small){
         //å¦‚æžœTree2å·²ç»éåŽ†å®Œäº†ï¼Œè¯´æ˜Žæ¯ä¸ªç»“ç‚¹éƒ½èƒ½å¯¹åº”çš„ä¸Šï¼Œè¿”å›žtrue
        if(small == NULL)
            return true;
         //å¦‚æžœTree2è¿˜æ²¡æœ‰éåŽ†å®Œï¼ŒTree1å´éåŽ†å®Œäº†ã€‚è¿”å›žfalse
        if(big == NULL)
            return false;
         //å¦‚æžœå…¶ä¸­æœ‰ä¸€ä¸ªç‚¹æ²¡æœ‰å¯¹åº”ä¸Šï¼Œè¿”å›žfalse
        if(big->val != small->val)
            return false;
        
         //å¦‚æžœæ ¹èŠ‚ç‚¹å¯¹åº”çš„ä¸Šï¼Œé‚£ä¹ˆå°±åˆ†åˆ«åŽ»å­èŠ‚ç‚¹é‡Œé¢åŒ¹é…
        return doesTree1HavaTree2(big->left,small->left) && doesTree1HavaTree2(big->right,small->right);
    }
};
```



- Java

```java
/**
public class TreeNode {
    int val = 0;
    TreeNode left = null;
    TreeNode right = null;

    public TreeNode(int val) {
        this.val = val;
    }
}
*/
public class Solution {
    public boolean HasSubtree(TreeNode root1,TreeNode root2) {
        if(root1 == null || root2 == null)
            return false;

        return  doesTree1HaveTree2(root1,root2) || HasSubtree(root1.left,root2) || HasSubtree(root1.right,root2);
    }
    
    public boolean doesTree1HaveTree2(TreeNode big, TreeNode small){
        if(small == null)
            return true;
        if(big == null)
            return false;
        if(big.val == small.val)
            return doesTree1HaveTree2(big.left,small.left) && doesTree1HaveTree2(big.right, small.right);
        return false;
    }
}
```