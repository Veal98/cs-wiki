# ğŸ˜ 26 - äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨

---

### é¢˜ç›®æè¿°
è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚

### è§£é¢˜æ€è·¯
äºŒå‰æ’åºæ ‘ï¼ˆäºŒå‰æœç´¢æ ‘ï¼‰çš„ä¸­åºéå†æ˜¯é€’å¢åºåˆ—ã€‚<br />æŒ‰ç…§ä¸­åºéå†çš„é¡ºåºå°†ç»“ç‚¹å­˜å…¥æ•°ç»„ï¼Œç„¶åç»™æ•°ç»„ä¸­å…ƒç´ åŠ å…¥åŒå‘æŒ‡é’ˆå³å¯<br />
<br />æ­¤å¤„ä½¿ç”¨çš„éé€’å½’å®ç°ä¸­åºéå†

### å…·ä½“ä»£ç 

- C++
```cpp
/*
struct TreeNode {
	int val;
	struct TreeNode *left;
	struct TreeNode *right;
	TreeNode(int x) :
			val(x), left(NULL), right(NULL) {
	}
};*/
class Solution {
public:
    TreeNode* Convert(TreeNode* pRootOfTree){
        if(pRootOfTree == nullptr)
            return nullptr;
        stack<TreeNode *> sta; //ç”¨äºä¸­åºéå†
        vector<TreeNode *> vec; //ç”¨äºå­˜å‚¨ä¸­åºéå†çš„ç»“ç‚¹
        // ä¸­åºéå†
        TreeNode *p = pRootOfTree; // å·¥ä½œæŒ‡é’ˆ
        while(! (sta.empty() && p==nullptr)){
            if(p){
                sta.push(p);
                p = p->left;
            }
            else{
                p = sta.top();
                sta.pop();
                vec.push_back(p); //å­˜å…¥æ•°ç»„
                p = p->right;
            }
        }
        
        //ä¸ºæ•°ç»„ä¸­ç»“ç‚¹æ·»åŠ æŒ‡é’ˆ
        vec.front()->left = nullptr;
        vec.back()->right = nullptr;
        int len = vec.size();
        for(int i = 0; i<len-1; i++){
            vec[i]->right = vec[i+1];
            vec[i+1]->left = vec[i];
        }
        
        return vec.front();
    }
};
```


- Java

```java
/**
public class TreeNode {
    int val = 0;
    TreeNode left = null;
    TreeNode right = null;
    public TreeNode(int val) {
        this.val = val;
    }
}
*/
import java.util.ArrayList;
import java.util.Stack;

public class Solution {
    public TreeNode Convert(TreeNode pRootOfTree) {
        if( pRootOfTree == null)
            return null;
        ArrayList<TreeNode> arrayList = new ArrayList<>();
        Stack<TreeNode> stack = new Stack<>();
        TreeNode p = pRootOfTree; //å·¥ä½œæŒ‡é’ˆ
        while(! (stack.empty() && p== null)){
            if(p != null){
                stack.push(p);
                p = p.left;
            }
            else{
                p = stack.peek();
                stack.pop();
                arrayList.add(p);
                p = p.right;
            }
        }
        
        int len = arrayList.size();
        arrayList.get(0).left = null;
        arrayList.get(len-1).right = null;
        for(int i = 0; i<len-1; i++){
            arrayList.get(i).right = arrayList.get(i+1);
            arrayList.get(i+1).left = arrayList.get(i);
        }
        
        return arrayList.get(0);
    }
}
```


