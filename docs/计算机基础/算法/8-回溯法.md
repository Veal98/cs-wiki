# ğŸ™Š å›æº¯æ³•

---

## 1. ä»€ä¹ˆæ˜¯å›æº¯æ³•

æŸç§ç¨‹åº¦ä¸Šè¯´ï¼ŒåŠ¨æ€è§„åˆ’çš„æš´åŠ›æ±‚è§£é˜¶æ®µå°±æ˜¯å›æº¯ç®—æ³•ã€‚åªæ˜¯æœ‰çš„é—®é¢˜å…·æœ‰é‡å å­é—®é¢˜æ€§è´¨ï¼Œå¯ä»¥ç”¨ dp table æˆ–è€…å¤‡å¿˜å½•ä¼˜åŒ–ï¼Œå°†é€’å½’æ ‘å¤§å¹…å‰ªæï¼Œè¿™å°±å˜æˆäº†åŠ¨æ€è§„åˆ’ã€‚æ‰€ä»¥**å›æº¯ç®—æ³•é—®é¢˜çš„å¤æ‚åº¦éå¸¸é«˜æ˜¯ä¸å¯é¿å…çš„**ã€‚

å›æº¯æ³•çš„åŸºæœ¬åšæ³•æ˜¯æœç´¢ï¼Œå®ƒæ˜¯ä¸€ç§å¯ä»¥**é¿å…ä¸å¿…è¦æœç´¢**çš„**ç©·ä¸¾å¼æœç´¢æ³•**ã€‚å›æº¯æ³•é€‚ç”¨äºæ±‚è§£ä¸€äº›ç»„åˆæ•°è¾ƒå¤§çš„é—®é¢˜

â­ **å›æº¯æ³•çš„åŸºæœ¬æ€æƒ³**ï¼š

- å›æº¯æ³•åœ¨é—®é¢˜çš„è§£ç©ºé—´æ ‘ä¸­ï¼ŒæŒ‰**æ·±åº¦ä¼˜å…ˆç­–ç•¥**ï¼Œä»æ ¹ç»“ç‚¹å‡ºå‘**æœç´¢è§£ç©ºé—´æ ‘**

- ç®—æ³•æœç´¢è‡³è§£ç©ºé—´æ ‘çš„ä»»æ„ä¸€ç‚¹æ—¶ï¼Œå…ˆåˆ¤æ–­è¯¥ç»“ç‚¹æ˜¯å¦åŒ…å«é—®é¢˜çš„è§£

  - å¦‚æœè‚¯å®šä¸åŒ…å«ï¼Œåˆ™è·³è¿‡å¯¹è¯¥ç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æœç´¢ï¼ˆ**å‰ªæ** pruningï¼‰ï¼Œ**é€å±‚å‘å…¶ç¥–å…ˆç»“ç‚¹å›æº¯**

    > ğŸ’¡ æœç´¢æ—¶ï¼Œå¸¸ç”¨ä¸¤ç§ç­–ç•¥é¿å…æ— æ•ˆæœç´¢ï¼ˆå‰ªæå‡½æ•°ï¼‰
    >
    > - ç”¨**çº¦æŸæ¡ä»¶**å‰ªå»å¾—ä¸åˆ°å¯è¡Œè§£çš„å­æ ‘
    > - ç”¨**ç›®æ ‡å‡½æ•°**å‰ªå»å¾—ä¸åˆ°æœ€ä¼˜è§£çš„å­æ ‘

  - <u>å¦åˆ™ï¼Œè¿›å…¥è¯¥å­æ ‘ï¼Œç»§ç»­æŒ‰æ·±åº¦ä¼˜å…ˆç­–ç•¥æœç´¢</u>

## 2. è§£ç©ºé—´æ ‘

é—®é¢˜çš„**è§£ç©ºé—´**ä¸€èˆ¬ç”¨**è§£ç©ºé—´æ ‘**çš„æ–¹å¼ç»„ç»‡ï¼š

- æ ‘çš„æ ¹èŠ‚ç‚¹ä½äºç¬¬ä¸€å±‚ï¼Œè¡¨ç¤ºæœç´¢çš„åˆå§‹çŠ¶æ€
- ç¬¬äºŒå±‚çš„èŠ‚ç‚¹è¡¨ç¤ºå¯¹è§£å‘é‡çš„ç¬¬ä¸€ä¸ªåˆ†é‡åšå‡ºé€‰æ‹©ååˆ°è¾¾çš„çŠ¶æ€
- ç¬¬ä¸€å±‚åˆ°ç¬¬äºŒå±‚çš„è¾¹ä¸Šæ ‡å‡ºå¯¹ç¬¬ä¸€ä¸ªåˆ†é‡é€‰æ‹©çš„ç»“æœ
- ä¾æ­¤ç±»æ¨ï¼Œ**ä»æ ‘çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„å°±æ„æˆäº†è§£ç©ºé—´çš„ä¸€ä¸ªå¯èƒ½è§£**

å›æº¯æ³•æ±‚è§£æ—¶**å¸¸è§çš„ä¸¤ç±»è§£ç©ºé—´æ ‘**ï¼š

- **å­é›†æ ‘**ï¼šå½“æ‰€ç»™é—®é¢˜æ˜¯ä» n ä¸ªå…ƒç´ çš„é›†åˆ S ä¸­æ‰¾å‡ºæ»¡è¶³æŸç§æ€§è´¨çš„å­é›†æ—¶ï¼Œç›¸åº”çš„è§£ç©ºé—´æ ‘ç§°ä¸ºå­é›†æ ‘

  <img src="https://gitee.com/veal98/images/raw/master/img/20201202214511.png" style="zoom:33%;" />

- **æ’åˆ—æ ‘**ï¼šå½“æ‰€ç»™é—®é¢˜æ˜¯ç¡®å®š n ä¸ªå…ƒç´ æ»¡è¶³æŸç§æ€§è´¨çš„æ’åˆ—æ—¶ï¼Œç›¸åº”çš„è§£ç©ºé—´æ ‘ç§°ä¸ºæ’åˆ—æ ‘

  <img src="https://gitee.com/veal98/images/raw/master/img/20201202214539.png" style="zoom:33%;" />

ç”¨å›æº¯æ³•è§£é¢˜çš„ä¸€ä¸ªæ˜¾è‘—ç‰¹å¾æ˜¯åœ¨æœç´¢è¿‡ç¨‹ä¸­åŠ¨æ€äº§ç”Ÿé—®é¢˜çš„è§£ç©ºé—´ã€‚**åœ¨ä»»ä½•æ—¶åˆ»ï¼Œç®—æ³•åªä¿å­˜ä»æ ¹ç»“ç‚¹åˆ°å½“å‰æ‰©å±•ç»“ç‚¹çš„è·¯å¾„**

> ğŸ˜Š å¯¹äºå›æº¯æ³•é—®é¢˜ï¼Œå¤§å®¶ç”»å‡ºè§£ç©ºé—´æ ‘å°±ä¸€ç›®äº†ç„¶äº† 

## 3. æ’åˆ—æ ‘é—®é¢˜

**è§£å†³ä¸€ä¸ªå›æº¯é—®é¢˜ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªè§£ç©ºé—´æ ‘çš„éå†è¿‡ç¨‹**ã€‚ä½ åªéœ€è¦æ€è€ƒ 3 ä¸ªé—®é¢˜ï¼š

- **è·¯å¾„**ï¼šä¹Ÿå°±æ˜¯å·²ç»åšå‡ºçš„é€‰æ‹©ã€‚

- **é€‰æ‹©åˆ—è¡¨**ï¼šä¹Ÿå°±æ˜¯ä½ å½“å‰å¯ä»¥åšçš„é€‰æ‹©ã€‚

- **ç»“æŸæ¡ä»¶**ï¼šä¹Ÿå°±æ˜¯åˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©çš„æ¡ä»¶ã€‚

```java
result = []
def backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„):
    if æ»¡è¶³ç»“æŸæ¡ä»¶:
        result.add(è·¯å¾„)
        return

    for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
        æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰
        åšé€‰æ‹©
        è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘ backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„)
        æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
```

**å…¶æ ¸å¿ƒå°±æ˜¯ for å¾ªç¯é‡Œé¢çš„é€’å½’ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹å‰ã€Œåšé€‰æ‹©ã€ï¼ˆæ ‘çš„å‰åºéå†ï¼‰ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹åã€Œæ’¤é”€é€‰æ‹© / è¿›è¡Œå›æº¯ã€**

### 46. å…¨æ’åˆ—é—®é¢˜

ğŸ‘‰ [Leetcode 46. å…¨æ’åˆ— â€” Medium](https://leetcode-cn.com/problems/permutations/)

ã€é¢˜ç›®æè¿°ã€‘ï¼šç»™å®šä¸€ä¸ª **æ²¡æœ‰é‡å¤æ•°å­—** çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚

ç¤ºä¾‹:

```
è¾“å…¥: [1,2,3]
è¾“å‡º:
[
  [1,2,3],
  [1,3,2],
  [2,1,3],
  [2,3,1],
  [3,1,2],
  [3,2,1]
]
```

ã€è§£é¢˜æ€è·¯ã€‘å…ˆå›ºå®šç¬¬ä¸€ä½ä¸º 1ï¼Œç„¶åç¬¬äºŒä½å¯ä»¥æ˜¯ 2ï¼Œé‚£ä¹ˆç¬¬ä¸‰ä½åªèƒ½æ˜¯ 3ï¼›ç„¶åå¯ä»¥æŠŠç¬¬äºŒä½å˜æˆ 3ï¼Œç¬¬ä¸‰ä½å°±åªèƒ½æ˜¯ 2 äº†ï¼›ç„¶åå°±åªèƒ½å˜åŒ–ç¬¬ä¸€ä½ï¼Œå˜æˆ 2ï¼Œç„¶åå†ç©·ä¸¾åä¸¤ä½â€¦â€¦

å…¶å®è¿™å°±æ˜¯å›æº¯ç®—æ³•ï¼Œè§£ç©ºé—´æ ‘ï¼ˆ**æ’åˆ—æ ‘**ï¼‰å¦‚ä¸‹ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201108113356.png" style="zoom:50%;" />

åªè¦ä»æ ¹éå†è¿™æ£µæ ‘ï¼Œè®°å½•è·¯å¾„ä¸Šçš„æ•°å­—ï¼Œå…¶å®å°±æ˜¯æ‰€æœ‰çš„å…¨æ’åˆ—ã€‚æ¯”å¦‚è¯´ä½ ç«™åœ¨ä¸‹å›¾çš„çº¢è‰²èŠ‚ç‚¹ä¸Šï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201108113500.png" style="zoom:50%;" />

ä½ ç°åœ¨å°±åœ¨åšå†³ç­–ï¼Œå¯ä»¥é€‰æ‹© 1 é‚£æ¡æ ‘æï¼Œä¹Ÿå¯ä»¥é€‰æ‹© 3 é‚£æ¡æ ‘æã€‚ä¸ºå•¥åªèƒ½åœ¨ 1 å’Œ 3 ä¹‹ä¸­é€‰æ‹©å‘¢ï¼Ÿå› ä¸º 2 è¿™ä¸ªé€‰æ‹©ä½ ä¹‹å‰åšè¿‡äº†ï¼Œè€Œå…¨æ’åˆ—æ˜¯ä¸å…è®¸é‡å¤ä½¿ç”¨æ•°å­—çš„ã€‚

**å¯ä»¥æŠŠã€Œè·¯å¾„ã€å’Œã€Œé€‰æ‹©ã€åˆ—è¡¨ä½œä¸ºè§£ç©ºé—´æ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹çš„å±æ€§**ï¼Œæ¯”å¦‚ä¸‹å›¾åˆ—å‡ºäº†å‡ ä¸ªèŠ‚ç‚¹çš„å±æ€§ï¼š

> ğŸ”— å›¾ç‰‡æ¥æº [labuladong çš„ç®—æ³•å°æŠ„](https://labuladong.gitbook.io/algo/dong-tai-gui-hua-xi-lie/bei-bao-wen-ti)

<img src="https://gitee.com/veal98/images/raw/master/img/20201108113554.png" style="zoom:50%;" />

ä»æ ¹èŠ‚ç‚¹å¼€å§‹å‰åºéå†ï¼Œé€šè¿‡æ’¤é”€é€‰æ‹©è¿›è¡Œå›æº¯ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201108113937.png" style="zoom:50%;" />

æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201108115928.png" style="zoom: 55%;" />

OKï¼Œç›´æ¥å¥—æˆ‘ä»¬çš„æ¨¡æ¿å³å¯ï¼š

```java
class Solution {

    // å­˜å‚¨æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—
    private List<List<Integer>> res = new LinkedList<>();
    
	public List<List<Integer>> permute(int[] nums) {
        // å­˜å‚¨å•æ¡å…¨æ’åˆ—(è·¯å¾„)
    	LinkedList<Integer> track = new LinkedList<>();
        backtrack(nums, track);
        return res;
    }
    
    // nums: é€‰æ‹©åˆ—è¡¨
    // trackï¼šè·¯å¾„
    private void backtrack(int[] nums, LinkedList<Integer> track){
        // ç»“æŸæ¡ä»¶: è¯¥æ’åˆ—/è·¯å¾„ä¸­å·²ç»åŒ…å«å…¨éƒ¨å…ƒç´ 
        if(track.size() == nums.length) {
            // res.add(track); error
            // Java æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„ã€‚track åœ¨ä¸æ–­å˜åŒ–ï¼Œè€Œæˆ‘ä»¬éœ€è¦ä¿å­˜ track çš„å½“å‰çŠ¶æ€ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ­¤å¤„è¿›è¡Œæ‹·è´
            res.add(new LinkedList<Integer>(track));
            return ;
        }

        for(int i = 0; i < nums.length; i ++){
            // æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰
            if(track.contains(nums[i]))
                continue;
            // åšé€‰æ‹©
            track.add(nums[i]);
            // è¿›å…¥ä¸‹ä¸€å±‚å†³ç­–æ ‘
            backtrack(nums, track);
            // æ’¤é”€é€‰æ‹©
            track.removeLast();
        }
    }
    
}
```

å½“ç„¶ï¼Œè¿™ä¸ªç®—æ³•è§£å†³å…¨æ’åˆ—ä¸æ˜¯å¾ˆé«˜æ•ˆï¼Œåº”ä¸ºå¯¹é“¾è¡¨ä½¿ç”¨ `contains` æ–¹æ³•éœ€è¦ O(N) çš„æ—¶é—´å¤æ‚åº¦ã€‚æœ‰æ›´å¥½çš„æ–¹æ³•é€šè¿‡äº¤æ¢å…ƒç´ è¾¾åˆ°ç›®çš„ï¼Œä½†æ˜¯éš¾ç†è§£ä¸€äº›ï¼Œè¿™é‡Œå°±ä¸å†™äº†ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªè¡Œæœç´¢ä¸€ä¸‹ã€‚

ä½†æ˜¯å¿…é¡»è¯´æ˜çš„æ˜¯ï¼Œä¸ç®¡æ€ä¹ˆä¼˜åŒ–ï¼Œéƒ½ç¬¦åˆå›æº¯æ¡†æ¶ï¼Œè€Œä¸”æ—¶é—´å¤æ‚åº¦éƒ½ä¸å¯èƒ½ä½äº `O(N!)`ï¼Œå› ä¸ºç©·ä¸¾æ•´æ£µæ’åˆ—æ ‘æ˜¯æ— æ³•é¿å…çš„ã€‚**è¿™ä¹Ÿæ˜¯å›æº¯ç®—æ³•çš„ä¸€ä¸ªç‰¹ç‚¹ï¼Œä¸åƒåŠ¨æ€è§„åˆ’å­˜åœ¨é‡å å­é—®é¢˜å¯ä»¥ä¼˜åŒ–ï¼Œå›æº¯ç®—æ³•å°±æ˜¯çº¯æš´åŠ›ç©·ä¸¾ï¼Œå¤æ‚åº¦ä¸€èˆ¬éƒ½å¾ˆé«˜**ã€‚

## 5. å­é›†æ ‘é—®é¢˜

å¯¹äºå­é›†æ ‘é—®é¢˜ï¼Œå¦**éœ€è¦ä¸€ä¸ªæ ‡å¿—ä½ startï¼ˆä¹Ÿå¯èƒ½éœ€è¦å¤šä¸ªï¼‰ï¼Œè¡¨ç¤ºè§£ç©ºé—´çš„ç¬¬ start ä¸ªä½ç½®ï¼ˆæˆ–è€…è¡¨ç¤ºåœ¨è§£ç©ºé—´ä¸­çš„æ•°é‡ç­‰ï¼‰**ï¼Œå¾€å¾€ä» 0 å¼€å§‹ï¼Œå½“  `i = è§£ç©ºé—´çš„å¤§å°` æ—¶ï¼Œè¡¨ç¤ºè§£ç©ºé—´ä¸Šçš„æ‰€æœ‰ä½ç½®çš„è§£éƒ½å·²ç»æ±‚å‡º

> ğŸ’¡ **å¯é€‰æ‹©çš„èŒƒå›´éšç€é€‰æ‹©çš„è¿›è¡Œè€Œæ”¶ç¼©ï¼Œè°ƒæ•´å¯é€‰æ‹©çš„èŒƒå›´ï¼Œå°±æ˜¯è¦é æ ‡å¿—ä½**ã€‚

```java
result = []
def backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, int start):
    if æ»¡è¶³ç»“æŸæ¡ä»¶:
        result.add(è·¯å¾„)
        return

    for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
        æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰
        åšé€‰æ‹©
        è¿›å…¥ä¸‹ä¸€å±‚è§£ç©ºé—´æ ‘ backtrack(é€‰æ‹©åˆ—è¡¨, è·¯å¾„, é€‰æ‹© + 1 / ä¹Ÿå¯èƒ½æ˜¯ start + 1 ç­‰ éšæœºåº”å˜)
        æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
```

### 51. N çš‡åé—®é¢˜

ğŸ‘‰ [Leetcode 51. N çš‡å - Hard](https://leetcode-cn.com/problems/n-queens/)

ã€é¢˜ç›®æè¿°ã€‘n çš‡åé—®é¢˜ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† n ä¸ªçš‡åæ”¾ç½®åœ¨ nÃ—n çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»ã€‚

![](https://gitee.com/veal98/images/raw/master/img/20201108150044.png)

ä¸Šå›¾ä¸º 8 çš‡åé—®é¢˜çš„ä¸€ç§è§£æ³•ã€‚

> ğŸ’¡ çš‡åå¯ä»¥æ”»å‡»åŒä¸€è¡Œã€åŒä¸€åˆ—ã€å·¦ä¸Šå·¦ä¸‹å³ä¸Šå³ä¸‹å››ä¸ªæ–¹å‘çš„ä»»æ„å•ä½

ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ n çš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

æ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªæ˜ç¡®çš„ n çš‡åé—®é¢˜çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ '`Q`' å’Œ '`.`' åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚

ç¤ºä¾‹ï¼š

```
è¾“å…¥ï¼š4
è¾“å‡ºï¼š[
 [".Q..",  // è§£æ³• 1
  "...Q",
  "Q...",
  "..Q."],

 ["..Q.",  // è§£æ³• 2
  "Q...",
  "...Q",
  ".Q.."]
]
è§£é‡Š: 4 çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•ã€‚
```

è§£ç©ºé—´æ ‘ï¼ˆå­é›†æ ‘ï¼‰å¦‚ä¸‹ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20201108155144.png" style="zoom: 50%;" />

ç›´æ¥å¥—æ¡†æ¶ï¼š

```java
class Solution {

    // å­˜å‚¨ N çš‡åçš„æ‰€æœ‰æ£‹å­æ”¾ç½®æ–¹æ¡ˆ
    private List<List<String>> res = new LinkedList<>();
	
    public List<List<String>> solveNQueens(int n) {
        // å­˜å‚¨ N çš‡åçš„ä¸€ç§æ£‹å­æ”¾ç½®æ–¹æ¡ˆ (è·¯å¾„)
    	List<char[]> board = new LinkedList<>();
        // åˆå§‹åŒ–ç©ºæœŸç›˜
        for(int i = 0; i < n; i ++){
            char[] line = new char[n];
            Arrays.fill(line, '.');
            board.add(line);
        }

        backtrack(0, n, board); // ä»ç¬¬ 0 è¡Œå¼€å§‹è®¡ç®— n çš‡åé—®é¢˜
        return res;

    }
    
    // nï¼šé€‰æ‹©åˆ—è¡¨ï¼ˆæ£‹ç›˜è¡Œæ•°ï¼‰
    // board: è·¯å¾„
    // row: è¡¨ç¤ºæ­£åœ¨è¿›è¡Œé€‰æ‹©æ˜¯æ£‹ç›˜çš„ç¬¬ row è¡Œ
    private void backtrack(int row, int n, List<char[]> board){
        // ç»“æŸæ¡ä»¶: æ£‹ç›˜çš„æœ€åä¸€è¡Œ n-1 å¤„ç†å®Œæ¯•
        if(row == n){
            // å°† List<char[]> board è½¬æ¢æˆ List<String>
            res.add(transform(board));
            return;
        }
        
        for(int col = 0; col < n; col ++){
            // æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©ï¼ˆå‰ªæï¼‰
            if(!isVaild(n, row, col)) // isVaild åˆ¤æ–­ n çš‡åé—®é¢˜ä¸­ (row,col) å¤„èƒ½å¦æ”¾ç½®çš‡å
                continue;
            // åšå‡ºé€‰æ‹©
            board.get(row)[col] = 'Q';
            // è¿›å…¥ä¸‹ä¸€è¡Œå†³ç­–
            backtrack(row + 1, n, board);
            // æ’¤é”€é€‰æ‹©
            board.get(row)[col] = '.';

        }
    }
}
```

å…¶ä¸­ï¼Œ`transform` å’Œ `isVaild` å¦‚ä¸‹ï¼š

```java
	// å°† List<char[]> board è½¬æ¢æˆ List<String>
    private List<String> transform(List<char[]> board){
        List<String> newboard = new LinkedList<>();
        for(char[] row : board){
            newboard.add(new String(row));
        }
        return newboard;
    }

    // åˆ¤æ–­nçš‡åé—®é¢˜ä¸­ (row,col) å¤„èƒ½å¦æ”¾ç½®çš‡å
    private boolean isVaild(int n, int row, int col){

        // æ£€æµ‹åŒä¸€åˆ—æ˜¯å¦å†²çª
        for(int i = 0; i < n; i ++){
            if(board.get(i)[col] == 'Q')
                return false;
        }
        // æ£€æµ‹åŒä¸€è¡Œæ˜¯å¦å†²çª
        for(int i = 0; i < n; i ++){
            if(board.get(row)[i] == 'Q')
                return false;
        }
        // æ£€æµ‹å³ä¸Šæ–¹æ˜¯å¦å†²çª
        for(int i = row-1, j = col+1; i >= 0 && j < n; i --, j ++){
            if(board.get(i)[j] == 'Q')
                return false;
        }
        // æ£€æŸ¥å·¦ä¸Šæ–¹æ˜¯å¦å†²çª
        for (int i = row-1, j = col-1; i >= 0 && j >= 0; i--, j--){
            if(board.get(i)[j] == 'Q')
                return false;
        }

        return true;

    }

```

è¿™ä¸ªé—®é¢˜çš„å¤æ‚åº¦ç¡®å®éå¸¸é«˜ï¼Œçœ‹çœ‹æˆ‘ä»¬çš„å­é›†æ ‘ï¼Œè™½ç„¶æœ‰ `isValid` å‡½æ•°å‰ªæï¼Œä½†æ˜¯æœ€åæ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯ $O(N^{N+1})$ï¼Œè€Œä¸”æ— æ³•ä¼˜åŒ–ã€‚å¦‚æœ `N = 10` çš„æ—¶å€™ï¼Œè®¡ç®—å°±å·²ç»å¾ˆè€—æ—¶äº†ã€‚

### 78. æ•°ç»„çš„å­é›†

ğŸ‘‰ [78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ Medium](https://leetcode-cn.com/problems/subsets/)

**ã€é¢˜ç›®æè¿°ã€‘**ç»™å®šä¸€ç»„ä¸å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è¯´æ˜ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚

ç¤ºä¾‹:

```
è¾“å…¥: nums = [1,2,3]
è¾“å‡º:
[
  [3],
  [1],
  [2],
  [1,2,3],
  [1,3],
  [2,3],
  [1,2],
  []
]
```

**ã€è§£é¢˜æ€è·¯ã€‘**ï¼šå…¸å‹çš„å›æº¯æ³•å­é›†æ ‘é—®é¢˜ã€‚è§£ç©ºé—´æ ‘ï¼ˆå­é›†æ ‘ï¼‰å¦‚ä¸‹ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20201203150103.png)

ğŸš¨ æ­¤é¢˜éå¸¸ç‰¹æ®Šï¼Œ**ç”±äºæ‰€æœ‰è·¯å¾„éƒ½åº”è¯¥åŠ å…¥ç»“æœé›†ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ç»“æŸæ¡ä»¶**ã€‚

```java
class Solution {
    
    // å­˜å‚¨æœ€ç»ˆç»“æœ
    private List<List<Integer>> res = new ArrayList<>();
    
    public List<List<Integer>> subsets(int[] nums) {
        // å­˜å‚¨æ¯ä¸ªå¯èƒ½çš„å­é›†(è·¯å¾„)
        List<Integer> track = new ArrayList<>();
        backtrack(nums, 0, track);
        return res;
    }
    
    // nums: é€‰æ‹©åˆ—è¡¨
    // track: è·¯å¾„
    // startï¼šè¡¨ç¤ºå½“å‰è·¯å¾„ä¸­æ•°å­—çš„æ•°é‡
    private void backtrack(int[] nums, int start, List<Integer> track){
        // res.add(track); error
        // track æ˜¯åœ¨ä¸æ–­å˜åŒ–çš„ï¼Œè€Œæˆ‘ä»¬éœ€è¦ä¿å­˜ track çš„å½“å‰çŠ¶æ€ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ­¤å¤„è¿›è¡Œæ‹·è´
        res.add(new ArrayList<Integer>(track));
        for(int i = start; i < nums.length; i ++){
            // åšé€‰æ‹©
            track.add(nums[i]);
            // è¿›å…¥ä¸‹ä¸€è¡Œè§£ç©ºé—´æ ‘
            backtrack(nums, i+1, track);
            // æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
            track.remove(track.size()-1);
        }
    }
}
```

### 22. æ‹¬å·ç”Ÿæˆ

ğŸ‘‰ [22. æ‹¬å·ç”Ÿæˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰â€” Medium](https://leetcode-cn.com/problems/generate-parentheses/)

**ã€é¢˜ç›®æè¿°ã€‘**ï¼šæ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚

ç¤ºä¾‹ï¼š

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š[
       "((()))",
       "(()())",
       "(())()",
       "()(())",
       "()()()"
     ]
```

**ã€è§£é¢˜æ€è·¯ã€‘**ï¼šå­é›†æ ‘å¦‚ä¸‹

![](https://gitee.com/veal98/images/raw/master/img/20201203201824.png)

é™åˆ¶å‡½æ•°å¾ˆæ˜æ˜¾ï¼š

- åªè¦ `(` çš„å½“å‰æ•°é‡å°äº nï¼Œå°±å¯ä»¥æ’å…¥ `(`
- åªæœ‰ `(` çš„æ•°é‡å¤§äº `)` çš„æ•°é‡çš„æ—¶å€™ï¼Œæ‰èƒ½æ’å…¥ `)`

ğŸš¨ **æ˜¾ç„¶ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ ‡å¿—ä½ï¼Œåˆ†åˆ«è¡¨ç¤º `(` å’Œ `)` å½“å‰åœ¨è§£ç©ºé—´ä¸­çš„æ•°é‡**

```java
class Solution {
    
    // å­˜å‚¨æœ€ç»ˆç»“æœ
    private List<String> res = new ArrayList<>();
    
    public List<String> generateParenthesis(int n) {
        StringBuilder track = new StringBuilder();
        backtrack(n, track, 0, 0);
        return res;
    }
    
    // n: é€‰æ‹©åˆ—è¡¨
    // track: è·¯å¾„
    // start: è¡¨ç¤ºè·¯å¾„ä¸­ ï¼ˆ çš„æ•°é‡
    // endï¼šè¡¨ç¤ºè·¯å¾„ä¸­ ï¼‰çš„æ•°é‡
    private void backtrack(int n, StringBuilder track, int start, int end){
        // ç»“æŸæ¡ä»¶
        if(track.length() == n*2){
            res.add(track.toString());
            return ;
        }
        
        // æ’å…¥ ï¼ˆ
        if(start < n){
            // åšé€‰æ‹©
            track.append('(');
            // è¿›å…¥ä¸‹ä¸€è¡Œè§£ç©ºé—´æ ‘
            backtrack(n, track, start + 1, end);
            // æ’¤é”€é€‰æ‹© - å›æº¯
            track.deleteCharAt(track.length() - 1);
        }
        
        // æ’å…¥ ï¼‰
        // åªæœ‰ ï¼ˆ çš„æ•°é‡å¤§äº ï¼‰ çš„æ•°é‡çš„æ—¶å€™ï¼Œæ‰èƒ½æ’å…¥ ï¼‰
        if(start > end){
            // åšé€‰æ‹©
            track.append(')');
            // å›æº¯
            backtrack(n, track, start, end + 1);
            // æ’¤é”€é€‰æ‹©
            track.deleteCharAt(track.length() - 1);
        }
    }
}
```

### 77. ç»„åˆ

ğŸ‘‰ [77. ç»„åˆ â€” Medium](https://leetcode-cn.com/problems/combinations/)

**ã€é¢˜ç›®æè¿°ã€‘**ï¼šç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å› 1 ... n ä¸­æ‰€æœ‰å¯èƒ½çš„ k ä¸ªæ•°çš„ç»„åˆã€‚

ç¤ºä¾‹:

```
è¾“å…¥: n = 4, k = 2
è¾“å‡º:
[
  [2,4],
  [3,4],
  [2,3],
  [1,2],
  [1,3],
  [1,4],
]
```

**ã€è§£é¢˜æ€è·¯ã€‘**ï¼šå­é›†æ ‘å¦‚ä¸‹

![](https://gitee.com/veal98/images/raw/master/img/20201203214105.png)

ç›´æ¥å¥—æ¨¡æ¿ï¼š

```java
class Solution {
    
    private List<List<Integer>> res = new ArrayList<>();
    
    public List<List<Integer>> combine(int n, int k) {
        if (k <= 0 || n <= 0) {
            return res;
        }
        
        List<Integer> track = new ArrayList<>();
        backtrack(n, 1, k, track);
        return res;
    }
    
    // nï¼šé€‰æ‹©åˆ—è¡¨
    // track: è·¯å¾„
    // start: ä»å“ªä¸ªæ•°å¼€å§‹è¿›è¡Œé€‰æ‹©
    // k: è§„å®šè·¯å¾„ä¸­èƒ½å­˜ k ä¸ªæ•°
    private void backtrack(int n, int start, int k, List<Integer> track){
        // ç»“æŸæ¡ä»¶
        if(track.size() == k){
            res.add(new ArrayList<Integer>(track));
            return ;
        }
        
        for(int i = start; i <=n; i ++){
            // åšå‡ºé€‰æ‹©
            track.add(i);
            // è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘
            backtrack(n, i + 1, k, track);
            // æ’¤é”€é€‰æ‹© - å›æº¯
            track.remove(track.size()-1);
        }
    }
}
```

ä¸‹é¢è¿™æ®µä»£ç å¯èƒ½æ›´å®¹æ˜“ç†è§£ï¼š

```java
class Solution {
    
    private List<List<Integer>> res = new ArrayList<>(); // å­˜å‚¨æ‰€æœ‰ç»„åˆ
    
    public List<List<Integer>> combine(int n, int k) {    
        if (k <= 0 || n <= 0) {
            return res;
        }
        
        List<Integer> track = new ArrayList<>(); // å­˜å‚¨ä¸€ä¸ªç»„åˆ
        backtrack(n, k, 1, track);
        return res;
    }
    
    // start è¡¨ç¤ºä»å“ªä¸ªæ•°å¼€å§‹é€‰
    private void backtrack(int n, int k, int start, List<Integer> track) {
        // ç»“æŸæ¡ä»¶: è¯¥æ’åˆ—/è·¯å¾„ä¸­å·²ç»åŒ…å«å…¨éƒ¨å…ƒç´ 
        if (k == 0) {
            res.add(new ArrayList<Integer>(track));
            return ;
        }
        
        for(int i = start; i <= n; i ++) {
            
            // åšé€‰æ‹©
            track.add(i);
            
            // è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘
            backtrack(n, k-1, i + 1, track);
            
            // æ’¤é”€é€‰æ‹©
            track.remove(track.size() - 1);
            
        }
    }
    
}
```

### 39. ç»„åˆæ€»å’Œ

[39. ç»„åˆæ€»å’Œ](https://leetcode-cn.com/problems/combination-sum/)

ã€é¢˜ç›®æè¿°ã€‘ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚

candidates ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚

è¯´æ˜ï¼š

æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ targetï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚

è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7,
æ‰€æ±‚è§£é›†ä¸ºï¼š
[
  [7],
  [2,2,3]
]
```


ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šcandidates = [2,3,5], target = 8,
æ‰€æ±‚è§£é›†ä¸ºï¼š
[
  [2,2,2,2],
  [2,3,3],
  [3,5]
]
```

ã€è§£é¢˜æ€è·¯ã€‘å’Œä¸Šé¢é‚£é“é¢˜åŸºæœ¬ä¸€æ ·ï¼Œåªä¸è¿‡è¿™é“é¢˜å…è®¸å‡ºç°é‡å¤æ•°å­—ï¼Œæ‰€ä»¥è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘çš„æ—¶å€™ï¼Œi ä¸åŠ  1 å°±å¥½äº†ï¼Œè¡¨ç¤ºè¿›å…¥ä¸‹ä¸€å±‚è¿˜èƒ½å–åˆ° i

å…ˆå¥—ä¸ªæ¨¡æ¿ï¼š

```java
class Solution {
    
    private List<List<Integer>> res = new ArrayList<>(); // å­˜å‚¨æ‰€æœ‰ç»„åˆ
    
    public List<List<Integer>> combinationSum(int[] candidates, int target) {
        
        List<Integer> track = new ArrayList<>(); // å­˜å‚¨å•ä¸ªç»„åˆ
        backtrack(candidates, target, track, 0);
        return res;
        
    }
    
    // startï¼šæ ‡è¯†ä»æ•°ç»„ä¸­çš„å“ªä¸ªä¸‹æ ‡å¼€å§‹é€‰
    private void backtrack(int[] candidates, int target, List<Integer> track, int start) {
        
        // ç»“æŸæ¡ä»¶ï¼štrack ä¸­æ•°çš„æ€»å’Œä¸º target
        int trackSum = 0;
        for(Integer i : track){
            trackSum += i;
        }
        if(trackSum == target){
            res.add(new ArrayList<Integer>(track));
            return ;
        }
        
        
        for (int i = start; i < candidates.length; i ++) {
            // å‰ªæï¼šåŠ å…¥ candidates[i] åï¼Œtrack ä¸­æ•°çš„ä¸­å’Œå¤§äº target
            int sum = 0;
            for(Integer j : track){
                sum += j;
            }
            if (sum + candidates[i] > target) {
                continue;
            }
            
            // åšé€‰æ‹©
            track.add(candidates[i]);
            
            // è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘
            // æ³¨æ„ï¼Œè¿™é“é¢˜å…è®¸å‡ºç°é‡å¤æ•°å­—ï¼Œæ‰€ä»¥è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘çš„æ—¶å€™ï¼Œi ä¸è¦åŠ  1ï¼Œè¡¨ç¤ºè¿›å…¥ä¸‹ä¸€å±‚è¿˜èƒ½å–åˆ° i
            backtrack(candidates, target, track, i);
            
            // æ’¤é”€é€‰æ‹©
            track.remove(track.size() - 1);
        }
        
    }
}
```

ä»£ç å±‚é¢å¯ä»¥ç¨å¾®åšä¸€äº›ä¼˜åŒ–ï¼š

```java
class Solution {
    
    private List<List<Integer>> res = new ArrayList<>(); // å­˜å‚¨æ‰€æœ‰ç»„åˆ
    
    public List<List<Integer>> combinationSum(int[] candidates, int target) {
        
        List<Integer> track = new ArrayList<>(); // å­˜å‚¨å•ä¸ªç»„åˆ
        backtrack(candidates, target, track, 0);
        return res;
        
    }
    
    // startï¼šæ ‡è¯†ä»æ•°ç»„ä¸­çš„å“ªä¸ªä¸‹æ ‡å¼€å§‹é€‰
    private void backtrack(int[] candidates, int target, List<Integer> track, int start) {
        
        // ç»“æŸæ¡ä»¶
        if (target == 0) {
            res.add(new ArrayList<Integer>(track));
            return ;
        }
        
        for (int i = start; i < candidates.length; i ++) {
            // å‰ªæ
            if (candidates[i] > target) {
                continue ;
            }
            // åšé€‰æ‹©
            track.add(candidates[i]);
            // è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘
            backtrack(candidates, target-candidates[i], track, i);
            // æ’¤é”€é€‰æ‹©
            track.remove(track.size() - 1);
        }
        
    }
}
```

### 216. ç»„åˆæ€»å’Œ III

[216. ç»„åˆæ€»å’Œ III](https://leetcode-cn.com/problems/combination-sum-iii/)

> è¯´å®è¯ï¼Œåšåˆ°è¿™é¢˜æˆ‘ç»ˆäºæ‚Ÿäº†ï¼Œèˆ’æœäº†ï¼Œå›æº¯æ³•å°±è¿™ï¼Ÿ

ã€é¢˜ç›®æè¿°ã€‘æ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸º n çš„ k ä¸ªæ•°çš„ç»„åˆã€‚ç»„åˆä¸­åªå…è®¸å«æœ‰ 1 - 9 çš„æ­£æ•´æ•°ï¼Œå¹¶ä¸”æ¯ç§ç»„åˆä¸­ä¸å­˜åœ¨é‡å¤çš„æ•°å­—ã€‚

è¯´æ˜ï¼š

æ‰€æœ‰æ•°å­—éƒ½æ˜¯æ­£æ•´æ•°ã€‚

è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: k = 3, n = 7
è¾“å‡º: [[1,2,4]]
```


ç¤ºä¾‹ 2:

```
è¾“å…¥: k = 3, n = 9
è¾“å‡º: [[1,2,6], [1,3,5], [2,3,4]]
```

ã€è§£é¢˜æ€è·¯ã€‘è¯ä¸å¤šè¯´ï¼Œå…ˆç›´æ¥å¥—æ¨¡æ¿ï¼š

```java
class Solution {
    
    private List<List<Integer>> res = new ArrayList<>(); // å­˜å‚¨æ‰€æœ‰ç»„åˆ
    
    public List<List<Integer>> combinationSum3(int k, int n) {
        List<Integer> track = new ArrayList<>(); // å­˜å‚¨å•ä¸ªç»„åˆ
        backtrack(k, n, 1, track);
        return res;
    }
    
    // start: è¡¨ç¤ºä» start è¿™ä¸ªæ•°å¼€å§‹é€‰
    private void backtrack(int k, int n, int start, List<Integer> track) {
        // ç»“æŸæ¡ä»¶ï¼štrack ä¸­çš„æ•°æ€»å’Œä¸º n å¹¶ä¸”æ•°é‡ä¸º k
        int trackSum = 0;
        for (int num : track) {
            trackSum += num;
        }
        if (trackSum == n && track.size() == k) {
            res.add(new ArrayList<Integer>(track));
            return ;
        }
        
        for (int i = start; i <= 9; i ++) {
            // å‰ªæ: track ä¸­çš„æ•°æ€»å’ŒåŠ ä¸Š i åè¶…è¿‡äº† nï¼Œæˆ–è€…æ•°é‡åŠ ä¸Š 1 åè¶…è¿‡äº† k
            int sum = 0;
            for (int num : track) {
                sum += num;
            }
            if (sum + i > n || track.size() + 1 > k) {
                continue;
            }
            
            // åšé€‰æ‹©
            track.add(i);
            
            // è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘
            backtrack(k, n, i+1, track);
            
            // å›æº¯
            track.remove(track.size()-1);
        }
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20210309210303.png)

å†æ¥åšä¸€ä¸‹ä»£ç å±‚é¢çš„ä¼˜åŒ–ï¼š

```java
class Solution {
    
    private List<List<Integer>> res = new ArrayList<>(); // å­˜å‚¨æ‰€æœ‰ç»„åˆ
    
    public List<List<Integer>> combinationSum3(int k, int n) {
        List<Integer> track = new ArrayList<>(); // å­˜å‚¨å•ä¸ªç»„åˆ
        backtrack(k, n, 1, track);
        return res;
    }
    
    // start: è¡¨ç¤ºä» start è¿™ä¸ªæ•°å¼€å§‹é€‰
    private void backtrack(int k, int n, int start, List<Integer> track) {
        // ç»“æŸæ¡ä»¶
        if (n == 0 && track.size() == k) {
            res.add(new ArrayList<Integer>(track));
        }
        
        for (int i = start; i <= 9; i ++) {
            // å‰ªæ: i è¶…è¿‡äº†ç»„æˆ n æ‰€éœ€è¦çš„å¤§å°ï¼Œæˆ–è€… track ä¸­çš„æ•°é‡åŠ ä¸Š 1 åè¶…è¿‡äº† k
            if (i > n || track.size() + 1 > k) {
                continue;
            }
            
            // åšé€‰æ‹©
            track.add(i);
            
            // è¿›å…¥ä¸‹ä¸€å±‚å­é›†æ ‘
            backtrack(k, n-i, i+1, track);
            
            // å›æº¯
            track.remove(track.size()-1);
        }
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20210309210727.png)

## ğŸ“š References

- ã€Šç®—æ³•å¯¼è®º â€” ç¬¬ 3 ç‰ˆ æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ã€‹
- ã€Šè®¡ç®—æœºç®—æ³•ä¸åˆ†æ ç‹æ™“ä¸œ - ç¬¬5ç‰ˆã€‹
- [LeetCode](https://leetcode-cn.com/problemset/algorithms/)
- [labuladong çš„ç®—æ³•å°æŠ„](https://labuladong.gitbook.io/algo/dong-tai-gui-hua-xi-lie/bei-bao-wen-ti)