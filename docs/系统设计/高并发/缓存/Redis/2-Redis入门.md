# ğŸ’« Redis å…¥é—¨

---

## 1. æ¦‚è¿°

**Redisï¼ˆRemote Dictionary Server )ï¼Œå³è¿œç¨‹å­—å…¸æœåŠ¡**ï¼šæ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ ANSI C è¯­è¨€ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€**Key-Value æ•°æ®åº“**ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚ä¸ä¼ ç»Ÿæ•°æ®åº“ä¸åŒçš„æ˜¯ **Redis çš„æ•°æ®æ˜¯å­˜åœ¨å†…å­˜ä¸­çš„** ï¼Œä¹Ÿå°±æ˜¯å®ƒæ˜¯å†…å­˜æ•°æ®åº“ï¼Œæ‰€ä»¥è¯»å†™é€Ÿåº¦éå¸¸å¿«ï¼Œå› æ­¤ **Redis è¢«å¹¿æ³›åº”ç”¨äºç¼“å­˜æ–¹å‘**ã€‚

> ğŸ‰ å…è´¹å’Œå¼€æºï¼æ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„ NoSQL æŠ€æœ¯ä¹‹ä¸€ï¼Œä¹Ÿè¢«äººä»¬ç§°ä¹‹ä¸º**ç»“æ„åŒ–æ•°æ®åº“**ã€‚
>
> ğŸ  å®˜ç½‘ [http://www.redis.cn/documentation.html](http://www.redis.cn/documentation.html)

ğŸ†š **Redis ä¸å…¶ä»– key - value ç¼“å­˜äº§å“ç›¸æ¯”æœ‰ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹**ï¼š

- Redis æ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚
- Redis ä¸ä»…ä»…æ”¯æŒç®€å•çš„ key-value ç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾› listï¼Œsetï¼Œzsetï¼Œhash ç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚
- Redisæ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³ **master-slave ä¸»ä»æ¨¡å¼**çš„æ•°æ®å¤‡ä»½ã€‚

ğŸ‘ **Redis ä¼˜åŠ¿**ï¼š

- **æ€§èƒ½æé«˜** â€“ Redisèƒ½è¯»çš„é€Ÿåº¦æ˜¯110000æ¬¡/s,å†™çš„é€Ÿåº¦æ˜¯81000æ¬¡/s ã€‚
- **ä¸°å¯Œçš„æ•°æ®ç±»å‹** â€“ Redisæ”¯æŒäºŒè¿›åˆ¶æ¡ˆä¾‹çš„ Strings, Lists, Hashes, Sets åŠ Ordered Sets æ•°æ®ç±»å‹æ“ä½œã€‚
- **åŸå­** â€“ Redisçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œæ„æ€å°±æ˜¯è¦ä¹ˆæˆåŠŸæ‰§è¡Œè¦ä¹ˆå¤±è´¥å®Œå…¨ä¸æ‰§è¡Œã€‚å•ä¸ªæ“ä½œæ˜¯åŸå­æ€§çš„ã€‚å¤šä¸ªæ“ä½œä¹Ÿæ”¯æŒäº‹åŠ¡ï¼Œå³åŸå­æ€§ï¼Œé€šè¿‡MULTIå’ŒEXECæŒ‡ä»¤åŒ…èµ·æ¥ã€‚
- **ä¸°å¯Œçš„ç‰¹æ€§** â€“ Redisè¿˜æ”¯æŒ publish/subscribe, é€šçŸ¥, key è¿‡æœŸç­‰ç­‰ç‰¹æ€§ã€‚

## 2. Windows å®‰è£…

ğŸ“¥ ä¸‹è½½åœ°å€ï¼š[https://github.com/MicrosoftArchive/redis/releases](https://github.com/MicrosoftArchive/redis/releases)

![](https://gitee.com/veal98/images/raw/master/img/20200716201224.png)

ğŸš¨ åœæ›´å¾ˆä¹…äº†ï¼Œå› ä¸º **Redis éƒ½æ˜¯æ¨èåœ¨ Linux æœåŠ¡å™¨ä¸Šæ­å»º**ã€‚

å…·ä½“å®‰è£…æ•™ç¨‹è§æ­¤ï¼šğŸ‘‰ [Redis åœ¨ windows ä¸‹å®‰è£…è¿‡ç¨‹](https://www.cnblogs.com/M-LittleBird/p/5902850.html)

## 3. Linux å®‰è£…ï¼ˆUbuntuï¼‰

> ğŸ˜’ åœ¨æ‰“å¼€è™šæ‹Ÿæœºçš„æ—¶å€™é‡åˆ°äº† BUGï¼Œ`drm:vmw_host_log [vmwgfx]] *ERROR* Failed to send host log message`ï¼Œå‚è€ƒæœ¬ç¯‡æ–‡ç« è§£å†³ï¼š[https://blog.csdn.net/mychangee/article/details/104954262](https://blog.csdn.net/mychangee/article/details/104954262)

ğŸƒâ€ Ununtu ä¸‹å®‰è£…æ­¥éª¤ï¼š

åœ¨ Ubuntu ç³»ç»Ÿå®‰è£… Redis å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:

```
$sudo apt-get update
$sudo apt-get install redis-server
```

å¦‚æœæŠ¥é”™`æ— æ³•è·å¾—é”`ï¼Œå¯ç”¨å¦‚ä¸‹æ–¹æ³•è§£å†³ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200716205258.png)

**å¯åŠ¨ Redis**

```
$ redis-server
```

![](https://gitee.com/veal98/images/raw/master/img/20200716205800.png)

**æŸ¥çœ‹ redis æ˜¯å¦å¯åŠ¨ï¼Ÿ**

```
$ redis-cli
```

ä»¥ä¸Šå‘½ä»¤å°†æ‰“å¼€ä»¥ä¸‹ç»ˆç«¯ï¼š

```
redis 127.0.0.1:6379>
```

127.0.0.1 æ˜¯æœ¬æœº IP ï¼Œ6379 æ˜¯ redis æœåŠ¡ç«¯å£ã€‚ç°åœ¨æˆ‘ä»¬è¾“å…¥ PING å‘½ä»¤ã€‚

```
redis 127.0.0.1:6379> ping
PONG
```

![](https://gitee.com/veal98/images/raw/master/img/20200716205816.png)

ä»¥ä¸Šè¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸå®‰è£…äº† redis ğŸ‰ã€‚

## 4. æµ‹è¯•æ€§èƒ½

`redis-benchmark` æ˜¯ä¸€ä¸ªå®˜æ–¹è‡ªå¸¦çš„å‹åŠ›ï¼ˆæ€§èƒ½ï¼‰æµ‹è¯•å·¥å…·ã€‚

redis æ€§èƒ½æµ‹è¯•å·¥å…·å¯é€‰å‚æ•°å¦‚ä¸‹ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200716210135.png)

æˆ‘ä»¬æ¥ç®€å•æµ‹è¯•ä¸‹ï¼š

```powershell
# æµ‹è¯•ï¼š100ä¸ªå¹¶å‘è¿æ¥ 100000è¯·æ±‚
redis-benchmark -h localhost -p 6379 -c 100 -n 100000
```

<img src="https://gitee.com/veal98/images/raw/master/img/20200716212127.png" style="zoom:88%;" />

ğŸ” è¿™äº›å­—æ®µçš„å«ä¹‰ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20200716212342.png" style="zoom:88%;" />

## 5. åŸºç¡€çŸ¥è¯†

**redis é»˜è®¤æœ‰ 16 ä¸ªæ•°æ®åº“ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯ç¬¬0ä¸ª**

å¯ä»¥ä½¿ç”¨ `select `è¿›è¡Œåˆ‡æ¢æ•°æ®åº“ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20200716212654.png" style="zoom: 88%;" />

æŸ¥çœ‹æ•°æ®åº“æ‰€æœ‰çš„ `key`ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20200716212821.png" style="zoom:88%;" />

å¯ä»¥çœ‹åˆ°ï¼Œ `4ï¼‰name` ä¾¿æ˜¯æˆ‘ä»¬æ·»åŠ çš„ `key`ã€‚

æ¸…é™¤å½“å‰æ•°æ®åº“ `flushdb`

æ¸…é™¤å…¨éƒ¨æ•°æ®åº“çš„å†…å®¹ `FLUSHALL`

<br>

Redis æ˜¯å¾ˆå¿«çš„ï¼Œå®˜æ–¹è¡¨ç¤ºï¼Œ**Redis æ˜¯åŸºäºå†…å­˜æ“ä½œï¼ŒCPU ä¸æ˜¯ Redis çš„æ€§èƒ½ç“¶é¢ˆï¼ŒRedis çš„ç“¶é¢ˆæ˜¯æ ¹æ®**
**æœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½**ï¼Œæ—¢ç„¶å¯ä»¥ä½¿ç”¨å•çº¿ç¨‹æ¥å®ç°ï¼Œæ‰€ä»¥ **Redis æ˜¯åŸºäºå•çº¿ç¨‹çš„**ã€‚

**Redis å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­**ï¼Œå¦‚æœä½¿ç”¨å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆ CPU çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯ä¸€ä¸ªè€—æ—¶çš„æ“ä½œã€‚å¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœ**æ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šçš„**ï¼Œé‚£ä¹ˆæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ã€‚Redis ä¾¿åŸºäºæ­¤ã€‚

> ğŸ’¡ å­˜å–é€Ÿåº¦ï¼šCPU > å†…å­˜ > å¤–å­˜ï¼ˆç¡¬ç›˜ï¼‰

## ğŸ“š References

- [ã€ç‹‚ç¥è¯´Javaã€‘Redisæœ€æ–°è¶…è¯¦ç»†ç‰ˆæ•™ç¨‹é€šä¿—æ˜“æ‡‚](https://www.bilibili.com/video/BV1S54y1R7SB?from=search&seid=3325634079268895938)
- [Redis å®‰è£… - èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/redis/redis-install.html)