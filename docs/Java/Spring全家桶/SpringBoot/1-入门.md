# ğŸšª ä¸€ã€Spring Boot å…¥é—¨

---



## 1. Spring Boot ç®€ä»‹

Spring Bootæ¥ç®€åŒ–Springåº”ç”¨å¼€å‘ï¼Œ**çº¦å®šå¤§äºé…ç½®**ï¼Œ å»ç¹ä»ç®€ï¼Œjust runå°±èƒ½åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ï¼Œäº§å“çº§åˆ«çš„åº”ç”¨

![](https://gitee.com/veal98/images/raw/master/img/20200528210455.png)

**èƒŒæ™¯**ï¼š 

J2EEç¬¨é‡çš„å¼€å‘ã€ç¹å¤šçš„é…ç½®ã€ä½ä¸‹çš„å¼€å‘æ•ˆç‡ã€ å¤æ‚çš„éƒ¨ç½²æµç¨‹ã€ç¬¬ä¸‰æ–¹æŠ€æœ¯é›†æˆéš¾åº¦å¤§

**è§£å†³**ï¼š 

â€œSpringå…¨å®¶æ¡¶â€ æ—¶ä»£

Spring Boot â€”â€”> J2EEä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ

Spring Cloud â€”â€”> åˆ†å¸ƒå¼æ•´ä½“è§£å†³æ–¹æ¡ˆ

**ä¼˜ç‚¹**ï¼š 

- å¿«é€Ÿåˆ›å»ºç‹¬ç«‹è¿è¡Œçš„Springé¡¹ç›®ä»¥åŠä¸ä¸»æµæ¡†æ¶é›†æˆ
- ä½¿ç”¨åµŒå…¥å¼çš„Servletå®¹å™¨ï¼Œåº”ç”¨æ— éœ€æ‰“æˆWARåŒ…
- starters è‡ªåŠ¨ä¾èµ–ä¸ç‰ˆæœ¬æ§åˆ¶
- å¤§é‡çš„è‡ªåŠ¨é…ç½®ï¼Œç®€åŒ–å¼€å‘ï¼Œä¹Ÿå¯ä¿®æ”¹é»˜è®¤å€¼
- æ— éœ€é…ç½®XMLï¼Œæ— ä»£ç ç”Ÿæˆï¼Œå¼€ç®±å³ç”¨
- å‡†ç”Ÿäº§ç¯å¢ƒçš„è¿è¡Œæ—¶åº”ç”¨ç›‘æ§
- ä¸äº‘è®¡ç®—çš„å¤©ç„¶é›†æˆ

**æ€»ç»“**ï¼š

- ç®€åŒ–Springåº”ç”¨å¼€å‘çš„ä¸€ä¸ªæ¡†æ¶

- æ•´ä¸ªSpringæŠ€æœ¯æ ˆçš„ä¸€ä¸ªå¤§æ•´åˆ

- J2EEå¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ

## 2. å¾®æœåŠ¡

**å¾®æœåŠ¡**ï¼šæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼ˆæœåŠ¡å¾®åŒ–ï¼‰

ä¸€ä¸ªåº”ç”¨åº”è¯¥æ˜¯ä¸€ç»„å°å‹æœåŠ¡ï¼›å¯ä»¥é€šè¿‡ HTTP çš„æ–¹å¼è¿›è¡Œäº’é€šï¼›

> **å•ä½“åº”ç”¨**ï¼šALL IN ONE
>
> ![](https://gitee.com/veal98/images/raw/master/img/20200528211512.png)



**å¾®æœåŠ¡ï¼šæ¯ä¸€ä¸ªåŠŸèƒ½å…ƒç´ æœ€ç»ˆéƒ½æ˜¯ä¸€ä¸ªå¯ç‹¬ç«‹æ›¿æ¢å’Œç‹¬ç«‹å‡çº§çš„è½¯ä»¶å•å…ƒï¼š**

<img src="https://gitee.com/veal98/images/raw/master/img/20200528211629.png"  />



## 3. ç¯å¢ƒå‡†å¤‡

æœ¬åšå®¢æ‰€ç”¨ç¯å¢ƒï¼š

â€“ jdk1.8ï¼šSpring Boot æ¨è jdk1.7 åŠä»¥ä¸Šï¼›java version "1.8.0_112"

â€“ maven3.xï¼šmaven 3.3ä»¥ä¸Šç‰ˆæœ¬ï¼›Apache Maven 3.3.9

â€“ SpringBoot 1.5.9.RELEASEï¼š1.5.9ï¼›



## 4. HelloWorld

éœ€æ±‚ï¼šæµè§ˆå™¨å‘é€ hello è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥å—è¯·æ±‚å¹¶å¤„ç†ï¼Œå“åº”Hello World å­—ç¬¦ä¸²ï¼›

### â‘  åˆ›å»ºä¸€ä¸ª  Maven å·¥ç¨‹

æ­¤å¤„åªæ˜¯ä¸€ä¸ªå°æ¡ˆä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨ Spring Initializr

ğŸš¨ åˆ›å»ºå®Œæ¯•åï¼Œæ³¨æ„ç‚¹å‡»å³ä¸‹è§’çš„ `Enable Auto-Import`ï¼šæˆ‘ä»¬æ¯æ·»åŠ ä¸€ä¸ª pom ä¾èµ–ï¼Œå°±ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨ä¸‹è½½å¯¼å…¥

![](https://gitee.com/veal98/images/raw/master/img/20200528215904.png)



### â‘¡ å¯¼å…¥spring bootç›¸å…³çš„ä¾èµ–

```xml
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>1.5.9.RELEASE</version>
    </parent>
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
    </dependencies>
```

### â‘¢ ç¼–å†™ä¸€ä¸ªä¸»ç¨‹åºï¼›å¯åŠ¨Spring Bootåº”ç”¨

```java
/**
 *  @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨
 */
@SpringBootApplication
public class HelloWorldMainApplication {

    public static void main(String[] args) {

        // Springåº”ç”¨å¯åŠ¨èµ·æ¥
        SpringApplication.run(HelloWorldMainApplication.class,args);
    }
}
```

### â‘£ ç¼–å†™Controller

```java
@Controller
public class HelloController {

    @ResponseBody
    @RequestMapping("/hello")
    public String hello(){
        return "Hello World!";
    }
}

```

> @ ResponseBody ç›´æ¥å°†è¿”å›å€¼ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ç»™æµè§ˆå™¨ï¼Œè€Œä¸æ˜¯ä½œä¸ºä¸€ä¸ªjspç•Œé¢
>
> @Controller + @ResponseBody = @**RestController**

### â‘¤ è¿è¡Œ main å‡½æ•°æµ‹è¯•

ç›´æ¥è¿è¡Œ Main å‡½æ•°å³å¯ï¼Œ[http://localhost:8080/hello](http://localhost:8080/hello)

### â‘¥ ç®€åŒ–éƒ¨ç½²

æ— é¡»åœ¨ç›®æ ‡æœåŠ¡å™¨å®‰è£… Tomcat ç¯å¢ƒç­‰ç­‰ï¼Œç›´æ¥è¿è¡Œè¯¥ jar åŒ…

```xml
 <!-- è¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥å°†åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œçš„jaråŒ…ï¼›-->
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
```

æ‰“åŒ…ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200528220845.png)

æˆåŠŸæ‰“åŒ…åè¯¥ jar åŒ…ä¼šæ”¾åœ¨ target æ–‡ä»¶å¤¹ä¸‹ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200528220933.png)

ç›´æ¥ä½¿ç”¨ `java -jar åŒ…å` çš„å‘½ä»¤å³å¯æ‰§è¡Œè¯¥ jar åŒ…ï¼›

é¦–å…ˆï¼Œæ‰“å¼€å‘½ä»¤è¡Œ cd åˆ°è¯¥ jar åŒ…æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤

```powershell
java -jar spring=boot-01-helloworld-1.0-SNAPSHOT.jar
```



## 5. Hello Worldæ¢ç©¶

### â‘  POMæ–‡ä»¶

#### â…  çˆ¶é¡¹ç›®

æˆ‘ä»¬é¡¹ç›®ä¸­çš„çˆ¶é¡¹ç›®

```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>1.5.9.RELEASE</version>
</parent>
```

ä»–çš„çˆ¶é¡¹ç›®æ˜¯ ğŸ‘‡

```xml
<parent>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-dependencies</artifactId>
  <version>1.5.9.RELEASE</version>
  <relativePath>../../spring-boot-dependencies</relativePath>
</parent>
```


ä»–æ¥çœŸæ­£ç®¡ç†Spring Bootåº”ç”¨é‡Œé¢çš„æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬ï¼›

æ˜¯ Spring Boot çš„ç‰ˆæœ¬ä»²è£ä¸­å¿ƒï¼›

ä»¥åæˆ‘ä»¬å¯¼å…¥ä¾èµ–é»˜è®¤æ˜¯ä¸éœ€è¦å†™ç‰ˆæœ¬ï¼›ï¼ˆæ²¡æœ‰åœ¨dependenciesé‡Œé¢ç®¡ç†çš„ä¾èµ–è‡ªç„¶éœ€è¦å£°æ˜ç‰ˆæœ¬å·ï¼‰

#### â…¡ å¯åŠ¨å™¨

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
```

**spring-boot-starter**-`web`ï¼š

- spring-boot-starterï¼š**spring-bootåœºæ™¯å¯åŠ¨å™¨**ï¼›å¸®æˆ‘ä»¬å¯¼å…¥äº†webæ¨¡å—æ­£å¸¸è¿è¡Œæ‰€ä¾èµ–çš„ç»„ä»¶ï¼›

  ![](https://gitee.com/veal98/images/raw/master/img/20200528221854.png)



â­ Spring Bootå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½æŠ½å–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªä¸ªçš„startersï¼ˆå¯åŠ¨å™¨ï¼‰ï¼Œåªéœ€è¦åœ¨é¡¹ç›®é‡Œé¢å¼•å…¥è¿™äº› starter ç›¸å…³åœºæ™¯çš„æ‰€æœ‰ä¾èµ–éƒ½ä¼šå¯¼å…¥è¿›æ¥ã€‚è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±å¯¼å…¥ä»€ä¹ˆåœºæ™¯çš„å¯åŠ¨å™¨

![](https://gitee.com/veal98/images/raw/master/img/20200528222416.png)



### â‘¡ ä¸»ç¨‹åºç±»/ä¸»å…¥å£ç±»

```java
/**
 *  @SpringBootApplication æ¥æ ‡æ³¨ä¸€ä¸ªä¸»ç¨‹åºç±»ï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨
 */
@SpringBootApplication
public class HelloWorldMainApplication {

    public static void main(String[] args) {

        // Springåº”ç”¨å¯åŠ¨èµ·æ¥
        SpringApplication.run(HelloWorldMainApplication.class,args);
    }
}

```

â­ @**SpringBootApplication**ï¼ˆSpring Bootåº”ç”¨ï¼‰ï¼šæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šè¯´æ˜è¿™ä¸ªç±»æ˜¯ SpringBoot çš„ä¸»é…ç½®ç±»ï¼ŒSpringBoot å°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„ main æ–¹æ³•æ¥å¯åŠ¨ SpringBoot åº”ç”¨ï¼›

è¯¥æ³¨è§£æºç å¦‚ä¸‹ï¼š

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(excludeFilters = {
      @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),
      @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) })
public @interface SpringBootApplication {
```

- @**SpringBootConfiguration**: Spring Boot çš„é…ç½®ç±»ï¼›

  æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª Spring Boot çš„é…ç½®ç±»ï¼›

  åº•å±‚æ˜¯ @**Configuration**: é…ç½®ç±»ä¸Šæ¥æ ‡æ³¨è¿™ä¸ªæ³¨è§£ï¼›

- @**EnableAutoConfiguration**ï¼šå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›

  ä»¥å‰æˆ‘ä»¬éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼ŒSpring Bootå¸®æˆ‘ä»¬è‡ªåŠ¨é…ç½®ï¼›@**EnableAutoConfiguration**å‘Šè¯‰ SpringBoot å¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›è¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼›

  è¯¥æ³¨è§£çš„æºç å¦‚ä¸‹ï¼š

    ```java
    @AutoConfigurationPackage
    @Import(EnableAutoConfigurationImportSelector.class)
    public @interface EnableAutoConfiguration {
    ```

  - â­ @**AutoConfigurationPackage**ï¼šè‡ªåŠ¨é…ç½®åŒ…ï¼Œ**å°†ä¸»é…ç½®ç±»ï¼ˆ@SpringBootApplicationæ ‡æ³¨çš„ç±»ï¼‰çš„æ‰€åœ¨åŒ…åŠä¸‹é¢æ‰€æœ‰å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨**

- @**Import**(EnableAutoConfigurationImportSelector.class)ï¼šç»™å®¹å™¨ä¸­å¯¼å…¥ç»„ä»¶

  **EnableAutoConfigurationImportSelector**ï¼šå¯¼å…¥å“ªäº›ç»„ä»¶çš„é€‰æ‹©å™¨ï¼Œå°†æ‰€æœ‰éœ€è¦å¯¼å…¥çš„ç»„ä»¶ä»¥å…¨ç±»åçš„æ–¹å¼è¿”å›ï¼›è¿™äº›ç»„ä»¶å°±ä¼šè¢«æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼›

  è¯¥æ³¨è§£ä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆxxxAutoConfigurationï¼‰ï¼Œå°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ï¼›

  ![](https://gitee.com/veal98/images/raw/master/img/20200528223840.png)

<br>

æœ‰äº†è‡ªåŠ¨é…ç½®ç±»ï¼Œå…å»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥åŠŸèƒ½ç»„ä»¶ç­‰çš„å·¥ä½œï¼›

ğŸš© Spring Bootåœ¨å¯åŠ¨çš„æ—¶å€™ä»ç±»è·¯å¾„ä¸‹çš„ `META-INF/spring.factories` ä¸­è·å– EnableAutoConfiguration æŒ‡å®šçš„å€¼ï¼Œå°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥åˆ°å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆï¼Œå¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œï¼›ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªå·±é…ç½®çš„ä¸œè¥¿ï¼Œè‡ªåŠ¨é…ç½®ç±»éƒ½å¸®æˆ‘ä»¬é…ç½®å¥½äº†ï¼›

![](https://gitee.com/veal98/images/raw/master/img/20200528224346.png)

![](https://gitee.com/veal98/images/raw/master/img/20200528224431.png)



> J2EEçš„æ•´ä½“æ•´åˆè§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨ `spring-boot-autoconfigure-1.5.9.RELEASE.jar`



## 6. â­ Spring Initializer å¿«é€Ÿåˆ›å»º Spring Boot é¡¹ç›®

IDE éƒ½æ”¯æŒä½¿ç”¨ Spring çš„é¡¹ç›®åˆ›å»ºå‘å¯¼å¿«é€Ÿåˆ›å»ºä¸€ä¸ª Spring Boot é¡¹ç›®ï¼›

![](https://gitee.com/veal98/images/raw/master/img/20200529093821.png)

é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„æ¨¡å—ï¼Œå‘å¯¼ä¼šè”ç½‘è‡ªåŠ¨åˆ›å»ºSpring Booté¡¹ç›®ï¼›

![](https://gitee.com/veal98/images/raw/master/img/20200529093907.png)

é»˜è®¤ç”Ÿæˆçš„ Spring Boot é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200529094814.png)

- resources æ–‡ä»¶å¤¹ä¸­ç›®å½•ç»“æ„
  - staticï¼šä¿å­˜æ‰€æœ‰çš„é™æ€èµ„æºï¼› js css  imagesï¼›
  - templatesï¼šä¿å­˜æ‰€æœ‰çš„æ¨¡æ¿é¡µé¢ï¼›ï¼ˆSpring Booté»˜è®¤jaråŒ…ä½¿ç”¨åµŒå…¥å¼çš„Tomcatï¼Œ<u>é»˜è®¤ä¸æ”¯æŒJSPé¡µé¢</u>ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿å¼•æ“ï¼ˆfreemarkerã€thymeleafï¼‰ï¼›
  - application.propertiesï¼šSpring Bootåº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹ä¸€äº›é»˜è®¤è®¾ç½®ï¼›