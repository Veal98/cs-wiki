# ğŸ›  äºŒã€é…ç½®æ–‡ä»¶

---



## 1. é…ç½®æ–‡ä»¶

SpringBoot ä½¿ç”¨ä¸€ä¸ªå…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼š

- application`.properties`

- application`.yml`

æ ‡è®°è¯­è¨€ï¼š

- ä»¥å‰çš„é…ç½®æ–‡ä»¶ï¼›å¤§å¤šéƒ½ä½¿ç”¨çš„æ˜¯  **xxxx.xml** æ–‡ä»¶ï¼›

- YAMLï¼š**ä»¥æ•°æ®ä¸ºä¸­å¿ƒ**ï¼Œæ¯” jsonã€xml ç­‰æ›´é€‚åˆåšé…ç½®æ–‡ä»¶ï¼›

ğŸ’¬ YAMLï¼šé…ç½®ä¾‹å­

```yaml
server:
  port: 8081
```

XMLï¼š

```xml
<server>
	<port>8081</port>
</server>
```



## 2. YAMLè¯­æ³•ï¼š

### â‘  åŸºæœ¬è¯­æ³•

`k: v`ï¼šè¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ï¼ˆç©ºæ ¼å¿…é¡»æœ‰ï¼‰

ä»¥**ç©ºæ ¼**çš„ç¼©è¿›æ¥æ§åˆ¶å±‚çº§å…³ç³»ï¼Œåªè¦æ˜¯å·¦å¯¹é½çš„ä¸€åˆ—æ•°æ®ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„

```yaml
server:
    port: 8081
    path: /hello
```

å±æ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿï¼›

### â‘¡ å€¼çš„å†™æ³•

#### â…  å­—é¢é‡ï¼šæ™®é€šçš„å€¼ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼‰

`k: v`ï¼šå­—é¢ç›´æ¥æ¥å†™ï¼›

å­—ç¬¦ä¸²é»˜è®¤ä¸ç”¨åŠ ä¸Šå•å¼•å·æˆ–è€…åŒå¼•å·ï¼›

- `" "`ï¼šåŒå¼•å·ï¼›ä¸ä¼šè½¬ä¹‰å­—ç¬¦ä¸²é‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦ï¼›ç‰¹æ®Šå­—ç¬¦ä¼šä½œä¸ºæœ¬èº«æƒ³è¡¨ç¤ºçš„æ„æ€

  ğŸ’¬ ä¾‹å¦‚ï¼š

  ```yaml
  name: "zhangsan \n lisi"
  ```

  è¾“å‡ºï¼š

  ```
  zhangsan
  lisi
  ```

- `' '`ï¼šå•å¼•å·ï¼›ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œç‰¹æ®Šå­—ç¬¦æœ€ç»ˆåªæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²æ•°æ®

  ğŸ’¬ ä¾‹å¦‚ï¼š

  ```yaml
  name: â€˜zhangsan \n lisiâ€™
  ```

  è¾“å‡º

  ```
  zhangsan \n lisi
  ```

  

#### â…¡ Mapï¼ˆå±æ€§å’Œå€¼ï¼‰ï¼ˆé”®å€¼å¯¹ï¼‰

å¯¹è±¡è¿˜æ˜¯ k: v çš„æ–¹å¼

`k: v`ï¼šåœ¨ä¸‹ä¸€è¡Œæ¥å†™å¯¹è±¡çš„å±æ€§å’Œå€¼çš„å…³ç³»ï¼Œæ³¨æ„ç¼©è¿›

ğŸ’¬ ä¾‹å¦‚ï¼š

```yaml
friends:
	lastName: zhangsan
	age: 20
```

è¡Œå†…å†™æ³•ï¼š

```yaml
friends: {lastName: zhangsan,age: 18}
```



#### â…¢ æ•°ç»„ï¼ˆListã€Setï¼‰ï¼š

ç”¨ `- å€¼` è¡¨ç¤ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ 

ğŸ’¬ ä¾‹å¦‚ï¼š

```yaml
pets:
  - cat
  - dog
  - pig
```

è¡Œå†…å†™æ³•

```yaml
pets: [cat,dog,pig]
```



## 3. é…ç½®æ–‡ä»¶å€¼æ³¨å…¥

### â‘  é…ç½®æ–‡ä»¶å€¼æ³¨å…¥

æˆ‘ä»¬å¯ä»¥å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨çš„ä¾èµ–ï¼Œä»¥åç¼–å†™é…ç½®å°±æœ‰æç¤ºäº†

```xml
<!--å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œé…ç½®æ–‡ä»¶è¿›è¡Œç»‘å®šå°±ä¼šæœ‰æç¤º-->
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-configuration-processor</artifactId>
			<optional>true</optional>
		</dependency>
```



é…ç½®æ–‡ä»¶ `yaml` æ ¼å¼

```yaml
person:
    lastName: hello
    age: 18
    boss: false
    birth: 2017/12/12
    maps: {k1: v1,k2: 12}
    lists:
      - lisi
      - zhaoliu
    dog:
      name: å°ç‹—
      age: 12
```

é…ç½®æ–‡ä»¶ `properties` æ ¼å¼

```properties
person.last-name=å¼ ä¸‰
person.age=11
person.birth=2017/12/15
person.boss=false
person.maps.k1=v1
person.maps.k2=14
person.lists=a,b,c
person.dog.name=dog
person.dog.age=15
```

> ğŸš¨ properties é…ç½®æ–‡ä»¶åœ¨ IDEA ä¸­é»˜è®¤ utf-8 å¯èƒ½ä¼šä¹±ç ï¼Œå¦‚å›¾è¿›è¡Œç›¸åº”è®¾ç½®ï¼š
>
> ![](https://gitee.com/veal98/images/raw/master/img/20200529104339.png)

JavaBeanï¼š

 * `@ConfigurationProperties`ï¼šå‘Šè¯‰SpringBootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±æ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼›

   ğŸš© åªæœ‰è¿™ä¸ªç»„ä»¶æ˜¯å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰èƒ½ä½¿ç”¨å®¹å™¨æä¾›çš„ @ConfigurationProperties åŠŸèƒ½ï¼›

 * `prefix = "person"`ï¼šä¸é…ç½®æ–‡ä»¶ä¸­å“ªä¸ªå±æ€§è¿›è¡Œä¸€ä¸€æ˜ å°„

```java
/**
 * å°†é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æ¯ä¸€ä¸ªå±æ€§çš„å€¼ï¼Œæ˜ å°„åˆ°è¿™ä¸ªç»„ä»¶ä¸­
 */
@Component
@ConfigurationProperties(prefix = "person")
public class Person {

    private String lastName;
    private Integer age;
    private Boolean boss;
    private Date birth;

    private Map<String,Object> maps;
    private List<Object> lists;
    private Dog dog;

```

### â‘¡ JSR303 æ•°æ®æ ¡éªŒ

ä½¿ç”¨ `@Validated` æ³¨è§£ï¼šè¡¨ç¤ºè¿™ä¸ª JavaBean ä¸­çš„å±æ€§éœ€è¦æ ¡éªŒ

```java
@Component
@ConfigurationProperties(prefix = "person")
@Validated
public class Person {

    //lastNameå¿…é¡»æ˜¯é‚®ç®±æ ¼å¼
    @Email
    private String lastName;
    private Integer age;
    private Boolean boss;

    private Date birth;
    private Map<String,Object> maps;
    private List<Object> lists;
    private Dog dog;
```



## 4. @Value å€¼æ³¨å…¥

### â‘  @Value å€¼æ³¨å…¥

å¯ä»¥ä½¿ç”¨ @Value æ³¨è§£ä»é…ç½®æ–‡ä»¶ä¸­æ‰‹åŠ¨å–å€¼æˆ–è€…è‡ªç”±èµ‹å€¼ï¼Œæ”¯æŒä¸‰ç§æ–¹å¼ï¼š

- `${key} `ä»ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ä¸­è·å–å€¼

- `# {SpEL}`

- `"å­—é¢é‡"`

```java
@Component
public class Person {
    /**
     * <bean class="Person">
     *      <property name="lastName" value="å­—é¢é‡//"></property>
     * <bean/>
     */
    @Value("${person.last-name}")
    private String lastName;
    @Value("#{11*2}")
    private Integer age;
    @Value("true")
    private Boolean boss;

    private Date birth;
    private Map<String,Object> maps;
    private List<Object> lists;
    private Dog dog;
```



### â‘¡ @Value å’Œ @ConfigurationProperties æ³¨å…¥å€¼æ¯”è¾ƒ

|                      | @ConfigurationProperties | @Value     |
| -------------------- | ------------------------ | ---------- |
| åŠŸèƒ½                 | æ‰¹é‡æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ | ä¸€ä¸ªä¸ªæŒ‡å®š |
| æ¾æ•£ç»‘å®šï¼ˆæ¾æ•£è¯­æ³•ï¼‰ | æ”¯æŒ                     | ä¸æ”¯æŒ     |
| SpEL                 | ä¸æ”¯æŒ                   | æ”¯æŒ       |
| JSR303æ•°æ®æ ¡éªŒ       | æ”¯æŒ                     | ä¸æ”¯æŒ     |
| **å¤æ‚ç±»å‹å°è£…**     | **æ”¯æŒ**                 | **ä¸æ”¯æŒ** |

æ— è®ºé…ç½®æ–‡ä»¶æ˜¯ yml è¿˜æ˜¯ properties ä»–ä»¬éƒ½èƒ½è·å–åˆ°å€¼ï¼›

- å¦‚æœåªæ˜¯åœ¨æŸä¸ªä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦è·å–ä¸€ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„æŸé¡¹å€¼ï¼Œä½¿ç”¨ @Valueï¼›

  ```java
  @RestController
  public calss HelloController{
      @Value("${person.lastName}")
      private String name;
      
      @RequestMapping("/sayHello")
      public String sayHello(){
          return "Hello" + name;
      }
  }
  ```

- å¦‚æœæˆ‘ä»¬ä¸“é—¨ç¼–å†™äº†ä¸€ä¸ª JavaBean æ¥å’Œé…ç½®æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨@ConfigurationPropertiesï¼›



## 5. @PropertySource

`@ConfigurationProperties(prefix = "person")` é»˜è®¤ä»å…¨å±€é…ç½®æ–‡ä»¶ä¸­è·å–å€¼ï¼Œå¦‚æœæ‰€æœ‰çš„é…ç½®å…¨å†™åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å°±å¤ªå¤§äº†ã€‚æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä½¿ç”¨ **@PropertySource** åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶

```java
@PropertySource(value = {"classpath:person.properties"})
@Component
@ConfigurationProperties(prefix = "person")
public class Person {
    private String lastName;
    private Integer age;
    private Boolean boss;
```

## 6. @ImportResource / @Bean

@**ImportResource**ï¼šå¯¼å…¥ Spring çš„é…ç½®æ–‡ä»¶ï¼Œè®©é…ç½®æ–‡ä»¶é‡Œé¢çš„å†…å®¹ç”Ÿæ•ˆ

Spring Boot é‡Œé¢æ²¡æœ‰ Spring çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„é…ç½®æ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è‡ªåŠ¨è¯†åˆ«

@**ImportResource** æ ‡æ³¨åœ¨ä¸€ä¸ªé…ç½®ç±»ä¸Šå¯ä»¥è®© Spring çš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆå¹¶åŠ è½½è¿›æ¥ï¼›

```java
@ImportResource(locations = {"classpath:beans.xml"})
@SpringBootApplication
```

Spring çš„é…ç½®æ–‡ä»¶ `beans.xml`ï¼ˆç¤ºä¾‹ï¼šæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª service.HelloService.java æ–‡ä»¶ï¼‰

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="helloService" class="com.smallbeef.springboot.service.HelloService"></bean>
</beans>
```

ğŸŒ æ˜¾ç„¶ï¼Œè¿™æ ·ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶çš„æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼ŒSpringBoot æ¨èç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶çš„æ–¹å¼ï¼šä½¿ç”¨å…¨æ³¨è§£çš„æ–¹å¼ï¼š

- åˆ›å»ºä¸€ä¸ª config.MyAppConfig.java é…ç½®ç±»ï¼Œ**@Configuration** è¡¨ç¤ºæ­¤ç±»æ˜¯ Spring çš„é…ç½®ç±»ï¼ˆæ›¿ä»£åŸæ¥çš„ Spring é…ç½®æ–‡ä»¶ï¼‰

  ![](https://gitee.com/veal98/images/raw/master/img/20200529112651.png)

- â­ ä½¿ç”¨**@Bean** ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶

  ```java
  /**
   * @Configurationï¼šæŒ‡æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼›å°±æ˜¯æ¥æ›¿ä»£ä¹‹å‰çš„Springé…ç½®æ–‡ä»¶
   *
   * åœ¨é…ç½®æ–‡ä»¶ä¸­ç”¨<bean><bean/>æ ‡ç­¾æ·»åŠ ç»„ä»¶
   *
   */
  @Configuration
  public class MyAppConfig {
  
      //å°†æ–¹æ³•çš„è¿”å›å€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼›å®¹å™¨ä¸­è¿™ä¸ªç»„ä»¶é»˜è®¤çš„ id å°±æ˜¯æ–¹æ³•å
      @Bean
      public HelloService helloService02(){
          System.out.println("é…ç½®ç±» @Bean ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶äº†...");
          return new HelloService();
      }
  }
  ```

##7. é…ç½®æ–‡ä»¶å ä½ç¬¦

### â‘  éšæœºæ•°

- ${random.value}
- ${random.int}
- ${random.long}
- ${random.int(10)}
- ${random.int[1024,65536]}


### â‘¡ å ä½ç¬¦è·å–ä¹‹å‰é…ç½®çš„å€¼

```properties
person.last-name=å¼ ä¸‰${random.uuid}
person.age=${random.int}
# åœ¨ person.last-name åé¢ æ·»åŠ  _dog å­—ç¬¦
person.dog.name=${person.last-name}_dog 
```



å¦‚æœæ²¡æœ‰å¯ä»¥æ˜¯ç”¨ `:` æŒ‡å®šé»˜è®¤å€¼

```properties
person.last-name=å¼ ä¸‰${random.uuid}
# person.dog.name = hello_dog
person.dog.name=${person.hello:hello}_dog
```



## 8. Profile

### â‘  å¤šProfileæ–‡ä»¶

æˆ‘ä»¬åœ¨ä¸»é…ç½®æ–‡ä»¶ç¼–å†™çš„æ—¶å€™ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ `application-{profile}.properties/yml`

æ¯”å¦‚ï¼š`application-dev.properties` ã€`application-prod.properties`

é»˜è®¤ä½¿ç”¨ application.properties çš„é…ç½®ï¼›

### â‘¡ æ¿€æ´»æŒ‡å®šprofile

- â­ åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š  `spring.profiles.active=dev`

- å‘½ä»¤è¡Œï¼š

  java -jar spring-boot-02-config-0.0.1-SNAPSHOT.jar --spring.profiles.active=devï¼›

  å¯ä»¥ç›´æ¥åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œé…ç½®ä¼ å…¥å‘½ä»¤è¡Œå‚æ•°

- è™šæ‹Ÿæœºå‚æ•°ï¼›

  -Dspring.profiles.active=dev

  ![](https://gitee.com/veal98/images/raw/master/img/20200529120620.png)

### â‘¢ ymlæ”¯æŒå¤šæ–‡æ¡£å—æ–¹å¼

```yml
server: 
  port: 8081 # é»˜è®¤ç«¯å£
spring:
  profiles:
  	# æ¿€æ´»
    active: prod # ä½¿ç”¨ prod ç¯å¢ƒï¼Œ8084ç«¯å£

---
server:
  port: 8083
spring:
  profiles: dev #æŒ‡å®šå±äºå“ªä¸ªç¯å¢ƒ


---

server:
  port: 8084
spring:
  profiles: prod  
```









## 9. é…ç½®æ–‡ä»¶åŠ è½½ä½ç½®

springboot å¯åŠ¨ä¼šæ‰«æä»¥ä¸‹ä½ç½®çš„ application.properties æˆ–è€… application.yml æ–‡ä»¶ä½œä¸º Spring boot çš„é»˜è®¤é…ç½®æ–‡ä»¶

- file:./config/

- file:./

- classpath:/config/

- classpath:/

**ä¼˜å…ˆçº§ç”±é«˜åˆ°åº•ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼›**

SpringBoot ä¼šä»è¿™å››ä¸ªä½ç½®å…¨éƒ¨åŠ è½½ä¸»é…ç½®æ–‡ä»¶ï¼Œ**â­ äº’è¡¥é…ç½®**ï¼›



æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ `spring.config.location` æ¥æ”¹å˜é»˜è®¤çš„é…ç½®æ–‡ä»¶ä½ç½®

**é¡¹ç›®æ‰“åŒ…å¥½ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼ï¼Œå¯åŠ¨é¡¹ç›®çš„æ—¶å€™æ¥æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ–°ä½ç½®ï¼›æŒ‡å®šé…ç½®æ–‡ä»¶å’Œé»˜è®¤åŠ è½½çš„è¿™äº›é…ç½®æ–‡ä»¶å…±åŒèµ·ä½œç”¨å½¢æˆäº’è¡¥é…ç½®ï¼›**

æ¯”å¦‚æˆ‘ä»¬é¡¹ç›®æ‰“åŒ…ååæˆ‘ä»¬æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ–°ä½ç½®ä¸º E:/application.properties

```powershell
java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --spring.config.location=E:/application.properties
```





## 10. å¤–éƒ¨é…ç½®åŠ è½½é¡ºåº

**SpringBoot ä¹Ÿå¯ä»¥ä»ä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®ï¼› ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼›é«˜ä¼˜å…ˆçº§çš„é…ç½®è¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼Œæ‰€æœ‰çš„é…ç½®ä¼šå½¢æˆäº’è¡¥é…ç½®**

- **å‘½ä»¤è¡Œå‚æ•°**

  æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šè¿›è¡ŒæŒ‡å®šï¼š`--é…ç½®é¡¹=å€¼`ï¼Œå¤šä¸ªé…ç½®ç”¨ç©ºæ ¼åˆ†å¼€

  ```powershell
  java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --server.port=8087  --server.context-path=/abc
  ```

- æ¥è‡ªjava:comp/envçš„JNDIå±æ€§

- Javaç³»ç»Ÿå±æ€§ï¼ˆSystem.getProperties()ï¼‰

- æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡

   -RandomValuePropertySourceé…ç½®çš„random.*å±æ€§å€¼

<br>

â€‹	**ç”± jar åŒ…å¤–å‘ jar åŒ…å†…è¿›è¡Œå¯»æ‰¾ï¼Œä¼˜å…ˆåŠ è½½å¸¦profile**

- jaråŒ…å¤–éƒ¨çš„application{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶

- jaråŒ…å†…éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶

â€‹	**å†æ¥åŠ è½½ä¸å¸¦ profile**

- jar åŒ…å¤–éƒ¨çš„ application.properties æˆ– application.yml (ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶

- jar åŒ…å†…éƒ¨çš„ application.propertiesæˆ–application.yml (ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶

<br>

- @Configurationæ³¨è§£ç±»ä¸Šçš„@PropertySource

- é€šè¿‡SpringApplication.setDefaultPropertiesæŒ‡å®šçš„é»˜è®¤å±æ€§

æ‰€æœ‰æ”¯æŒçš„é…ç½®åŠ è½½æ¥æºï¼›[å‚è€ƒå®˜æ–¹æ–‡æ¡£](https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/htmlsingle/#boot-features-external-config)

## â­ 11. è‡ªåŠ¨é…ç½®åŸç†

é…ç½®æ–‡ä»¶åˆ°åº•èƒ½å†™ä»€ä¹ˆï¼Ÿæ€ä¹ˆå†™ï¼Ÿ[é…ç½®æ–‡ä»¶èƒ½é…ç½®çš„å±æ€§å‚ç…§](https://docs.spring.io/spring-boot/docs/1.5.9.RELEASE/reference/htmlsingle/#common-application-properties)

### â‘  è‡ªåŠ¨é…ç½®åŸç†

1ï¼‰SpringBootå¯åŠ¨çš„æ—¶å€™åŠ è½½ä¸»é…ç½®ç±»ï¼Œå¼€å¯äº†è‡ªåŠ¨é…ç½®åŠŸèƒ½  @**EnableAutoConfiguration**

 @EnableAutoConfiguration çš„åº•å±‚æºç å¦‚ä¸‹ï¼š

```java
@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@AutoConfigurationPackage
@Import({AutoConfigurationImportSelector.class})
public @interface EnableAutoConfiguration {
    String ENABLED_OVERRIDE_PROPERTY = "spring.boot.enableautoconfiguration";

    Class<?>[] exclude() default {};

    String[] excludeName() default {};
}
```

**2ï¼‰@EnableAutoConfiguration ä½œç”¨ï¼š**

 - åˆ©ç”¨ `AutoConfigurationImportSelector` ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶ï¼š

   AutoConfigurationImportSelector åº•å±‚æºç å¦‚ä¸‹ï¼š(æˆªå–éƒ¨åˆ†)

   ![](https://gitee.com/veal98/images/raw/master/img/20200529142818.png)

- æŸ¥çœ‹ `selectImports()` æ–¹æ³•çš„å†…å®¹

  ```java
  // è·å–å€™é€‰çš„é…ç½®
  List<String> configurations = getCandidateConfigurations(annotationMetadata, attributes);
  ```

  `getCandidateConfigurations` åº•å±‚æºç å¦‚ä¸‹ï¼š

  ```java
  protected List<String> getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) {
          List<String> configurations = SpringFactoriesLoader.loadFactoryNames(this.getSpringFactoriesLoaderFactoryClass(), this.getBeanClassLoader());
          Assert.notEmpty(configurations, "No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.");
          return configurations;
      }
  ```

  ```java
// æ‰«ææ‰€æœ‰jaråŒ…ç±»è·¯å¾„ä¸‹  META-INF/spring.factories  
  // æŠŠæ‰«æåˆ°çš„è¿™äº›æ–‡ä»¶çš„å†…å®¹åŒ…è£…æˆpropertieså¯¹è±¡
  // ä»propertiesä¸­è·å–åˆ°EnableAutoConfiguration.classç±»ï¼ˆç±»åï¼‰å¯¹åº”çš„å€¼ï¼Œç„¶åæŠŠä»–ä»¬æ·»åŠ åœ¨å®¹å™¨ä¸­
  SpringFactoriesLoader.loadFactoryNames()
  ```
  
  **ğŸš© å°† ç±»è·¯å¾„ä¸‹ META-INF/spring.factories é‡Œé¢é…ç½®çš„æ‰€æœ‰ EnableAutoConfiguration çš„å€¼åŠ å…¥åˆ°äº†å®¹å™¨ä¸­ï¼›**

  ```properties
  # Auto Configure
    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
    org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\
    org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\
    org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\
    org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\
    org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\
    org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\
    org.springframework.boot.autoconfigure.cloud.CloudAutoConfiguration,\
    org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\
    org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\
    org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\
    org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\
    org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.ldap.LdapDataAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\
    org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\
    org.springframework.boot.autoconfigure.elasticsearch.jest.JestAutoConfiguration,\
    org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\
    org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\
    org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\
    org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\
    org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\
    org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\
    org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\
    org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\
    org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\
    org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
    org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\
    org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\
    org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\
    org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\
    org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\
    org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\
    org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\
    org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\
    org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\
    org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\
    org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\
    org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\
    org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\
    org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\
    org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\
    org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\
    org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\
    org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\
    org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\
    org.springframework.boot.autoconfigure.mobile.DeviceResolverAutoConfiguration,\
    org.springframework.boot.autoconfigure.mobile.DeviceDelegatingViewResolverAutoConfiguration,\
    org.springframework.boot.autoconfigure.mobile.SitePreferenceAutoConfiguration,\
    org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\
    org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\
    org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\
    org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\
    org.springframework.boot.autoconfigure.reactor.ReactorAutoConfiguration,\
    org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,\
    org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,\
    org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,\
    org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration,\
    org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\
    org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\
    org.springframework.boot.autoconfigure.social.SocialWebAutoConfiguration,\
    org.springframework.boot.autoconfigure.social.FacebookAutoConfiguration,\
    org.springframework.boot.autoconfigure.social.LinkedInAutoConfiguration,\
    org.springframework.boot.autoconfigure.social.TwitterAutoConfiguration,\
    org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\
    org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\
    org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\
    org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\
    org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.HttpEncodingAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration,\
    org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration,\
    org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration,\
    org.springframework.boot.autoconfigure.websocket.WebSocketMessagingAutoConfiguration,\
    org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration
  ```
  
  
  
  æ¯ä¸€ä¸ªè¿™æ ·çš„  `xxxAutoConfiguration` ç±»éƒ½æ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œéƒ½åŠ å…¥åˆ°å®¹å™¨ä¸­ï¼Œç”¨ä»–ä»¬æ¥åšè‡ªåŠ¨é…ç½®ï¼›

3ï¼‰æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»è¿›è¡Œè‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›

4ï¼‰ä»¥**HttpEncodingAutoConfigurationï¼ˆHttpç¼–ç è‡ªåŠ¨é…ç½®ï¼‰**ä¸ºä¾‹è§£é‡Šè‡ªåŠ¨é…ç½®åŸç†ï¼›

```java
@Configuration   //è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œä»¥å‰ç¼–å†™çš„é…ç½®æ–‡ä»¶ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶
@EnableConfigurationProperties(HttpEncodingProperties.class)  //å¯åŠ¨æŒ‡å®šç±»çš„ConfigurationPropertiesåŠŸèƒ½ï¼›å°†é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼å’Œ HttpEncodingProperties ç»‘å®šèµ·æ¥ï¼›å¹¶æŠŠHttpEncodingPropertiesåŠ å…¥åˆ°iocå®¹å™¨ä¸­

@ConditionalOnWebApplication //Springåº•å±‚@Conditionalæ³¨è§£ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ï¼Œæ•´ä¸ªé…ç½®ç±»é‡Œé¢çš„é…ç½®å°±ä¼šç”Ÿæ•ˆï¼›åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯webåº”ç”¨ï¼Œå¦‚æœæ˜¯ï¼Œå½“å‰é…ç½®ç±»ç”Ÿæ•ˆ

@ConditionalOnClass(CharacterEncodingFilter.class)  //åˆ¤æ–­å½“å‰é¡¹ç›®æœ‰æ²¡æœ‰è¿™ä¸ªç±»CharacterEncodingFilterï¼šSpringMVCä¸­è¿›è¡Œä¹±ç è§£å†³çš„è¿‡æ»¤å™¨ï¼›

@ConditionalOnProperty(prefix = "spring.http.encoding", value = "enabled", matchIfMissing = true)  //åˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé…ç½®  spring.http.encoding.enabledï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ¤æ–­ä¹Ÿæ˜¯æˆç«‹çš„
//å³ä½¿æˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸­ä¸é…ç½® spring.http.encoding.enabled=trueï¼Œä¹Ÿæ˜¯é»˜è®¤ç”Ÿæ•ˆçš„ï¼›
public class HttpEncodingAutoConfiguration {
  
  	//ä»–å·²ç»å’ŒSpringBootçš„é…ç½®æ–‡ä»¶æ˜ å°„äº†
  	private final HttpEncodingProperties properties;
  
   //åªæœ‰ä¸€ä¸ªæœ‰å‚æ„é€ å™¨çš„æƒ…å†µä¸‹ï¼Œå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‹¿
  	public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) {
		this.properties = properties;
	}
  
    @Bean   //ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶çš„æŸäº›å€¼éœ€è¦ä»propertiesä¸­è·å–
	@ConditionalOnMissingBean(CharacterEncodingFilter.class) //åˆ¤æ–­å®¹å™¨æœ‰æ²¡æœ‰è¿™ä¸ªç»„ä»¶
	public CharacterEncodingFilter characterEncodingFilter() {
		CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter();
		filter.setEncoding(this.properties.getCharset().name());
		filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST));
		filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE));
		return filter;
	}
```

ğŸš© **è‡ªåŠ¨é…ç½®ç±»**ï¼šæ ¹æ®å½“å‰ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ï¼Œå†³å®šè¿™ä¸ªé…ç½®ç±»æ˜¯å¦ç”Ÿæ•ˆã€‚ä¸€ä½†è¿™ä¸ªé…ç½®ç±»ç”Ÿæ•ˆï¼›è¿™ä¸ªé…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­æ·»åŠ å„ç§ç»„ä»¶ï¼›è¿™äº›ç»„ä»¶çš„å±æ€§æ˜¯ä»å¯¹åº”çš„ properties ç±»ä¸­è·å–çš„ï¼Œè¿™äº›ç±»é‡Œé¢çš„æ¯ä¸€ä¸ªå±æ€§åˆæ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šçš„ï¼›

5ï¼‰æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±æ€§éƒ½æ˜¯åœ¨ xxxxProperties ç±»ä¸­å°è£…è€…ï¼Œé…ç½®æ–‡ä»¶èƒ½é…ç½®ä»€ä¹ˆå°±å¯ä»¥å‚ç…§æŸä¸ªåŠŸèƒ½å¯¹åº”çš„è¿™ä¸ªå±æ€§ç±»

```java
@ConfigurationProperties(prefix = "spring.http.encoding")  //ä»é…ç½®æ–‡ä»¶ä¸­è·å–æŒ‡å®šçš„å€¼å’Œbeançš„å±æ€§è¿›è¡Œç»‘å®š
public class HttpEncodingProperties {

   public static final Charset DEFAULT_CHARSET = Charset.forName("UTF-8");
```





**ç²¾é«“ï¼š**

- SpringBoot å¯åŠ¨ä¼šåŠ è½½å¤§é‡çš„è‡ªåŠ¨é…ç½®ç±»

- æˆ‘ä»¬çœ‹æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æœ‰æ²¡æœ‰ SpringBoot é»˜è®¤å†™å¥½çš„è‡ªåŠ¨é…ç½®ç±»ï¼›

  `xxxxAutoConfigurartion`ï¼šè‡ªåŠ¨é…ç½®ç±»ï¼Œç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶

  `xxxxProperties`ï¼šå°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±æ€§ï¼›

- æˆ‘ä»¬å†æ¥çœ‹è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ä¸­åˆ°åº•é…ç½®äº†å“ªäº›ç»„ä»¶ï¼›ï¼ˆåªè¦æˆ‘ä»¬è¦ç”¨çš„ç»„ä»¶æœ‰ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ¥é…ç½®äº†ï¼‰

- ç»™å®¹å™¨ä¸­è‡ªåŠ¨é…ç½®ç±»æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œä¼šä» properties ç±»ä¸­è·å–æŸäº›å±æ€§ã€‚æˆ‘ä»¬å°±å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›å±æ€§çš„å€¼ï¼›

### â‘¡ @Conditionalæ´¾ç”Ÿæ³¨è§£

ä½œç”¨ï¼šå¿…é¡»æ˜¯ @Conditional æŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œæ‰ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œé…ç½®é…é‡Œé¢çš„æ‰€æœ‰å†…å®¹æ‰ç”Ÿæ•ˆï¼›

| @Conditionalæ‰©å±•æ³¨è§£            | ä½œç”¨ï¼ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³å½“å‰æŒ‡å®šæ¡ä»¶ï¼‰                 |
| ------------------------------- | ------------------------------------------------ |
| @ConditionalOnJava              | ç³»ç»Ÿçš„javaç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚                       |
| @ConditionalOnBean              | å®¹å™¨ä¸­å­˜åœ¨æŒ‡å®šBeanï¼›                             |
| @ConditionalOnMissingBean       | å®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šBeanï¼›                           |
| @ConditionalOnExpression        | æ»¡è¶³SpELè¡¨è¾¾å¼æŒ‡å®š                               |
| @ConditionalOnClass             | ç³»ç»Ÿä¸­æœ‰æŒ‡å®šçš„ç±»                                 |
| @ConditionalOnMissingClass      | ç³»ç»Ÿä¸­æ²¡æœ‰æŒ‡å®šçš„ç±»                               |
| @ConditionalOnSingleCandidate   | å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªæŒ‡å®šçš„Beanï¼Œæˆ–è€…è¿™ä¸ªBeanæ˜¯é¦–é€‰Bean |
| @ConditionalOnProperty          | ç³»ç»Ÿä¸­æŒ‡å®šçš„å±æ€§æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼                   |
| @ConditionalOnResource          | ç±»è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šèµ„æºæ–‡ä»¶                     |
| @ConditionalOnWebApplication    | å½“å‰æ˜¯webç¯å¢ƒ                                    |
| @ConditionalOnNotWebApplication | å½“å‰ä¸æ˜¯webç¯å¢ƒ                                  |
| @ConditionalOnJndi              | JNDIå­˜åœ¨æŒ‡å®šé¡¹                                   |

**è‡ªåŠ¨é…ç½®ç±»å¿…é¡»åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨é…ç½®æ–‡ä»¶å¯ç”¨  `debug = true` å±æ€§ï¼Œæ¥è®©æ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Š**ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆã€‚æ§åˆ¶å°æ‰“å°è¾“å‡ºç¤ºä¾‹å¦‚ä¸‹ï¼š

```
=========================
AUTO-CONFIGURATION REPORT
=========================


Positive matches:ï¼ˆè‡ªåŠ¨é…ç½®ç±»å¯ç”¨çš„ï¼‰
-----------------

   DispatcherServletAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.web.servlet.DispatcherServlet'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)
      - @ConditionalOnWebApplication (required) found StandardServletEnvironment (OnWebApplicationCondition)
        
    
Negative matches:ï¼ˆæ²¡æœ‰å¯åŠ¨ï¼Œæ²¡æœ‰åŒ¹é…æˆåŠŸçš„è‡ªåŠ¨é…ç½®ç±»ï¼‰
-----------------

   ActiveMQAutoConfiguration:
      Did not match:
         - @ConditionalOnClass did not find required classes 'javax.jms.ConnectionFactory', 'org.apache.activemq.ActiveMQConnectionFactory' (OnClassCondition)

   AopAutoConfiguration:
      Did not match:
         - @ConditionalOnClass did not find required classes 'org.aspectj.lang.annotation.Aspect', 'org.aspectj.lang.reflect.Advice' (OnClassCondition)
        
```



---

# ğŸ“š References

<br>

- [è§†é¢‘ - SpringBoot_æƒå¨æ•™ç¨‹_é›·ä¸°é˜³_å°šç¡…è°·](https://www.bilibili.com/video/BV1Et411Y7tQ)