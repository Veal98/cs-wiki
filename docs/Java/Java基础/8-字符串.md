# ğŸ¶ å­—ç¬¦ä¸²

---

## 1. ä¸å¯å˜å­—ç¬¦ä¸² String

---

### â‘  æ¦‚è¿°

ä»æ¦‚å¿µä¸Šè®²ï¼Œ Java å­—ç¬¦ä¸²å°±æ˜¯ Unicode å­—ç¬¦åºåˆ—ã€‚ ä¾‹å¦‚ï¼Œ ä¸² `â€œJava\u2122â€ ` ç”± 5 ä¸ª Unicode å­—ç¬¦ Jã€aã€ vã€a å’Œâ„¢ã€‚**Java æ²¡æœ‰å†…ç½®çš„å­—ç¬¦ä¸²ç±»å‹**ï¼Œ è€Œæ˜¯åœ¨æ ‡å‡† Java ç±»åº“ä¸­æä¾›äº† ä¸€ä¸ª**é¢„å®šä¹‰ç±»** `String`ã€‚æ¯ä¸ªç”¨**åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²éƒ½æ˜¯ String ç±»çš„ä¸€ä¸ªå®ä¾‹**ï¼š

```java
String e = ""; // ç©ºä¸²
String a = "hello";
```

**åœ¨ Java 8 ä¸­ï¼ŒString å†…éƒ¨ä½¿ç”¨ char æ•°ç»„å­˜å‚¨æ•°æ®**ã€‚

```java
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence {
    /** The value is used for character storage. */
    private final char value[];
}
```

**åœ¨ Java 9 ä¹‹åï¼ŒString ç±»çš„å®ç°æ”¹ç”¨ byte æ•°ç»„å­˜å‚¨å­—ç¬¦ä¸²**ï¼ŒåŒæ—¶ä½¿ç”¨ `coder` æ¥æ ‡è¯†ä½¿ç”¨äº†å“ªç§ç¼–ç ã€‚

```java
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence {
    /** The value is used for character storage. */
    private final byte[] value;

    /** The identifier of the encoding used to encode the bytes in {@code value}. */
    private final byte coder;
}Copy to clipboardErrorCopied
```

`value` æ•°ç»„è¢«å£°æ˜ä¸º `final`ï¼Œè¿™æ„å‘³ç€ `value `æ•°ç»„åˆå§‹åŒ–ä¹‹åå°±ä¸èƒ½å†å¼•ç”¨å…¶å®ƒæ•°ç»„ã€‚å¹¶ä¸” `String `å†…éƒ¨æ²¡æœ‰æ”¹å˜ `value` æ•°ç»„çš„æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥ä¿è¯ **`String `ä¸å¯å˜**ã€‚

### â‘¡ å­—ä¸² substring

`String `ç±»çš„ `substring `æ–¹æ³•å¯ä»¥ä»ä¸€ä¸ªè¾ƒå¤§çš„å­—ç¬¦ä¸²æå–å‡ºä¸€ä¸ªå­ä¸²ã€‚ä¾‹å¦‚ï¼š

```java
String a = "hello";
String s = a.substring(0,3); // ä»ä¸‹æ ‡ 0 å¼€å§‹ åˆ° ä¸‹æ ‡ 3 ä¸ºæ­¢ï¼Œä¸åŒ…å« 3ã€‚ å·¦é—­å³å¼€
```

`substring `çš„å·¥ä½œæ–¹å¼æœ‰ä¸€ä¸ªä¼˜ç‚¹ï¼š**å®¹æ˜“è®¡ç®—å­ä¸²çš„é•¿åº¦**ï¼šå­—ç¬¦ä¸² `s.substring(a, b)` çš„é•¿åº¦ ä¸º b-aã€‚

### â‘¢ æ‹¼æ¥ +

Javaè¯­è¨€å…è®¸ä½¿ç”¨ `+` å·è¿æ¥ï¼ˆæ‹¼æ¥ï¼‰ä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚

```java
String a = "hello";
String b = "world";
String c = a + b; // c = "helloworld"
```

â­ **å½“å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ä¸€ä¸ªéå­—ç¬¦ä¸²çš„å€¼è¿›è¡Œæ‹¼æ¥æ—¶ï¼Œåè€…è¢«è½¬æ¢æˆå­—ç¬¦ä¸²**ï¼ˆ<u>ä»»ä½•ä¸€ä¸ª Java å¯¹è±¡éƒ½å¯ä»¥è½¬æ¢æˆå­—ç¬¦ä¸²</u>ï¼‰ã€‚ä¾‹å¦‚ï¼š

```java
int age = 13;
String rating = "PG" + age; // rating = "PG13"
```

è¿™ç§ç‰¹æ€§é€šå¸¸ç”¨åœ¨è¾“å‡ºè¯­å¥ä¸­ã€‚ä¾‹å¦‚ï¼š

```java
int a = 12;
System.out.println("a = " + a);
```

**å¦‚æœéœ€è¦æŠŠå¤šä¸ªå­—ç¬¦ä¸²æ”¾åœ¨ä¸€èµ·ï¼Œ ç”¨ä¸€ä¸ªå®šç•Œç¬¦åˆ†éš”ï¼Œå¯ä»¥ä½¿ç”¨é™æ€ `join` æ–¹æ³•**ï¼š

```java
String all = String.join("/","S","M","L"); // all = "S/M/L"
```

### â‘£ ä¸å¯å˜å­—ç¬¦ä¸²

`String `ç±»æ²¡æœ‰æä¾›ç”¨äºç›´æ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚é¦–å…ˆæå–éœ€è¦çš„å­—ç¬¦ï¼Œ ç„¶åå†æ‹¼æ¥ä¸Šæ›¿æ¢çš„å­—ç¬¦ä¸²ï¼š

```java
String a = "hello";
a = a.substring(0,3) + "ab"; // a = "helab"
```

â­ ç”±äºä¸èƒ½ä¿®æ”¹ Java å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œ æ‰€ä»¥åœ¨ **Java æ–‡æ¡£ä¸­å°† String ç±»å¯¹è±¡ç§°ä¸ºä¸å¯å˜å­—ç¬¦ä¸²**ï¼Œ å¦‚åŒæ•°å­— 3 æ°¸è¿œæ˜¯æ•°å­— 3 â€”æ ·ï¼Œ**å­—ç¬¦ä¸²â€œ helloâ€ æ°¸è¿œåŒ…å«å­—ç¬¦ hã€ eã€1ã€ 1 å’Œ o çš„ä»£ç å•å…ƒåºåˆ—ï¼Œ è€Œä¸èƒ½ä¿®æ”¹å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ã€‚å½“ç„¶ï¼Œ å¯ä»¥ä¿®æ”¹å­—ç¬¦ä¸²å˜é‡ aï¼Œ è®©å®ƒå¼•ç”¨å¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²**ï¼Œ è¿™å°±å¦‚åŒå¯ä»¥å°†å­˜æ”¾ 3 çš„æ•°å€¼å˜é‡æ”¹æˆå­˜æ”¾ 4 ä¸€æ ·ã€‚

é€šè¿‡æ‹¼æ¥â€œ helâ€ å’Œâ€œ ab â€ æ¥åˆ›å»ºä¸€ä¸ªæ–°å­—ç¬¦ä¸²çš„æ•ˆç‡ç¡®å®ä¸é«˜ã€‚ä½†æ˜¯ï¼Œä¸å¯å˜å­—ç¬¦ä¸²å´æœ‰ä¸€ä¸ªä¼˜ç‚¹ï¼š**ç¼–è¯‘å™¨å¯ä»¥è®©å­—ç¬¦ä¸²å…±äº«**ã€‚

å¯ä»¥æƒ³è±¡å°†å„ç§å­—ç¬¦ä¸²å­˜æ”¾åœ¨å…¬å…±çš„å­˜å‚¨æ± ä¸­ã€‚å­—ç¬¦ä¸²å˜é‡æŒ‡å‘å­˜å‚¨æ± ä¸­ç›¸åº”çš„ä½ç½®ã€‚å¦‚æœå¤åˆ¶ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œ åŸå§‹å­—ç¬¦ä¸²ä¸å¤åˆ¶çš„å­—ç¬¦ä¸²å…±äº«ç›¸åŒçš„å­—ç¬¦ã€‚

> ğŸ“œ C++ å­—ç¬¦ä¸²æ˜¯å¯ä¿®æ”¹çš„ï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ä¿®æ”¹å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªå­—ç¬¦ã€‚

### â‘¤ æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ equals

å¯ä»¥ä½¿ç”¨ `equals `æ–¹æ³•æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ã€‚

å¯¹äºè¡¨è¾¾å¼ï¼š `s.equals(t)`ï¼Œ å¦‚æœå­—ç¬¦ä¸² s ä¸å­—ç¬¦ä¸² t ç›¸ç­‰ï¼Œ åˆ™è¿”å› true ; å¦åˆ™ï¼Œ è¿”å› falseã€‚

éœ€è¦æ³¨æ„ï¼Œs ä¸ t å¯ä»¥æ˜¯å­—ç¬¦ä¸²å˜é‡ï¼Œ ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²å­—é¢é‡ã€‚ ä¾‹å¦‚ï¼Œ ä¸‹åˆ—è¡¨è¾¾å¼æ˜¯åˆæ³•çš„ï¼š

```java
String a = "hello";
"hello".equals(a); // true
```

è¦æƒ³æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œè€Œ**ä¸åŒºåˆ†å¤§å°å†™**ï¼Œ å¯ä»¥ä½¿ç”¨ `equalsIgnoreCase` æ–¹æ³•ï¼š

```java
"Hello".equals(a); // true
```

â­ **ä¸€å®šä¸è¦ä½¿ç”¨ `==` è¿ç®—ç¬¦æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼ è¿™ä¸ªè¿ç®—ç¬¦åªèƒ½å¤Ÿç¡®å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ”¾ç½®åœ¨åŒä¸€ä¸ªä½ç½®ä¸Šã€‚**å½“ç„¶ï¼Œ å¦‚æœå­—ç¬¦ä¸²æ”¾ç½®åœ¨åŒä¸€ä¸ªä½ç½®ä¸Šï¼Œ å®ƒä»¬å¿…ç„¶ç›¸ç­‰ã€‚ä½†æ˜¯ï¼Œ å®Œå…¨æœ‰å¯èƒ½å°†å†…å®¹ç›¸åŒçš„å¤šä¸ªå­—ç¬¦ä¸²çš„æ‹·è´æ”¾ç½®åœ¨ä¸åŒçš„ä½ç½®ä¸Šã€‚

```java
public class Demo{
    public static void main(String[] args) {
        String a = "hello";
        if(a == "hello") // true
            System.out.println("a == hello is true");
        else
            System.out.println("a == hello is false");
        if(a.substring(0,3) == "hel") // false
            System.out.println("a.substring(0,3) == \"hel\"");
        else
            System.out.println("a.substring(0,3) == \"hel\" is false");
    }
}
```

<img src="https://gitee.com/veal98/images/raw/master/img/20200617094812.png" style="zoom:80%;" />

> ğŸ“œ C++ çš„ `string `ç±»é‡è½½äº† `==` è¿ç®—ç¬¦ä»¥ä¾¿æ£€æµ‹å­—ç¬¦ä¸²å†…å®¹çš„ç›¸ç­‰æ€§ã€‚ å¯æƒœ Java æ²¡æœ‰é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œ å®ƒçš„å­—ç¬¦ä¸²â€œ çœ‹èµ·æ¥ã€ æ„Ÿè§‰èµ·æ¥â€ ä¸æ•°å€¼ä¸€æ ·ï¼Œ ä½†è¿›è¡Œç›¸ç­‰æ€§æµ‹è¯•æ—¶ï¼Œ å…¶æ“ä½œæ–¹å¼åˆç±»ä¼¼äºæŒ‡é’ˆã€‚

### â‘¥ ç©ºä¸²ä¸ Null ä¸²

ç©ºä¸² `""` æ˜¯é•¿åº¦ä¸º 0 çš„å­—ç¬¦ä¸²ã€‚å¯ä»¥è°ƒç”¨ä»¥ä¸‹ä»£ç æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼š

```java
if(str.length() == 0){
    // todo
}
```

æˆ–è€…

```java
if(str.equals("")){
	// todo
}
```

**ç©ºä¸²æ˜¯ä¸€ä¸ª Java å¯¹è±¡ï¼Œ æœ‰è‡ªå·±çš„ä¸²é•¿åº¦ï¼ˆ 0 ) å’Œå†…å®¹ï¼ˆç©ºï¼‰**ã€‚

ä¸è¿‡ï¼Œ `String `å˜é‡è¿˜å¯ä»¥å­˜æ”¾ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œ åä¸º `null`, è¿™è¡¨ç¤ºç›®å‰æ²¡æœ‰ä»»ä½•å¯¹è±¡ä¸è¯¥å˜é‡å…³è”ã€‚è¦æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸º `null`, è¦ä½¿ç”¨ä»¥ä¸‹æ¡ä»¶ï¼š

```java
if(str == null){
    // todo
}
```

æœ‰æ—¶è¦æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ—¢ä¸æ˜¯ `null `ä¹Ÿä¸ä¸ºç©ºä¸²ï¼Œè¿™ç§æƒ…å†µä¸‹å°±éœ€è¦ä½¿ç”¨ä»¥ä¸‹æ¡ä»¶ï¼š

```java
if(str != null && str.length() != 0){
    // todo
}
```

**é¦–å…ˆè¦æ£€æŸ¥ str ä¸ä¸º `null`ã€‚å¦‚æœåœ¨ä¸€ä¸ª `null `å€¼ä¸Šè°ƒç”¨æ–¹æ³•ï¼Œ ä¼šå‡ºç°é”™è¯¯**ã€‚

### â‘¦ ç ç‚¹ä¸ä»£ç å•å…ƒ

Java å­—ç¬¦ä¸²ç”± `char `å€¼åºåˆ—ç»„æˆã€‚ä» 3.3.3 èŠ‚â€œ char ç±»å‹â€ å·²ç»çœ‹åˆ°ï¼Œ char æ•°æ®ç±»å‹æ˜¯ä¸€ ä¸ªé‡‡ç”¨ UTF-16 ç¼–ç è¡¨ç¤º Unicode ç ç‚¹çš„ä»£ç å•å…ƒã€‚å¤§å¤šæ•°çš„å¸¸ç”¨ Unicode å­—ç¬¦ä½¿ç”¨ä¸€ä¸ªä»£ç å•å…ƒå°±å¯ä»¥è¡¨ç¤ºï¼Œè€Œè¾…åŠ©å­—ç¬¦éœ€è¦ä¸€å¯¹ä»£ç å•å…ƒè¡¨ç¤ºã€‚

`length` æ–¹æ³•å°†è¿”å›é‡‡ç”¨ UTF-16 ç¼–ç è¡¨ç¤ºçš„ç»™å®šå­—ç¬¦ä¸²æ‰€éœ€è¦çš„ä»£ç å•å…ƒæ•°é‡ã€‚ä¾‹å¦‚ï¼š

```java
String a = "hello";
int len = a.length(); // len = 5
```

è¦æƒ³å¾—åˆ°å®é™…çš„é•¿åº¦ï¼Œå³ç ç‚¹æ•°é‡ï¼Œå¯ä»¥è°ƒç”¨ï¼š

```java
int cpCount = a.codePointCount(0, len); // 5
```

**è°ƒç”¨ `s.charAt(n) ` å°†è¿”å›ä½ç½® n çš„ä»£ç å•å…ƒ**ï¼Œn ä»‹äº 0 ~ s.length() - 1ä¹‹é—´ã€‚ä¾‹å¦‚ï¼š

```java
char last = a.charAt(4); // "o"
```

è¦æƒ³å¾—åˆ°ç¬¬ i ä¸ªç ç‚¹ï¼Œåº”è¯¥ä½¿ç”¨ä¸‹åˆ—è¯­å¥ï¼š

```java
int index = a.offsetByCodePoints(0, 2); // 2
int cp = a.codePointAt(index); // 108
```

###  â‘§ String API

Java ä¸­çš„ `String `ç±»åŒ…å«äº† 50 å¤šä¸ªæ–¹æ³•ã€‚ä»¤äººæƒŠè®¶çš„æ˜¯ç»å¤§å¤šæ•°éƒ½å¾ˆæœ‰ç”¨ï¼Œ å¯ä»¥è®¾æƒ³ä½¿ç”¨çš„é¢‘ç‡éå¸¸é«˜ã€‚ä¸‹é¢çš„ API æ³¨é‡Šæ±‡æ€»äº†ä¸€éƒ¨åˆ†æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼š

> ğŸ“œ è¿™é‡Œè¿˜åˆ—å‡ºäº†æ‰€ç»™ç±»çš„ç‰ˆæœ¬å·ã€‚
>
> ğŸ‘‰ æ›´å¤šæ–¹æ³•è¯·å‚è§ï¼š[String å®˜æ–¹è”æœºæ–‡æ¡£  https://docs.oracle.com/javase/8/docs/api/](https://docs.oracle.com/javase/8/docs/api/)

- `java.lang.String`

  ![](https://gitee.com/veal98/images/raw/master/img/20200617100840.png)

  ![](https://gitee.com/veal98/images/raw/master/img/20200617100736.png)

  ![](https://gitee.com/veal98/images/raw/master/img/20200617100811.png)

> ğŸ“œ åœ¨ API æ³¨é‡Šä¸­ï¼Œ æœ‰ä¸€äº› `CharSequence` ç±»å‹çš„å‚æ•°è¿™æ˜¯ä¸€ç§**æ¥å£ç±»å‹**ï¼Œ **æ‰€æœ‰å­—ç¬¦ä¸²éƒ½å±äºè¿™ä¸ªæ¥å£** ï¼Œåªéœ€è¦çŸ¥é“åªè¦çœ‹åˆ° ä¸€ä¸ª `CharSequence` å½¢å‚ï¼Œ å®Œå…¨å¯ä»¥ä¼ å…¥ `String `ç±»å‹çš„å®å‚ã€‚

### â‘¨ å­—ç¬¦ä¸²å¸¸é‡æ±  String Pool

**å­—ç¬¦ä¸²å¸¸é‡æ± **ï¼ˆString Poolï¼‰ä¿å­˜ç€æ‰€æœ‰å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆliteral stringsï¼‰ï¼Œè¿™äº›å­—é¢é‡åœ¨ç¼–è¯‘æ—¶æœŸå°±ç¡®å®šã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿˜**å¯ä»¥ä½¿ç”¨ `String `çš„ `intern() `æ–¹æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å°†å­—ç¬¦ä¸²æ·»åŠ åˆ° String Pool ä¸­**ã€‚

**å½“ä¸€ä¸ªå­—ç¬¦ä¸²è°ƒç”¨ `intern()` æ–¹æ³•æ—¶ï¼Œå¦‚æœ String Pool ä¸­å·²ç»å­˜åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²å’Œè¯¥å­—ç¬¦ä¸²å€¼ç›¸ç­‰ï¼ˆä½¿ç”¨ equals() æ–¹æ³•è¿›è¡Œç¡®å®šï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å› String Pool ä¸­å­—ç¬¦ä¸²çš„å¼•ç”¨**ï¼›å¦åˆ™ï¼Œå°±ä¼šåœ¨ String Pool ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›è¿™ä¸ªæ–°å­—ç¬¦ä¸²çš„å¼•ç”¨ã€‚

ä¸‹é¢ç¤ºä¾‹ä¸­ï¼Œs1 å’Œ s2 é‡‡ç”¨ **æ„é€ å‡½æ•°** `new String()` çš„æ–¹å¼æ–°å»ºäº†ä¸¤ä¸ªä¸åŒå­—ç¬¦ä¸²ï¼Œè€Œ s3 å’Œ s4 æ˜¯é€šè¿‡ `s1.intern()` æ–¹æ³•å–å¾—ä¸€ä¸ªå­—ç¬¦ä¸²å¼•ç”¨ã€‚**`intern()` é¦–å…ˆæŠŠ s1 å¼•ç”¨çš„å­—ç¬¦ä¸²æ”¾åˆ° String Pool ä¸­ï¼Œç„¶åè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²å¼•ç”¨**ã€‚å› æ­¤ s3 å’Œ s4 å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

```java
String s1 = new String("aaa"); // s1 å­˜æ”¾åœ¨å †ä¸­
String s2 = new String("aaa");
System.out.println(s1 == s2);           // false
String s3 = s1.intern(); // s3 å­˜æ”¾åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­
String s4 = s1.intern();
System.out.println(s3 == s4);           // true
```

å¦‚æœæ˜¯é‡‡ç”¨ "bbb" è¿™ç§**å­—é¢é‡çš„å½¢å¼**ç›´æ¥åˆ›å»ºå­—ç¬¦ä¸²ï¼Œ**ä¼šè‡ªåŠ¨åœ°å°†å­—ç¬¦ä¸²æ”¾å…¥ String Pool ä¸­**ã€‚

```java
String s5 = "bbb"; // s5 å­˜æ”¾åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­
String s6 = "bbb";
System.out.println(s5 == s6);  // true
```

ğŸš© **æ€»ç»“ï¼š**

- `String str = "i"` çš„æ–¹å¼ï¼Œjava è™šæ‹Ÿæœºä¼šè‡ªåŠ¨å°†å…¶åˆ†é…åˆ°å¸¸é‡æ± ä¸­ï¼›

- `String str = new String(â€œiâ€) ` åˆ™ä¼šè¢«åˆ†åˆ°å †å†…å­˜ä¸­ã€‚å¯é€šè¿‡ intern æ–¹æ³•æ‰‹åŠ¨åŠ å…¥å¸¸é‡æ± 

### â‘© new String("abc") åˆ›å»ºäº†å‡ ä¸ªå­—ç¬¦ä¸²å¯¹è±¡

ä½¿ç”¨è¿™ç§æ–¹å¼ä¸€å…±ä¼šåˆ›å»ºä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆå‰ææ˜¯ String Pool ä¸­è¿˜æ²¡æœ‰ "abc" å­—ç¬¦ä¸²å¯¹è±¡ï¼‰ã€‚

- "abc" å±äºå­—ç¬¦ä¸²å­—é¢é‡ï¼Œå› æ­¤**ç¼–è¯‘æ—¶æœŸä¼šåœ¨ <u>String Pool</u> ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡**ï¼ŒæŒ‡å‘è¿™ä¸ª "abc" å­—ç¬¦ä¸²å­—é¢é‡ï¼›
- è€Œ**ä½¿ç”¨ `new `çš„æ–¹å¼ä¼šåœ¨<u>å †</u>ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡**ã€‚

ğŸš¨ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<u>åœ¨ JDK 1.7 ä»¥åï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± å±äºå †</u>

<img src="https://gitee.com/veal98/images/raw/master/img/20200906113117.png" style="zoom: 67%;" />

## 2. å¯å˜å­—ç¬¦ä¸² StringBuilder 

### â‘  String å­—ç¬¦ä¸²æ‹¼æ¥é—®é¢˜

æœ‰äº›æ—¶å€™ï¼Œ éœ€è¦ç”±è¾ƒçŸ­çš„å­—ç¬¦ä¸²æ„å»ºå­—ç¬¦ä¸²ï¼Œ ä¾‹å¦‚ï¼Œ æŒ‰é”®æˆ–æ¥è‡ªæ–‡ä»¶ä¸­çš„å•è¯ã€‚é‡‡ç”¨å­—ç¬¦ä¸²è¿æ¥çš„æ–¹å¼è¾¾åˆ°æ­¤ç›®çš„æ•ˆç‡æ¯”è¾ƒä½ã€‚â­ **ç”±äºStringç±»çš„å¯¹è±¡å†…å®¹ä¸å¯æ”¹å˜ï¼Œæ‰€ä»¥æ¯å½“è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥æ—¶ï¼Œæ€»æ˜¯ä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚**æ—¢è€—æ—¶ï¼Œ åˆæµªè´¹ç©ºé—´ã€‚ä¾‹å¦‚ï¼š

```java
public class StringDemo {
    public static void main(String[] args) {
        String s = "Hello";
        s += "World";
        System.out.println(s);
    }
}
```

è¿™æ®µä»£ç å…¶å®æ€»å…±äº§ç”Ÿäº†ä¸‰ä¸ªå­—ç¬¦ä¸²ï¼Œå³`"Hello"`ã€`"World"`å’Œ`"HelloWorld"`ã€‚å¼•ç”¨å˜é‡ s é¦–å…ˆæŒ‡å‘`Hello`å¯¹è±¡ï¼Œæœ€ç»ˆæŒ‡å‘æ‹¼æ¥å‡ºæ¥çš„æ–°å­—ç¬¦ä¸²å¯¹è±¡ï¼Œå³`HelloWord` ã€‚

ğŸ‘ ä½¿ç”¨ `StringBuilder/ StringBuffer` ç±»å°±å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜çš„å‘ç”Ÿã€‚

### â‘¡ StringBuilder åˆå§‹åŒ–

> ğŸ“œ åœ¨ JDK5.0 ä¸­å¼•å…¥ `StringBuilder` ç±»ã€‚ è¿™ä¸ªç±»çš„å‰èº«æ˜¯ `StringBuffer`, `StringBuffer`æ•ˆç‡ç¨æœ‰äº›ä½ï¼Œ ä½†å…è®¸é‡‡ç”¨**å¤šçº¿ç¨‹**çš„æ–¹å¼æ‰§è¡Œæ·»åŠ æˆ–åˆ é™¤å­—ç¬¦çš„æ“ä½œã€‚å¦‚æœæ‰€æœ‰å­—ç¬¦ä¸²åœ¨ä¸€ä¸ªå•çº¿ç¨‹ä¸­ç¼–è¾‘ ï¼ˆé€šå¸¸éƒ½æ˜¯è¿™æ ·) ï¼Œ åˆ™åº”è¯¥ç”¨ `StringBuilder` æ›¿ä»£å®ƒã€‚ **è¿™ä¸¤ä¸ªç±»çš„ API æ˜¯ç›¸åŒçš„**ã€‚

**`StringBuiler `ä¸èƒ½åƒ `String `é‚£æ ·ç›´æ¥ç”¨å­—ç¬¦ä¸²èµ‹å€¼ï¼Œæ‰€ä»¥ä¹Ÿä¸èƒ½é‚£æ ·åˆå§‹åŒ–ã€‚å®ƒ<u>éœ€è¦é€šè¿‡æ„é€ æ–¹æ³•æ¥åˆå§‹åŒ–</u>**

å¦‚æœéœ€è¦ç”¨è®¸å¤šå°æ®µçš„å­—ç¬¦ä¸²æ„å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ é‚£ä¹ˆåº”è¯¥æŒ‰ç…§ä¸‹åˆ—æ­¥éª¤è¿›è¡Œã€‚ é¦–å…ˆï¼Œ æ„å»ºä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²æ„å»ºå™¨ï¼š

```java
StringBuilder builder = new StringBuilder();
```

å½“æ¯æ¬¡éœ€è¦æ·»åŠ ä¸€éƒ¨åˆ†å†…å®¹æ—¶ï¼Œ å°±è°ƒç”¨ `append` æ–¹æ³•ï¼š

```java
char ch = 'a';
builder.append(a);

String str = "ert"
builder.append(str);
```

åœ¨éœ€è¦æ„å»ºå­—ç¬¦ä¸²æ—¶å°±å‡‹ç”¨  `toString` æ–¹æ³•ï¼Œ å°†å¯ä»¥å¾—åˆ°ä¸€ä¸ª `String `å¯¹è±¡ï¼Œ å…¶ä¸­åŒ…å«äº†æ„å»ºå™¨ä¸­çš„å­—ç¬¦åºåˆ—ã€‚

```java
String mystr = builder.toString();
```

### â‘¢ StringBuiler API

ä¸‹é¢çš„ API æ³¨é‡ŠåŒ…å«äº† StringBuilder ç±»ä¸­çš„é‡è¦æ–¹æ³•ï¼šï¼ˆStringBuffer å’Œ StringBuilder API ç›¸åŒï¼‰

- `java.lang.StringBuilder`

  ![](https://gitee.com/veal98/images/raw/master/img/20200617104211.png)

### â‘£ Stringã€StringBufferã€StringBuilder æ¯”è¾ƒ

**å¯å˜æ€§**

- `String `ä¸å¯å˜
- `StringBuffer `å’Œ `StringBuilder` å¯å˜

**çº¿ç¨‹å®‰å…¨**

- `String `ä¸å¯å˜ï¼Œå› æ­¤æ˜¯çº¿ç¨‹å®‰å…¨çš„
- `StringBuilder `ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡è¾ƒé«˜
- `StringBuffer `æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå†…éƒ¨ä½¿ç”¨ `synchronized `è¿›è¡ŒåŒæ­¥ï¼Œæ•ˆç‡è¾ƒä½

## ğŸ“š References

- ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ - å· 1 åŸºç¡€çŸ¥è¯† - ç¬¬ 10 ç‰ˆã€‹
- ã€ŠThinking In Javaï¼ˆJava ç¼–ç¨‹æ€æƒ³ï¼‰- ç¬¬ 4 ç‰ˆã€‹