# âœ Java ç¼–ç¨‹æ€æƒ³ - ç¬¬å››ç‰ˆ - è¯¾åä¹ é¢˜

---

> ğŸ˜€ æœ¬æ–‡ç»ƒä¹ é¢˜çš„é¢˜å·å‡å¯¹åº”ã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ä¹¦ä¸­çš„é¢˜å·ï¼Œæœ‰äº›ç›¸ä¼¼æˆ–è€…é‡å¤é¢˜ç›®å°±æ²¡æœ‰åˆ—å‡ºæ¥~

## Everything is an Object ä¸€åˆ‡çš†æ˜¯å¯¹è±¡



**ç»ƒä¹  9ï¼šç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œå±•ç¤ºè‡ªåŠ¨åŒ…è£…åŠŸèƒ½å¯¹æ‰€æœ‰çš„åŸºæœ¬ç±»å‹å’ŒåŒ…è£…å™¨ç±»å‹éƒ½èµ·ä½œç”¨**

```java
public class ex9 {
    public static void main(String [] args){
        boolean b = false;
        char c = 'X';
        byte t = 8;
        short s = 16;
        int i = 32;
        long l = 64;
        float f = 0.32f;
        double d = 0.64;

        Boolean B = b;
        System.out.println("boolean b = " + b);
        System.out.println("boolean B = " + B);

        Character C = c;
        System.out.println("char c = " + c);
        System.out.println("Character C = " + C);

        Byte T = t;
        System.out.println("byte t = " + t);
        System.out.println("Byte T = " + T);

        Short S = s;
        System.out.println("short s = " + s);
        System.out.println("Short S = " + S);

        Integer I = i;
        System.out.println("int i = " + i);
        System.out.println("Integer I = " + I);

        Long L = l;
        System.out.println("long l = " + l);
        System.out.println("Long L = " + L);

        Float F = f;
        System.out.println("float f = " + f);
        System.out.println("Float F = " + F);
        
        Double D = d;
        System.out.println("double d = " + d);
        System.out.println("Double D = " + D);
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200712105344.png)





**ç»ƒä¹  7ï¼šç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ¨¡æ‹Ÿæ‰”ç¡¬å¸çš„ç»“æœã€‚**

```java
public class ex7 {
    public static void main(String[] args){
        Random random = new Random(47); 
        boolean flip = random.nextBoolean(); 
        System.out.println(flip == true?"Head":"Tail");
    }
}
```

> - `Random(long seed)` : ä½¿ç”¨ long æ•°æ®ç±»å‹çš„ç§å­æ„é€ ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨
>
> - `boolean nextBoolean()`:  è¿”å›ä¸‹ä¸€ä¸ªä¼ªéšæœºæ•°ï¼Œå®ƒæ˜¯å–è‡ªæ­¤éšæœºæ•°ç”Ÿæˆå™¨åºåˆ—çš„å‡åŒ€åˆ†å¸ƒçš„ booleanå€¼ã€‚



## Initialization & Cleanup åˆå§‹åŒ–ä¸æ¸…ç†





**ç»ƒä¹  10ï¼šç¼–å†™å…·æœ‰ finalize æ–¹æ³•çš„ç±»ï¼Œå¹¶åœ¨æ–¹æ³•ä¸­æ‰“å°æ¶ˆæ¯ï¼Œåœ¨main ä¸­ä¸ºè¯¥ç±»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯•è§£é‡Šè¿™ä¸ªç¨‹åºçš„è¡Œä¸ºã€‚**

```java
class WebBank {
    String name;
    boolean loggedIn = false;

    public WebBank() {
        loggedIn = true;
        name = null;
    }

    public WebBank(String s){
        loggedIn = true;
        name = s;
    }

    public String getName(){
        return this.name;
    }

    void logOut() {
        loggedIn = false;
    }

    protected void finalize() {
        if (loggedIn)
            System.out.println(this.getName() + " Error: still logged in");
        else
            System.out.println(this.getName() + " OK: logged out successful!");
        // Normally, you'll also call the base-class version:
        // super.finalize();
    }
}

public class ex10 {
    public static void main(String[] args) {
        WebBank bank1 = new WebBank("web1");
        WebBank bank2 = new WebBank("web2");
        // Proper cleanup: log out of bank1 before going home
        bank1.logOut();
        // Drop the reference, forget to cleanup:
        new WebBank("web3");
        // Force garbage collection and finalization:
        System.gc();
        
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200713205046.png)

æ˜¾ç„¶ï¼Œweb1 å’Œ web2 çš„ finalize æ–¹æ³•å¹¶æ²¡æœ‰è¢«è°ƒç”¨ï¼Œå› ä¸º Java å¹¶ä¸ä¿è¯ finalize ä½•æ—¶æˆ–è€…ä¸€å®šä¼šè¢«è°ƒç”¨ã€‚

**ç»ƒä¹  11ï¼šä¿®æ”¹å‰ä¸€ä¸ªç»ƒä¹ çš„ç¨‹åº,è®©ä½ çš„ finalize æ€»ä¼šè¢«è°ƒç”¨ã€‚**

```java
class WebBank {
    String name;
    boolean loggedIn = false;

    public WebBank() {
        loggedIn = true;
        name = null;
    }

    public WebBank(String s){
        loggedIn = true;
        name = s;
    }

    public String getName(){
        return this.name;
    }

    void logOut() {
        loggedIn = false;
    }

    protected void finalize() {
        if (loggedIn)
            System.out.println(this.getName() + " Error: still logged in");
        else
            System.out.println(this.getName() + " OK: logged out successful!");
        // Normally, you'll also call the base-class version:
        // super.finalize();
    }
}

public class ex10 {
    public static void main(String[] args) {
        WebBank bank1 = new WebBank("web1");
        WebBank bank2 = new WebBank("web2");
        new WebBank("web3");
        // Proper cleanup: log out of bank1 before going home:
        bank1.logOut();
        // Forget to logout of bank2 and unnamed new bank
        // Attempts to finalize any missed banks:
        System.out.println("Try 1: ");
        System.runFinalization();
        System.out.println("Try 2: ");
        Runtime.getRuntime().runFinalization(); // ç­‰ä»·äº System.runFinalization();
        System.out.println("Try 3: ");
        System.gc();
        System.out.println("Try 4: ");
        // using deprecated since 1.1 method:
        System.runFinalizersOnExit(true);
        
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200713204536.png)

è¿™æ ·ï¼Œweb1ï¼Œweb2ï¼Œweb3 çš„ finalize  æ–¹æ³•å°±éƒ½ä¸€å®šä¼šè¢«æ‰§è¡Œäº†ã€‚

**ç»ƒä¹  12ï¼šç¼–å†™åä¸ºTankçš„ç±»ï¼Œæ­¤ç±»çš„çŠ¶æ€å¯ä»¥æ˜¯â€œæ»¡çš„â€æˆ–â€œç©ºçš„â€ã€‚å…¶ç»ˆç»“æ¡ä»¶æ˜¯ï¼šå¯¹è±¡è¢«æ¸…ç†æ—¶å¿…é¡»å¤„äºç©ºçŠ¶æ€ã€‚ è¯·ç¼–å†™finalizeï¼ˆï¼‰ä»¥æ£€éªŒç»ˆç»“æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œåœ¨ mainï¼ˆï¼‰ä¸­æµ‹è¯• Tank å¯èƒ½å‘ç”Ÿçš„å‡ ç§ä½¿ç”¨æ–¹å¼**

```java
class Tank {
    static int counter = 0;
    int id = ++ counter; 

    int howFull = 0;

    Tank() {
        this(0);
    }

    Tank(int fullness) {
        howFull = fullness;
    }

    void sayHowFull() {
        if (howFull == 0)
            System.out.println("Tank " + this.id + " is empty");
        else
            System.out.println("Tank " + this.id + " filling status = " + howFull);
    }

    void empty() {
        howFull = 0;
    }

    protected void finalize() {
        if (howFull != 0)
            System.out.println("Tank " + this.id + " not empty");
        else {
            System.out.println("Tank " + this.id + " cleaned up Ok");
        }
        // Normally, you'll also do this:
        // super.finalize(); // Call the base-class version
    }
}

public class ex12 {
    public static void main(String[] args) {
        Tank tank1 = new Tank(); // new Tank(0) id = 1
        Tank tank2 = new Tank(3); // id = 2
        Tank tank3 = new Tank(5); // id =3
        // Proper cleanup: empty tank before going home
        tank2.empty();
        // Drop the reference, forget to cleanup:
        new Tank(6); // id = 4
        System.out.println("Check tanks:");
        System.out.println("tank1: ");
        tank1.sayHowFull();
        System.out.println("tank2: ");
        tank2.sayHowFull();
        System.out.println("tank3: ");
        tank3.sayHowFull();
        System.out.println("first forced gc():");
        System.gc();
        // Force finalization on exit but using method
        // deprecated since JDK 1.1:
        System.out.println("try deprecated runFinalizersOnExit(true):");
        System.runFinalization();
        System.out.println("last forced gc():");
        System.gc();
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200713210806.png)

åªæ‰§è¡Œäº† Tank 4 çš„ finalize æ–¹æ³•ã€‚



## Access Control è®¿é—®æƒé™æ§åˆ¶



## Reusing Classes å¤ç”¨ç±»

**ç»ƒä¹  4ï¼šè¯æ˜åŸºç±»æ„é€ å™¨æ€»æ˜¯ä¼šåœ¨å­ç±»æ„é€ å™¨ä¹‹å‰è¢«è°ƒç”¨ã€‚**

```java
class A {
    A() {
        System.out.println("A()");
    }
}

class B extends A {
    B() {
        System.out.println("B()");
    }
}

class C extends B {
    C() {
        System.out.println("C()");
    }
}

class D extends C {
    D() {
        System.out.println("D()");
    }

    public static D makeD() {
        return new D();
    }

    public static void main(String[] args) {
        D d = new D();  // å…ˆè°ƒç”¨åŸºç±»æ„é€  A B C ï¼Œå†è°ƒç”¨è‡ªèº«æ„é€ å‡½æ•° D
        D d2 = makeD(); 
    }
}

public class ex4 extends D {
    ex4() {
        System.out.println("ex4()");
    }

    public static void main(String[] args) {
        ex4 e = new ex4(); // å…ˆè°ƒç”¨åŸºç±»æ„é€  A B C Dï¼Œå†è°ƒç”¨è‡ªèº«æ„é€ å‡½æ•° ex4
        // test D:
        D.main(args);
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200715171001.png)

**ç»ƒä¹  5ï¼šåˆ›å»ºä¸¤ä¸ªå¸¦æœ‰é»˜è®¤æ„é€ å™¨ï¼ˆç©ºå‚æ•°åˆ—è¡¨ï¼‰çš„ç±» A å’Œç±» Bã€‚ä» A ä¸­ç»§æ‰¿äº§ç”Ÿä¸€ä¸ªåä¸º C çš„å­ç±»ï¼Œå¹¶åœ¨ C å†…åˆ›å»ºä¸€ä¸ª B ç±»çš„æˆå‘˜ã€‚ä¸è¦ç»™ C ç¼–å†™æ„é€ å™¨ã€‚åˆ›å»ºä¸€ä¸ª C ç±»çš„å¯¹è±¡å¹¶è§‚å¯Ÿå…¶ç»“æœã€‚**

```java
class A {
    A() {
        System.out.println("A()");
    }
}

class B extends A {
    B() {
        System.out.println("B()");
    }
}

class C extends A{
    B b = new B();
}
public class ex5 {
    public static void main(String[] args) {
        C c = new C(); 
        // ç”±äº C ç»§æ‰¿ Aï¼Œæ‰€ä»¥å…ˆè°ƒç”¨ A çš„æ„é€ å‡½æ•°ï¼›
        // åˆç”±äº C ä¸­å‡½æ•°ä½“æ„é€ äº† B çš„å¯¹è±¡ï¼ŒB æ˜¯ A çš„å­ç±»ï¼Œæ‰€ä»¥å…ˆè°ƒç”¨ Aæ„é€ ï¼Œå†è°ƒç”¨ B æ„é€ 
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200715171921.png)

**ç»ƒä¹  7ï¼šä¿®æ”¹ç»ƒä¹ 5ï¼Œä½¿Aå’ŒBä»¥å¸¦å‚æ•°çš„æ„é€ å™¨å–ä»£é»˜è®¤çš„æ„é€ å™¨ã€‚ä¸ºCå†™ä¸€ä¸ªæ„é€ å™¨ï¼Œå¹¶åœ¨å…¶ä¸­æ‰§è¡Œæ‰€æœ‰åˆå§‹åŒ–ã€‚**

```java
class A {
    A(char c, int i) {
        System.out.println("A(" + c + "," + i + ")");
    }
}

class B extends A {
    B(String s, float f) {
        super('c',6);
        System.out.println("B(" + s + "," + f + ")");
    }
}

class C extends A{
    private char c;
    private int i;
    C(char a, int j){
        super(a,j);
        c = a;
        i = j;
    }
    B b = new B("hello",1f);  // will then construct another A and then a B
}
public class ex7 {
    public static void main(String[] args) {
        C c = new C('b',1); 
        
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200715173010.png)

**ç»ƒä¹  9ï¼šåˆ›å»ºä¸€ä¸ªRootç±»ï¼Œä»¤å…¶å«æœ‰åä¸ºComponent1ã€Component 2ã€Component3çš„ç±»çš„å„ä¸€ä¸ªå®ä¾‹ã€‚ä»Rootä¸­æ´¾ç”Ÿä¸€ä¸ªç±»Stemï¼Œä¹Ÿå«æœ‰ä¸Šè¿°å„â€œç»„æˆéƒ¨åˆ†â€ã€‚æ‰€æœ‰çš„ç±»éƒ½åº”å¸¦æœ‰å¯æ‰“å°å‡ºç±»çš„ç›¸å…³ä¿¡æ¯çš„é»˜è®¤æ„é€ å™¨**

```java
class Component1 {
    Component1() {
        System.out.println("Component1()");
    }
}

class Component2 {
    Component2() {
        System.out.println("Component2()");
    }
}

class Component3 {
    Component3() {
        System.out.println("Component3()");
    }
}

class Root {
    Component1 c1root;
    Component2 c2root;
    Component3 c3root;

    Root() {
        System.out.println("Root()");
    }
}

class Stem extends Root {
    Component1 c1stem;
    Component2 c2stem;
    Component3 c3stem;

    Stem() {
        System.out.println("Stem()");
    }
    
}
public class ex10 {
    public static void main(String[] args) {
        Stem s = new Stem();
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200715173716.png)

**ç»ƒä¹  13: åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ƒåº”å¸¦æœ‰ä¸€ä¸ªè¢«é‡è½½äº†ä¸‰æ¬¡çš„æ–¹æ³•ã€‚ç»§æ‰¿äº§ç”Ÿä¸€ä¸ªæ–°ç±»ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªè¯¥æ–¹æ³•çš„æ–°çš„é‡è½½å®šä¹‰ï¼Œå±•ç¤ºè¿™å››ä¸ªæ–¹æ³•åœ¨å¯¼å‡ºç±»ä¸­éƒ½æ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚**

```java
class ThreeWay {
	void number(byte b) { 
        System.out.println(b); 
    }
	void number(short s) { 
        System.out.println(s); 
    }
	void number(int i) { 
        System.out.println(i); 
    }
}

class Overload extends ThreeWay {
	void number(float f) { 
        System.out.println(f); 
    }
}

public class ex13{
    public static void main(String[] args) {
		Overload ov = new Overload();
		ov.number((byte)0);
		ov.number((short)1);
		ov.number(2);
		ov.number(3.0f);
	}
}
```

**ç»ƒä¹  16ï¼šåˆ›å»ºä¸€ä¸ªåä¸ºAmphibiançš„ç±»ï¼Œç”±æ­¤ç»§æ‰¿äº§ç”Ÿä¸€ä¸ªæˆä¸ºFrogçš„ç±»ï¼Œåœ¨åŸºç±»ä¸­è®¾ç½®é€‚å½“çš„æ–¹æ³•ï¼Œåœ¨mainï¼ˆï¼‰ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª Frog <u>å‘ä¸Šè½¬å‹</u>è‡³ Amphibianï¼Œ ç„¶åè¯´æ˜æ‰€æœ‰æ–¹æ³•éƒ½å¯å·¥ä½œã€‚**

```java
class Amphibian{
     public void moveInWater() {
         System.out.println("moveInWater");
     }
     public void moveInLand() {
         System.out.println("moveInLand");
     }
}
class Frog extends Amphibian{

}

public class ex16 {
    public static void main(String[] args) {
        Amphibian amphibian = new Frog();
        amphibian.moveInWater();
        amphibian.moveInLand();
    }
}
```

**ç»ƒä¹  17ï¼šä¿®æ”¹ç»ƒä¹  16ï¼Œä½¿Frogè¦†ç›–åŸºç±»ä¸­æ–¹æ³•çš„å®šä¹‰ã€‚è¯·ç•™å¿ƒmainä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆ**

```java
package Thinking_in_Java.ReusingClass;

class Amphibian {
    public void moveInWater() {
        System.out.println("moveInWater");
    }

    public void moveInLand() {
        System.out.println("moveInLand");
    }
}

class Frog extends Amphibian {
    public void moveInWater() {
        System.out.println("Frog.moveInWater");
    }

    public void moveInLand() {
         System.out.println("Frog.moveInLand");
    }
}

public class ex17 {
    public static void main(String[] args) {
        Amphibian amphibian = new Frog();
        amphibian.moveInWater();
        amphibian.moveInLand();
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200715174801.png)

**ç»ƒä¹  18ï¼šåˆ›å»ºä¸€ä¸ªå«æœ‰ static final åŸŸå’Œ final åŸŸçš„ç±»ï¼Œè¯´æ˜äºŒè€…é—´çš„åŒºåˆ«ã€‚**

```java
import java.util.Random;

class Test {
    Test() {
        System.out.println("Test()");
    }
}

class Difference {
    private String name;

    public Difference(String s) {
        name = s;
    }

    static final Test sft = new Test(); // constant reference address åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡
    private final Test ft = new Test(); // æ¯æ¬¡åˆå§‹åŒ–éƒ½æ‰§è¡Œï¼Œä½†æ˜¯ä¸èƒ½è¢«æ”¹å˜
    static final String SFS = "static final"; // class constant
    private final String fs = "final";
    private static Random rand = new Random();
    static final int SFI = rand.nextInt(); // class constant
    private final int fi = rand.nextInt();

    public String toString() {
        return (name + ": " + sft + ", " + ft + ", " + SFS + ", " + fs + ", " + SFI + ", " + fi);
    }

}
public class ex18 {
    public static void main(String[] args) {
        System.out.println("new Difference(\"d1\")");
        Difference d1 = new Difference("d1");
        System.out.println("new Difference(\"d2\")");
        Difference d2 = new Difference("d2");
        System.out.println("new Difference(\"d3\")");
        Difference d3 = new Difference("d3");

        System.out.println(d1);
        System.out.println(d2);
        System.out.println(d3);
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200715175553.png)

**ç»ƒä¹  19 ï¼š åˆ›å»ºä¸€ä¸ªå«æœ‰æŒ‡å‘æŸå¯¹è±¡çš„ç©ºç™½finalå¼•ç”¨ç±»ã€‚åœ¨æ‰€æœ‰æ„é€ å™¨å†…éƒ¨éƒ½æ‰§è¡Œç©ºç™½finalçš„åˆå§‹åŒ–æ“ä½œã€‚è¯´æ˜Javaç¡®ä¿finalåœ¨ä½¿ç”¨å‰å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”ä¸€æ—¦è¢«åˆå§‹åŒ–å³æ— æ³•æ”¹å˜**

```java
package Thinking_in_Java.ReusingClass;

class Poppet {
    private int i;

    Poppet(int k) {
        i = k;
    }

    public String toString() {
        return ("Poppet " + i);
    }
}

class BlankFinalEx {
    private final Poppet p; // Blank final reference
    // Blank finals MUST be initialized in the constructor:

    public BlankFinalEx() {
        p = new Poppet(1); // Initialize blank final reference
    }

    public BlankFinalEx(int x) {
        p = new Poppet(x); // Initialize blank final reference
    }

    
}
public class ex19 {
    public static void main(String[] args) {
        BlankFinalEx b1 = new BlankFinalEx();
        BlankFinalEx b2 = new BlankFinalEx(47);
        // b1.p = new Poppet(2); // Errors: cannot assign values to final variables p
        // b2.p = new Poppet(3);
        System.out.println("b1.p: " + b1.p);
        System.out.println("b2.p: " + b2.p);
    }
}
```

**ç»ƒä¹  21ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å« final æ–¹æ³•çš„ç±»ã€‚ç”±æ­¤ç»§æ‰¿äº§ç”Ÿä¸€ä¸ªç±»å¹¶å°è¯•è¦†ç›–è¯¥æ–¹æ³•ï¼ˆæ— æ³•è¦†ç›–ï¼‰**

```java
class WithFinal {
    final void f() {
        System.out.println("WithFinal.f()");
    }

    void g() {
        System.out.println("WithFinal.g()");
    }

    final void h() {
        System.out.println("WitFinal.h()");
    }
}

class OverrideFinal extends WithFinal {
    // attempt to override:
    // public final void f() { System.out.println("OverrideFinal.f()"); } // no can do

    @Override
    public void g() {
        System.out.println("OverrideFinal.g()");
    } // OK, not final

    // final void h(); { print("OVerrideFinal.h()"); } // cannot override final
}

public class ex21 {
    public static void main(String[] args) {
        OverrideFinal of = new OverrideFinal();
        of.f();
        of.g();
        of.h();
        // Upcast å‘ä¸Šè½¬å‹:
        WithFinal wf = of;
        wf.f();
        wf.g();
        wf.h();
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200715180819.png)

![](https://gitee.com/veal98/images/raw/master/img/20200715180952.png)

**ç»ƒä¹  22ï¼š åˆ›å»ºä¸€ä¸ªfinalç±»å¹¶è¯•ç€ç»§æ‰¿å®ƒï¼ˆæ— æ³•ç»§æ‰¿ï¼‰**

![](https://gitee.com/veal98/images/raw/master/img/20200715181222.png)

## Polymorphism å¤šæ€

**ç»ƒä¹  1ï¼šåˆ›å»ºä¸€ä¸ª Cycle ç±»ï¼Œå®ƒå…·æœ‰å­ç±» Unicycleï¼ŒBicycle å’Œ TriCycleã€‚æ¼”ç¤ºæ¯ä¸€ä¸ªç±»å‹çš„å®ä¾‹éƒ½å¯ä»¥ç»ç”±rideï¼ˆï¼‰å‘ä¸Šè½¬å‹ä¸º Cycleã€‚**

```java
class Cycle{
    private String name = "Cycle";

    public static void travel(Cycle c) {
        System.out.println("Cycle.ride() " + c);
    }

    public String toString() {
        return this.name;
    }
}

class Unicycle extends Cycle {
    private String name = "Unicycle";

    public String toString() {
        return this.name;
    }
}

class Bicycle extends Cycle {
    private String name = "Bicycle";

    public String toString() {
        return this.name;
    }

}

class Tricycle extends Cycle {
    private String name = "Tricycle";

    public String toString() {
        return this.name;
    }
}

public class ex1 {
    public static void ride(Cycle c){
        c.travel(c);
    }
    public static void main(String[] args){
        Cycle u = new Unicycle();
        Cycle b = new Bicycle();
        Cycle t = new Tricycle();
        ride(u);
        ride(b);
        ride(t);
    }
}
```

**ç»ƒä¹  2ï¼š æŒ‰ç…§ä¸‹å›¾åˆ›å»ºç»§æ‰¿å…³ç³»å¹¶ä¸ºå­ç±»çš„æ–¹æ³•æ·»åŠ @Overrideæ³¨è§£ã€‚**

<img src="https://gitee.com/veal98/images/raw/master/img/20200717142442.png" style="zoom:80%;" />

```java
class Shape{
    public void draw() {}
	public void erase() {}
}

class Circle extends Shape {
    @Override
    public void draw() {
        System.out.println("Circle.draw()");
    }
    @Override
    public void erase() {
        System.out.println("Circle.erase()");
    }
}

class Square extends Shape {
    @Override 
    public void draw() { 
        System.out.println("Square.draw()"); 
    }
    @Override 
    public void erase() { 
        System.out.println("Square.erase()"); 
    }
 }

class Triangle extends Shape {
    @Override 
    public void draw() { 
        System.out.println("Triangle.draw()"); 
    }
    @Override 
    public void erase() { 
        System.out.println("Triangle.erase()"); 
    }
}


public class ex2 {

    public static void main(String[] args) {
        Shape[] s = {new Circle(), new Square(), new Triangle()};
        // Make polymorphic method calls:
        for(Shape shp : s)
            shp.draw();
    }
}
```

> ğŸ’¡ åŠ ä¸åŠ  `@Override` æ³¨è§£çš„æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„

**ç»ƒä¹  10: åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ–¹æ³•çš„åŸºç±»ã€‚åœ¨ç¬¬ä¸€ä¸ªæ–¹æ³•ä¸­å¯ä»¥è°ƒç”¨ç¬¬äºŒä¸ªæ–¹æ³•ã€‚ç„¶åäº§ç”Ÿä¸€ä¸ªç»§æ‰¿è‡ªè¯¥åŸºç±»çš„å¯¼å‡ºç±»ï¼Œä¸”è¦†ç›–åŸºç±»ä¸­çš„ç¬¬äºŒä¸ªæ–¹æ³•ã€‚ä¸ºè¯¥å¯¼å‡ºç±»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°†ä»–å‘ä¸Šè½¬å‹åˆ°åŸºç±»å¹¶è°ƒç”¨ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œè§£é‡Šå‘ç”Ÿçš„æƒ…å†µã€‚**

```java
class  A{
    public void m1(){
        System.out.println("Inside m1, calling m2");
        m2();
    }
    public void m2(){
        System.out.println("Inside A.m2");
    }
}

class B extends A{
    public void m2(){
        System.out.println("Inside B.m2");
    }
}

public class ex10 {
    public static void main(String[] args){
        A b = new B();
        b.m1();

        A a = new A();
        a.m1(); 
    }
}
```

![](https://gitee.com/veal98/images/raw/master/img/20200717144449.png)



## ğŸ“š References

- ã€ŠJava ç¼–ç¨‹æ€æƒ³ - ç¬¬å››ç‰ˆ - ä¸­æ–‡ç¿»è¯‘ç‰ˆã€‹

- [Thinking in Java 4th Edition (Bruce Eckel) è¯¾åä¹ é¢˜ç­”æ¡ˆ](http://greggordon.org/java/tij4/solutions.htm)
- [Java ç¼–ç¨‹æ€æƒ³ç¬¬å››ç‰ˆç»ƒä¹ ](https://blog.csdn.net/lelouch_j_zs/category_7270086.html)