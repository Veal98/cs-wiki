# ğŸ‘‘ ç»„åˆä¸ç»§æ‰¿

---

## 1. ç»„åˆ

ğŸ’¬ ç›´æ¥ä¸Šä»£ç ï¼š

```java
public class Employee{
    private String name;
    private Integer age;
    private Department department; // ç»„åˆ
    ......
}
```

```java
public class Department{
	private Integer id;
	private String dname;
}
```

âœ **ç»ƒä¹ : åˆ›å»ºä¸€ä¸ªç®€å•çš„ç±»ï¼Œåœ¨ç¬¬äºŒä¸ªç±»ä¸­ç»„åˆç¬¬ä¸€ä¸ªç±»ï¼Œå¹¶è¿ç”¨æƒ°æ€§åˆå§‹åŒ–æ¥å®ä¾‹åŒ–è¿™ä¸ªå¯¹è±¡**

```java
class Engine {
    private String s; //  ç±»çš„ç»„åˆ

    Engine() {
        System.out.println("Engine()");
        s = "Constructed";
    }

    public String toString() {
        return s;
    }
}

public class Airplane {
    private String fuselage, wings, tail; //  ç±»çš„ç»„åˆ
    private Engine e; // ç±»çš„ç»„åˆ

    public Airplane() {
        System.out.println("Inside Airplane()");
        fuselage = "Body";
        wings = "Airfoils";
        tail = "Empennage";
    }

    public String toString() {
        if (e == null) // æƒ°æ€§åˆå§‹åŒ–
            e = new Engine();
        return "fuselage = " + fuselage + ", " + "wings = " + wings + ", " + "tail = " + tail + ", " + "Engine = " + e;
    }

    public static void main(String[] args) {
        Airplane N1234 = new Airplane();
        System.out.println(N1234);  
    }
}
```

## 2. ç»§æ‰¿ 

### â‘  å®šä¹‰å­ç±» extends

å…³é”®å­— `extends` è¡¨æ˜æ­£åœ¨æ„é€ çš„æ–°ç±»æ´¾ç”Ÿäºä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ã€‚ 

- å·²å­˜åœ¨çš„ç±»ç§°ä¸º**è¶…ç±» ( superclass)**ã€ åŸºç±»ï¼ˆ base class) æˆ–çˆ¶ç±»ï¼ˆparent class); 
- æ–°ç±»ç§°ä¸º**å­ç±»ï¼ˆsubclass)** ã€æ´¾ç”Ÿç±» ( derived class) æˆ–å­©å­ç±»ï¼ˆchild class)ã€‚

>ğŸ“œ Java ä¸ C++ å®šä¹‰ç»§æ‰¿ç±»çš„æ–¹å¼ååˆ†ç›¸ä¼¼ã€‚Java ç”¨å…³é”®å­— `extends` ä»£æ›¿äº† C++ ä¸­çš„å†’å·ï¼ˆ`:`ï¼‰ã€‚**åœ¨ Java ä¸­ï¼Œ æ‰€æœ‰çš„ç»§æ‰¿éƒ½æ˜¯å…¬æœ‰ç»§æ‰¿**ï¼Œ è€Œæ²¡æœ‰ C++ ä¸­çš„ç§æœ‰ç»§æ‰¿å’Œä¿æŠ¤ç»§æ‰¿ .

ğŸ’¬ ç¤ºä¾‹ä»£ç å¦‚ä¸‹:

- **è¶…ç±»**ï¼š

    ```java
    class Employee{
        private String name;
        private double salary;
        private LocalDate hireDay;

        public Employee(String name, double salary, int year, int month, int day){
            this.name = name;
            this.salary = salary;
            hireDay = LocalDate.of(year,month,day);
        }
        public String getName(){
            return this.name;
        }
        public double getSalary(){
            return this.salary;
        }
        public LocalDate getHireDay(){
            return this.hireDay;
        }
        public void raiseSalary(double byPercent){
            double raise = salary * byPercent / 100;
            salary += raise;
        }
    }
    ```

- **å­ç±»**:

  ```java
  public class Manager extends Employee{
      private double bonus;
      ...
  	public void setBonos(double bonus){
      	this.bonus = bonus;
      }
  }
  ```

  å°½ç®¡åœ¨ `Manager` ç±»ä¸­æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰ `getName `å’Œ `getHireDay `ç­‰æ–¹æ³•ï¼Œ ä½†å±äº `Manager `ç±»çš„å¯¹è±¡å´å¯ä»¥ä½¿ç”¨å®ƒä»¬ï¼Œè¿™æ˜¯å› ä¸º `Manager `ç±»è‡ªåŠ¨åœ°ç»§æ‰¿äº†è¶…ç±» `Employee` ä¸­çš„ è¿™äº›æ–¹æ³•ã€‚ åŒæ ·ï¼Œ ä»è¶…ç±»ä¸­è¿˜ç»§æ‰¿äº† `name`ã€ `salary `å’Œ `hireDay `è¿™ 3 ä¸ªåŸŸã€‚è¿™æ ·ä¸€æ¥ï¼Œ æ¯ä¸ª `Manager `ç±»å¯¹è±¡å°±åŒ…å«äº† 4 ä¸ªåŸŸï¼š`name`ã€ `salary`ã€`hireDay `å’Œ` bonus`ã€‚

### â‘¡ è¦†ç›–æ–¹æ³•

å­ç±»å¯ä»¥è¦†ç›–è¶…ç±»ä¸­çš„æ–¹æ³• :

```java
class Employee{
    ......
    private String salary;
    ......
    public double getSalary(){
        return this.salary;
    }
    ......
}

public class Manager extends Employee{
	......
    private double bonus;
    ......
        
	public double getSalary(){
        return salary + bonus; // error
    }
}
```

æ˜¾ç„¶, ä¸Šè¿°æ–¹æ³•æ˜¯æœ‰é”™çš„ âŒ , å› ä¸º**å°½ç®¡æ¯ä¸ª `Manager `å¯¹è±¡éƒ½æ‹¥æœ‰ä¸€ä¸ªåä¸º `salary `çš„åŸŸï¼Œ ä½† `Manager` ç±»å¹¶ä¸èƒ½å¤Ÿç›´æ¥åœ°è®¿é—® `salary `åŸŸ**ã€‚åªæœ‰ `Employee `ç±»çš„æ–¹æ³•æ‰èƒ½å¤Ÿè®¿é—®ç§æœ‰éƒ¨åˆ†ã€‚<u>å¦‚æœ `Manager `ç±»çš„æ–¹æ³•ä¸€å®šè¦è®¿é—®ç§æœ‰åŸŸï¼Œ å°±å¿…é¡»å€ŸåŠ©äºå…¬æœ‰çš„æ¥å£ï¼Œ `Employee `ç±»ä¸­çš„ å…¬æœ‰æ–¹æ³• `getSalary `æ­£æ˜¯è¿™æ ·ä¸€ä¸ªæ¥å£ã€‚</u>

ä¸‹é¢ä»£ç æ˜¯æ­£ç¡®çš„: âœ…

```java
public class Manager extends Employee{
	...
	public double getSalary(){
        return super.getSalary() + bonus;
    }
}
```

> ğŸ“œ æœ‰äº›äººè®¤ä¸º `super` ä¸ `this` å¼•ç”¨æ˜¯ç±»ä¼¼çš„æ¦‚å¿µï¼Œ å®é™…ä¸Šï¼Œè¿™æ ·æ¯”è¾ƒå¹¶ä¸å¤ªæ°å½“ã€‚è¿™æ˜¯å› ä¸º **`super` ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œ ä¸èƒ½å°† `super` èµ‹ç»™å¦ä¸€ä¸ªå¯¹è±¡å˜é‡ï¼Œ å®ƒåªæ˜¯ä¸€ä¸ªæŒ‡ç¤ºç¼– è¯‘å™¨è°ƒç”¨è¶…ç±»æ–¹æ³•çš„ç‰¹æ®Šå…³é”®å­—**ã€‚

åœ¨å­ç±»ä¸­å¯ä»¥å¢åŠ åŸŸã€ å¢åŠ æ–¹æ³•æˆ–è¦†ç›–è¶…ç±»çš„æ–¹æ³•ï¼Œç„¶è€Œç»å¯¹ä¸èƒ½åˆ é™¤ç»§æ‰¿çš„ä»»ä½•åŸŸå’Œæ–¹æ³•ã€‚ 

> ğŸ“œ åœ¨ Java ä¸­ä½¿ç”¨å…³é”®å­— `super `è°ƒç”¨è¶…ç±»çš„æ–¹æ³•ï¼Œè€Œåœ¨ C++ ä¸­åˆ™é‡‡ç”¨è¶…ç±»ååŠ  ä¸Š`::` æ“ä½œç¬¦çš„å½¢å¼ã€‚ä¾‹å¦‚ï¼Œ åœ¨ `Manager `ç±»çš„ `getSalary `æ–¹æ³•ä¸­ï¼Œåº”è¯¥å°† `super.getSalary` æ›¿æ¢ä¸º `Employee::getSalary`

ğŸš¨ **åœ¨è¦†ç›–ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå­ç±»æ–¹æ³•ä¸èƒ½ä½äºè¶…ç±»æ–¹æ³•çš„å¯è§æ€§ã€‚ç‰¹åˆ«æ˜¯ï¼Œ å¦‚æœè¶…ç±»æ–¹æ³•æ˜¯ `public`, å­ç±»æ–¹æ³•ä¸€å®šè¦å£°æ˜ä¸º `public`ã€‚**ç»å¸¸ä¼šå‘ç”Ÿè¿™ç±»é”™è¯¯ï¼šåœ¨å£°æ˜å­ç±»æ–¹æ³•çš„æ—¶å€™ï¼Œ é—æ¼äº† `public `ä¿®é¥°ç¬¦ã€‚æ­¤æ—¶ï¼Œç¼–è¯‘å™¨å°†ä¼šæŠŠå®ƒè§£é‡Šä¸ºè¯•å›¾æä¾›æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™ã€‚

![](https://gitee.com/veal98/images/raw/master/img/20200718211413.png)

### â‘¢ å­ç±»æ„é€ å‡½æ•°

```java
public class Manager extends Employee{
    ......
    public Manager(String name, double salary, int year, int month, int day){
        super(name, salary, year, month, day);
        bonus = 0;
    }
    ......
}
```

è¯­å¥ `super(n, s, year, month, day); `æ˜¯ <u>è°ƒç”¨è¶…ç±» `Employee `ä¸­å«æœ‰ `n`ã€`s`ã€`year`ã€`month `å’Œ `day `å‚æ•°çš„æ„é€ å‡½æ•°</u>  çš„ç®€å†™å½¢å¼ã€‚

ç”±äº `Manager `ç±»çš„æ„é€ å™¨ä¸èƒ½è®¿é—® `Employee `ç±»çš„ç§æœ‰åŸŸï¼Œ æ‰€ä»¥å¿…é¡»åˆ©ç”¨ `Employee `ç±» çš„æ„é€ å™¨å¯¹è¿™éƒ¨åˆ†ç§æœ‰åŸŸè¿›è¡Œåˆå§‹åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `super `å®ç°å¯¹è¶…ç±»æ„é€ å™¨çš„è°ƒç”¨ã€‚ğŸ”º **ä½¿ç”¨ `super `è°ƒç”¨æ„é€ å™¨çš„è¯­å¥å¿…é¡»æ˜¯å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€æ¡è¯­å¥**ã€‚ 

**å¦‚æœå­ç±»çš„æ„é€ å™¨æ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨è¶…ç±»çš„æ„é€ å™¨ï¼Œ åˆ™å°†è‡ªåŠ¨åœ°è°ƒç”¨è¶…ç±»é»˜è®¤çš„æ„é€ å‡½æ•°ï¼ˆæ— å‚æ„é€ å‡½æ•°ï¼‰**ã€‚ å¦‚æœè¶…ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°ï¼Œ å¹¶ä¸”åœ¨å­ç±»çš„æ„é€ å™¨ä¸­åˆæ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨è¶…ç±»çš„å…¶ä»–æ„é€ å™¨ï¼Œåˆ™ Java ç¼–è¯‘å™¨å°†æŠ¥å‘Šé”™è¯¯ã€‚

ğŸš¨ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š**åŸºç±»çš„æ„é€ å‡½æ•°æ€»æ˜¯å…ˆäºå­ç±»çš„æ„é€ å‡½æ•°æ‰§è¡Œ**ã€‚

ğŸ“œ å…³é”®å­— `this` æœ‰ä¸¤ä¸ªç”¨é€”ï¼š ä¸€æ˜¯å¼•ç”¨éšå¼å‚æ•°ï¼ŒäºŒæ˜¯è°ƒç”¨è¯¥ç±»å…¶ä»–çš„æ„é€ å™¨ ã€‚**åŒæ ·ï¼Œ`super `å…³é”®å­—ä¹Ÿæœ‰ä¸¤ä¸ªç”¨é€”ï¼šä¸€æ˜¯è°ƒç”¨è¶…ç±»çš„æ–¹æ³•ï¼ŒäºŒæ˜¯è°ƒç”¨è¶…ç±»çš„æ„é€ å™¨ã€‚** 

åœ¨è°ƒç”¨æ„é€ å™¨çš„æ—¶å€™ï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—çš„ä½¿ç”¨æ–¹å¼å¾ˆç›¸ä¼¼ã€‚è°ƒç”¨æ„é€ å™¨çš„è¯­å¥åªèƒ½ä½œä¸ºå¦ ä¸€ä¸ªæ„é€ å™¨çš„ç¬¬ä¸€æ¡è¯­å¥å‡ºç°ã€‚æ„é€ å‚æ•°æ—¢å¯ä»¥ä¼ é€’ç»™æœ¬ç±»ï¼ˆ `this`) çš„å…¶ä»–æ„é€ å™¨ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç»™è¶…ç±»ï¼ˆ`super `) çš„æ„é€ å™¨ã€‚

> ğŸ“œåœ¨ C++ çš„æ„é€ å‡½æ•°ä¸­ï¼Œä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨è¯­æ³•è°ƒç”¨è¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œ è€Œä¸è°ƒç”¨ `super`ã€‚åœ¨ C++ ä¸­ï¼Œ `Manager `çš„æ„é€ å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š
>
> ```cpp
> Manager::Manager(String name, double salary, int year, int month,int day): Employee(name, salary,year,month,day){
> 	bonus = 0;
> }
> ```

ä¸‹é¢ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼Œå…¶åŠŸèƒ½ä¸ºåˆ›å»ºä¸€ä¸ªæ–°ç»ç†ï¼Œå¹¶è®¾ç½®ä»–çš„å¥–é‡‘ï¼š 

```java
Manager boss = new Manager("Carl Cracker", 80000, 1987, 12, 15); 
boss.setBonus(5000) ; 
```

ä¸‹é¢å®šä¹‰ä¸€ä¸ªåŒ…å« 3 ä¸ªé›‡å‘˜çš„æ•°ç»„ï¼š 

```java
Employee[] staff = new Employee[3]; 
```

å°†ç»ç†å’Œé›‡å‘˜éƒ½æ”¾åˆ°æ•°ç»„ä¸­ï¼š

```java
staff[0] = boss; 
staff[1] = new Employee("Harry Hacker", 50000, 1989, 10, 1); 
staff[2] = new Employee("Tony Tester" , 40000, 1990, 3, 15); 
```

è¾“å‡ºæ¯ä¸ªäººçš„è–ªæ°´ï¼š 

```java
for (Employee e : staff) 
    System.out.println(e.getName() + " " + e.getSalary(); 
```

è¿è¡Œè¿™æ¡å¾ªç¯è¯­å¥å°†ä¼šè¾“å‡ºä¸‹åˆ—æ•°æ®ï¼š 

> Carl Cracker 85000.0 
>
> Harry Hacker 50000.0 
>
> Tommy Tester 40000.0 

`e.getSalary()` è°ƒç”¨èƒ½å¤Ÿç¡®å®šåº”è¯¥æ‰§è¡Œå“ªä¸ª `getSalary` æ–¹æ³•ã€‚<u>å½“ `e` å¼•ç”¨ `Employee `å¯¹è±¡æ—¶ï¼Œ `e.getSalary( )` è°ƒç”¨çš„æ˜¯ `Employee `ç±»ä¸­çš„ `getSalary `æ–¹æ³•ï¼›å½“ `e` å¼•ç”¨ `Manager` å¯¹è±¡æ—¶ï¼Œ`e.getSalary( )` è°ƒç”¨çš„æ˜¯ `Manager `ç±»ä¸­çš„ `getSalary `æ–¹æ³•</u>ã€‚**è™šæ‹ŸæœºçŸ¥é“ `e` å®é™…å¼•ç”¨çš„å¯¹è±¡ç±»å‹ï¼Œå› æ­¤èƒ½å¤Ÿæ­£ç¡®åœ°è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚** 

ä¸€ä¸ªå¯¹è±¡å˜é‡æˆ–è€…è¯´å¯¹è±¡çš„å¼•ç”¨å¯ä»¥æŒ‡ç¤ºå¤šç§å®é™…ç±»å‹çš„ç°è±¡è¢«ç§°ä¸º**å¤šæ€ï¼ˆ polymorphism)**ã€‚ åœ¨è¿è¡Œæ—¶èƒ½å¤Ÿè‡ªåŠ¨åœ°é€‰æ‹©è°ƒç”¨å“ªä¸ªæ–¹æ³•çš„ç°è±¡ç§°ä¸º**åŠ¨æ€ç»‘å®šï¼ˆ dynamic binding ï¼‰**ã€‚

> ğŸ“œ åœ¨ Java ä¸­ï¼Œ ä¸éœ€è¦å°†æ–¹æ³•å£°æ˜ä¸ºè™šæ‹Ÿæ–¹æ³•ã€‚åŠ¨æ€ç»‘å®šæ˜¯é»˜è®¤çš„å¤„ç†æ–¹å¼ã€‚å¦‚æœä¸å¸Œæœ›è®©ä¸€ä¸ªæ–¹æ³•å…·æœ‰è™šæ‹Ÿç‰¹å¾ï¼Œ å¯ä»¥å°†å®ƒæ ‡è®°ä¸º `final`ï¼ˆæœ¬ç« ç¨åå°†ä»‹ç»å…³é”®å­— finalï¼‰

### â‘£ ç»§æ‰¿å±‚æ¬¡

ç”±ä¸€ä¸ªå…¬å…±è¶…ç±»æ´¾ç”Ÿå‡ºæ¥çš„æ‰€æœ‰ç±»çš„é›†åˆè¢«ç§°ä¸º**ç»§æ‰¿å±‚æ¬¡ï¼ˆ inheritance hierarchy )**ã€‚åœ¨ç»§æ‰¿å±‚æ¬¡ä¸­ï¼Œ ä»æŸä¸ªç‰¹å®šçš„ç±»åˆ°å…¶ç¥–å…ˆçš„è·¯å¾„è¢«ç§°ä¸ºè¯¥ç±»çš„**ç»§æ‰¿é“¾ ( inheritance chain)** ã€‚

![](https://gitee.com/veal98/images/raw/master/img/20200619104058.png)

> ğŸ“œ **Java ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œæ”¯æŒå¤šæ¥å£ã€‚**

### â‘¤ å¤šæ€

â­ **ç¨‹åºä¸­å‡ºç°è¶…ç±»å¯¹è±¡çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ç”¨å­ç±»å¯¹è±¡ç½®æ¢**ã€‚

```java
Employee e;
e = new Employee(. . .); // Employee object expected
e = new Manager(. . .); // OK, Manager can be used as well
```

ç„¶è€Œï¼Œ**ä¸èƒ½å°†ä¸€ä¸ªè¶…ç±»çš„å¼•ç”¨èµ‹ç»™å­ç±»å˜é‡**ã€‚ä¾‹å¦‚ï¼š

```java
Manager boss = new Manager(. . .);
Employee[] staff = new Employee[3];
staff[0] = boss; 
staff[1] = new Employee("Harry Hacker", 50000, 1989, 10, 1); 
staff[2] = new Employee("Tony Tester" , 40000, 1990, 3, 15); 

Manager m = staff[1]; // Error
```

åŸå› å¾ˆæ¸…æ¥šï¼šä¸æ˜¯æ‰€æœ‰çš„é›‡å‘˜éƒ½æ˜¯ç»ç†ã€‚

### â‘¥ å¯åå˜è¿”å›ç±»å‹

å‰é¢æ›¾ç»è¯´è¿‡ï¼Œ æ–¹æ³•çš„åå­—å’Œå‚æ•°åˆ—è¡¨ç§°ä¸ºæ–¹æ³•çš„ç­¾åã€‚ä¾‹å¦‚ï¼Œ `f(int)` å’Œ `f(String) `æ˜¯ä¸¤ä¸ªå…·æœ‰ç›¸åŒåå­—ï¼Œ ä¸åŒç­¾åçš„æ–¹æ³•ã€‚å¦‚æœåœ¨å­ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªä¸è¶…ç±»ç­¾åç›¸åŒçš„æ–¹ æ³•ï¼Œ é‚£ä¹ˆå­ç±»ä¸­çš„è¿™ä¸ªæ–¹æ³•å°±è¦†ç›–äº†è¶…ç±»ä¸­çš„è¿™ä¸ªç›¸åŒç­¾åçš„æ–¹æ³•ã€‚ 

ä¸è¿‡ï¼Œè¿”å›ç±»å‹ä¸æ˜¯ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œ å› æ­¤ï¼Œåœ¨è¦†ç›–æ–¹æ³•æ—¶ï¼Œ ä¸€å®šè¦ä¿è¯è¿”å›ç±»çš„å…¼å®¹æ€§ã€‚ **å…è®¸å­ç±»å°†è¦†ç›–æ–¹æ³•çš„è¿”å›ç±»å‹å®šä¹‰ä¸ºåŸè¿”å›ç±»å‹çš„å­ç±»å‹**ã€‚

ä¾‹å¦‚ï¼Œ å‡è®¾ `Employee` ç±»æœ‰ 

```java
class Employee{
    public Employee getBuddy(){ . . . }
}

```

åœ¨åé¢çš„å­ç±» `Manager` ä¸­ï¼Œ å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ‰€ç¤ºçš„æ–¹å¼è¦†ç›–è¿™ä¸ªæ–¹æ³• 

```java
class Manager extends Employee{
	public Manager getBuddy(){ . . . } // OK to change return type
}
```

æˆ‘ä»¬è¯´ï¼Œ**è¿™ä¸¤ä¸ª `getBuddy` æ–¹æ³•å…·æœ‰å¯åå˜çš„è¿”å›ç±»å‹**ã€‚

### â‘¦ final å…³é”®å­—

#### â…  final å®ä¾‹åŸŸ

â­ å¯ä»¥å°†å®ä¾‹åŸŸå®šä¹‰ä¸º `final`ã€‚ **æ„å»ºå¯¹è±¡æ—¶å¿…é¡»åˆå§‹åŒ–è¿™æ ·çš„åŸŸ**ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ å¿…é¡»ç¡®ä¿åœ¨æ¯ä¸€ä¸ªæ„é€ å‡½æ•°æ‰§è¡Œä¹‹åï¼Œè¿™ä¸ªåŸŸçš„å€¼è¢«è®¾ç½®ï¼Œ **å¹¶ä¸”åœ¨åé¢çš„æ“ä½œä¸­ï¼Œ ä¸èƒ½å¤Ÿå†å¯¹å®ƒè¿›è¡Œä¿®æ”¹**ã€‚ 

ä¾‹å¦‚ï¼Œå¯ä»¥å°† `Test` ç±»ä¸­çš„ `age` åŸŸå£°æ˜ä¸º` final`, å› ä¸ºåœ¨å¯¹è±¡æ„å»ºä¹‹åï¼Œè¿™ä¸ªå€¼ä¸ä¼šå†è¢«ä¿®æ”¹ï¼Œ å³æ²¡æœ‰ `setAge` æ–¹æ³•ã€‚

```java
private final String sex;
```

`final` ä¿®é¥°ç¬¦å¤§éƒ½åº”ç”¨äºåŸºæœ¬ ï¼ˆprimitive ) ç±»å‹åŸŸï¼Œæˆ–ä¸å¯å˜ï¼ˆimmutable) ç±»çš„åŸŸï¼ˆå¦‚æœç±» ä¸­çš„æ¯ä¸ªæ–¹æ³•éƒ½ä¸ä¼šæ”¹å˜å…¶å¯¹è±¡ï¼Œ è¿™ç§ç±»å°±æ˜¯ä¸å¯å˜çš„ç±»ã€‚ä¾‹å¦‚ï¼Œ`String `ç±»å°±æ˜¯ä¸€ä¸ªä¸å¯å˜çš„ç±»ã€‚ **å¯¹äºå¯å˜çš„ç±»ï¼Œ ä½¿ç”¨  `final` ä¿®é¥°ç¬¦å¯èƒ½ä¼šå¯¹è¯»è€…é€ æˆæ··ä¹±**ã€‚ä¾‹å¦‚ï¼š

```java
private final StringBuilder sex;
```

åœ¨ Test æ„é€ å‡½æ•°ä¸­ä¼šåˆå§‹åŒ–ä¸ºï¼š

```java
sex = new StringBuilder();
```

ğŸš© **`final` å…³é”®å­—åªæ˜¯è¡¨ç¤ºå­˜å‚¨åœ¨ `sex` å˜é‡ä¸­çš„å¯¹è±¡å¼•ç”¨ä¸ä¼šå†æŒ‡ç¤ºå…¶ä»– `StringBuilder `å¯¹è±¡ã€‚ä¸è¿‡è¿™ä¸ªå¯¹è±¡å¯ä»¥æ›´æ”¹**ï¼š

```java
public void finalTest{
	sex.append(":a good man")
}
```

#### â…¡ final æ–¹æ³•

ä½¿ç”¨ final æ–¹æ³•çš„åŸå› å°±æ˜¯**æŠŠæ–¹æ³•é”å®šï¼Œä»¥é˜²ä»»ä½•ç»§æ‰¿ä¿®æ”¹å®ƒçš„å«ä¹‰**ã€‚ç±»ä¸­æ‰€æœ‰çš„ `private `éƒ½éšå¼æŒ‡å®šä¸ºæ˜¯ `final `çš„ã€‚

**å­ç±»ä¸èƒ½è¦†ç›–è¿™ä¸ªåŸºç±»çš„ `final `æ–¹æ³•ï¼ˆ <u>`final` ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•è‡ªåŠ¨åœ°æˆä¸º final æ–¹æ³•</u>) ã€‚** 

> ğŸš¨ æ³¨æ„ï¼šå¦‚æœå°†ä¸€ä¸ªç±»å£°æ˜ä¸º `final`ï¼Œ åªæœ‰å…¶ä¸­çš„æ–¹æ³•è‡ªåŠ¨åœ°æˆä¸º `final`, è€Œ**ä¸åŒ…æ‹¬åŸŸ**ã€‚

ğŸ’¬ ä¾‹å¦‚ï¼š

```java
public class Employee{
	...
	public final String getName(){ // è¯¥æ–¹æ³•ä¸å¯è¢«å­ç±»è¦†ç›–
		return name;
	}
	...
}
```

ä¸è¿‡ï¼Œä¸‹é¢çš„ä»£ç å¯èƒ½ä¼šé€ æˆæ··æ·†ã€‚å› ä¸ºï¼Œå¦‚æœä½ è¯•å›¾è¦†ç›–ä¸€ä¸ª `private `æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¸ä¼šç»™å‡ºé”™è¯¯ä¿¡æ¯ï¼š

```java
class WithFinal {
    private final void f(){
        System.out.println("WithFinal.f()");
    }
}

class OverridingPrivate extends WithFinal {
    private final void f(){ // ä¸æ˜¯æ–¹æ³•è¦†ç›–ï¼Œåªä¸è¿‡æ˜¯å…·æœ‰ç›¸åŒçš„å‡½æ•°å
        System.out.println("OverridingPrivate.f()");
    }
}

class OverridingPrivate2 extends OverridingPrivate{
    public final void f(){ // ä¸æ˜¯æ–¹æ³•è¦†ç›–ï¼Œåªä¸è¿‡æ˜¯å…·æœ‰ç›¸åŒçš„å‡½æ•°å
        System.out.println("OverridingPrivate2.f()");
    }
}



public class demo{
    public static void main(String[] args){
        OverridingPrivate2 op2 = new OverridingPrivate2();
        op2.f();
        OverridingPrivate op = op2;
        // op.f(); error
    }
}
```

ğŸš¨ æ–¹æ³•è¦†ç›–åªæœ‰åœ¨æŸæ–¹æ³•æ˜¯åŸºç±»çš„æ¥å£ï¼ˆ`public`ï¼‰çš„ä¸€éƒ¨åˆ†æ—¶æ‰ä¼šå‡ºç°ã€‚**å¦‚æœæŸä¸€æ–¹æ³•ä¸º `private`ï¼Œä»–å°±ä¸æ˜¯åŸºç±»æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚å®ƒä»…ä»…æ˜¯éšè—äºç±»ä¸­çš„ç¨‹åºä»£ç ï¼Œåªä¸è¿‡å…·æœ‰ç›¸åŒçš„åç§°ç½¢äº†**ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶å¹¶æ²¡æœ‰è¦†ç›–è¯¥æ–¹æ³•ï¼Œä»…ä»…æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„æ–¹æ³•ã€‚

#### â…¢ final ç±»

æœ‰æ—¶å€™ï¼Œå¯èƒ½å¸Œæœ›é˜»æ­¢äººä»¬åˆ©ç”¨æŸä¸ªç±»å®šä¹‰å­ç±»ã€‚**ä¸å…è®¸æ‰©å±•çš„ç±»è¢«ç§°ä¸º `final` ç±»**ã€‚å¦‚æœåœ¨å®šä¹‰ç±»çš„æ—¶å€™ä½¿ç”¨äº† `final` ä¿®é¥°ç¬¦å°±è¡¨æ˜è¿™ä¸ªç±»æ˜¯` final` ç±»ã€‚

ä¾‹å¦‚ï¼Œ å‡è®¾å¸Œæœ›é˜»æ­¢äººä»¬å®šä¹‰ `Executive` ç±»çš„å­ç±»ï¼Œå°±å¯ä»¥åœ¨å®šä¹‰è¿™ä¸ªç±»çš„æ—¶å€™ä½¿ç”¨ `final `ä¿®é¥°ç¬¦å£°æ˜ã€‚å£°æ˜æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 

```java
public final class Executive extends Manager{
    ...
}
```

### â‘§ å¼ºåˆ¶ç±»å‹è½¬æ¢

```java
double x = 3.405;
int nx = (int) x ;
```

æ­£åƒæœ‰æ—¶å€™éœ€è¦å°†æµ®ç‚¹å‹æ•°å€¼è½¬æ¢æˆæ•´å‹æ•°å€¼ä¸€æ ·ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯èƒ½éœ€è¦å°†æŸä¸ªç±»çš„å¯¹è±¡ å¼•ç”¨è½¬æ¢æˆå¦å¤–ä¸€ä¸ªç±»çš„å¯¹è±¡å¼•ç”¨ã€‚å¯¹è±¡å¼•ç”¨çš„è½¬æ¢è¯­æ³•ä¸æ•°å€¼è¡¨è¾¾å¼çš„ç±»å‹è½¬æ¢ç±»ä¼¼ï¼Œ ä»…éœ€è¦ç”¨ä¸€å¯¹åœ†æ‹¬å·å°†ç›®æ ‡ç±»åæ‹¬èµ·æ¥ï¼Œå¹¶æ”¾ç½®åœ¨éœ€è¦è½¬æ¢çš„å¯¹è±¡å¼•ç”¨ä¹‹å‰å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚ï¼š 

```java
class Employee{

}

public class Manager extends Employee{

}

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    
Employee[] staff = new Employee[3];
Manager boss = (Manager) staff[0];
```

**è¿›è¡Œç±»å‹è½¬æ¢çš„å”¯ä¸€åŸå› æ˜¯ï¼šåœ¨æš‚æ—¶å¿½è§†å¯¹è±¡çš„å®é™…ç±»å‹ä¹‹åï¼Œä½¿ç”¨å¯¹è±¡çš„å…¨éƒ¨åŠŸèƒ½**ã€‚

å°†ä¸€ä¸ªå­ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªè¶…ç±»å˜é‡ï¼Œ ç¼–è¯‘å™¨æ˜¯å…è®¸çš„ã€‚ğŸ”º ä½†**å°†ä¸€ä¸ªè¶…ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªå­ç±»å˜é‡ï¼Œ å¿…é¡»è¿›è¡Œç±»å‹è½¬æ¢ï¼Œ è¿™æ ·æ‰èƒ½å¤Ÿé€šè¿‡è¿è¡Œæ—¶çš„æ£€æŸ»**ã€‚

å¦‚æœè¯•å›¾åœ¨ç»§æ‰¿é“¾ä¸Šè¿›è¡Œå‘ä¸‹çš„ç±»å‹è½¬æ¢ï¼Œå¹¶ä¸”â€œ è°æŠ¥â€ æœ‰å…³å¯¹è±¡åŒ…å«çš„å†…å®¹ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ 

```java

class Employee {
    private String name;
    private double salary;
    private LocalDate hireDay;

    public Employee(String name, double salary, int year, int month, int day) {
        this.name = name;
        this.salary = salary;
        hireDay = LocalDate.of(year, month, day);
    }
}

class Manager extends Employee{
    private double bonus;
    
    public Manager(String name, double salary, int year, int month, int day) {
        super(name, salary, year, month, day);
        bonus = 0;
    }
}

public class demo{
    public static void main(String[] args){
        Employee[] staff = new Employee[3];
        staff[1] = new Employee("Harry Hacker", 50000, 1989, 10, 1);
        Manager boss = (Manager) staff[1]; // Error
    }
}
```

 è¿è¡Œè¿™ä¸ªç¨‹åºæ—¶ï¼Œ Java **è¿è¡Œæ—¶**ç³»ç»Ÿå°†æŠ¥å‘Šè¿™ä¸ªé”™è¯¯ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ª `ClassCastException` å¼‚å¸¸ã€‚ **å¦‚æœæ²¡æœ‰æ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œé‚£ä¹ˆç¨‹åºå°±ä¼šç»ˆæ­¢ã€‚**å› æ­¤ï¼Œåº”è¯¥å…»æˆè¿™æ ·ä¸€ä¸ªè‰¯å¥½çš„ç¨‹åº è®¾è®¡ä¹ æƒ¯ï¼šåœ¨è¿›è¡Œç±»å‹è½¬æ¢ä¹‹å‰ï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦èƒ½å¤ŸæˆåŠŸåœ°è½¬æ¢ã€‚è¿™ä¸ªè¿‡ç¨‹ç®€å•åœ°ä½¿ç”¨ `instanceof` æ“ä½œç¬¦å°±å¯ä»¥å®ç°ã€‚ ä¾‹å¦‚ï¼š

```java
if(staff[1] instanceof Manager){
	Manager boss = (Manager) staff[1];
}
```

æœ€åï¼Œ**å¦‚æœè¿™ä¸ªç±»å‹è½¬æ¢ä¸å¯èƒ½æˆåŠŸï¼Œ ç¼–è¯‘å™¨å°±ä¸ä¼šè¿›è¡Œè¿™ä¸ªè½¬æ¢**ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªç±»å‹è½¬æ¢ï¼š 

```java
String c = (String) staff[1]; 
```

å°†ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œ è¿™æ˜¯å› ä¸º `String` ä¸æ˜¯ `Employee` çš„å­ç±»ã€‚ 

ğŸš© ç»¼ä¸Šæ‰€è¿°ï¼š 

- åªèƒ½åœ¨ç»§æ‰¿å±‚æ¬¡å†…è¿›è¡Œç±»å‹è½¬æ¢ã€‚ 
- åœ¨å°†è¶…ç±»è½¬æ¢æˆå­ç±»ä¹‹å‰ï¼Œåº”è¯¥ä½¿ç”¨ `instanceof` è¿›è¡Œæ£€æŸ¥ã€‚

> ğŸ“œ å¦‚æœ `x` ä¸º `null` , è¿›è¡Œä¸‹åˆ—æµ‹è¯• 
>
> ```java
> x instanceof C
> ```
>
>  ä¸ä¼šäº§ç”Ÿå¼‚å¸¸ï¼Œ åªæ˜¯è¿”å› `false`ã€‚ä¹‹æ‰€ä»¥è¿™æ ·å¤„ç†æ˜¯å› ä¸º `null` æ²¡æœ‰å¼•ç”¨ä»»ä½•å¯¹è±¡ï¼Œ å½“ç„¶ä¹Ÿä¸ä¼šå¼•ç”¨ `C` ç±»å‹çš„å¯¹è±¡ã€‚

### â‘¨ å—ä¿æŠ¤è®¿é—® protected

å¤§å®¶éƒ½çŸ¥é“ï¼Œæœ€å¥½å°†ç±»ä¸­çš„åŸŸæ ‡è®°ä¸º `private`, è€Œæ–¹æ³•æ ‡è®°ä¸º `public`ã€‚ä»»ä½•å£°æ˜ä¸º `private` çš„å†…å®¹å¯¹å…¶ä»–ç±»éƒ½æ˜¯ä¸å¯è§çš„ã€‚å‰é¢å·²ç»çœ‹åˆ°ï¼Œ è¿™å¯¹äºå­ç±»æ¥è¯´ä¹Ÿå®Œå…¨é€‚ç”¨ï¼Œå³å­ç±»ä¹Ÿä¸èƒ½è®¿é—®è¶…ç±»çš„ç§æœ‰åŸŸã€‚

ç„¶è€Œï¼Œåœ¨æœ‰äº›æ—¶å€™ï¼Œäººä»¬å¸Œæœ›è¶…ç±»ä¸­çš„æŸäº›æ–¹æ³•å…è®¸è¢«å­ç±»è®¿é—®ï¼Œ æˆ–**å…è®¸å­ç±»çš„æ–¹æ³•è®¿é—®è¶…ç±»çš„æŸä¸ªåŸŸ**ã€‚ä¸ºæ­¤ï¼Œ éœ€è¦å°†è¿™äº›æ–¹æ³•æˆ–åŸŸå£°æ˜ä¸º `protected`ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå°†è¶…ç±» Employee ä¸­çš„ hireDay å£°æ˜ä¸º proteced, è€Œä¸æ˜¯ç§æœ‰çš„ï¼Œ Manager ä¸­çš„æ–¹æ³•å°±å¯ä»¥ç›´æ¥åœ°è®¿é—®å®ƒã€‚

**ä¸è¿‡ï¼ŒManager ç±»ä¸­çš„æ–¹æ³•åªèƒ½å¤Ÿè®¿é—® Manager å¯¹è±¡ä¸­çš„ hireDay åŸŸï¼Œ è€Œä¸èƒ½è®¿é—®å…¶ä»– Employee å¯¹è±¡ä¸­çš„è¿™ä¸ªåŸŸã€‚**è¿™ç§é™åˆ¶æœ‰åŠ©äºé¿å…æ»¥ç”¨å—ä¿æŠ¤æœºåˆ¶ï¼Œä½¿å¾—å­ç±»åªèƒ½è·å¾—è®¿é—®å—ä¿æŠ¤åŸŸçš„æƒåˆ©ã€‚

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¦è°¨æ…ä½¿ç”¨ protected å±æ€§ã€‚å‡è®¾éœ€è¦å°†è®¾è®¡çš„ç±»æä¾›ç»™å…¶ä»–ç¨‹åºå‘˜ä½¿ç”¨ï¼Œè€Œåœ¨è¿™ä¸ªç±»ä¸­è®¾ç½®äº†ä¸€äº›å—ä¿æŠ¤åŸŸï¼Œ ç”±äºå…¶ä»–ç¨‹åºå‘˜å¯ä»¥ç”±è¿™ä¸ªç±»å†æ´¾ç”Ÿå‡ºæ–°ç±»ï¼Œå¹¶è®¿é—®å…¶ä¸­çš„å—ä¿æŠ¤åŸŸã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœéœ€è¦å¯¹è¿™ä¸ªç±»çš„å®ç°è¿›è¡Œä¿®æ”¹ï¼Œå°±å¿…é¡»é€šçŸ¥æ‰€æœ‰ä½¿ ç”¨è¿™ä¸ªç±»çš„ç¨‹åºå‘˜ã€‚è¿™è¿èƒŒäº† OOP æå€¡çš„æ•°æ®å°è£…åŸåˆ™ã€‚ 

**å—ä¿æŠ¤çš„æ–¹æ³•æ›´å…·æœ‰å®é™…æ„ä¹‰ã€‚ å¦‚æœéœ€è¦é™åˆ¶æŸä¸ªæ–¹æ³•çš„ä½¿ç”¨ï¼Œ å°±å¯ä»¥å°†å®ƒå£°æ˜ä¸º `protected`ã€‚è¿™è¡¨æ˜å­ç±»å¾—åˆ°ä¿¡ä»»ï¼Œå¯ä»¥æ­£ç¡®åœ°ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè€Œå…¶ä»–ç±»åˆ™ä¸è¡Œã€‚**

> ğŸ“œ äº‹å®ä¸Šï¼Œ**Java ä¸­çš„å—ä¿æŠ¤éƒ¨åˆ†å¯¹æ‰€æœ‰å­ç±»åŠåŒä¸€ä¸ªåŒ…ä¸­çš„æ‰€æœ‰å…¶ä»–ç±»éƒ½å¯è§**ã€‚ è¿™ä¸ C++ ä¸­çš„ä¿æŠ¤æœºåˆ¶ç¨æœ‰ä¸åŒï¼Œ <u>Java ä¸­çš„ `protected` æ¦‚å¿µè¦æ¯” C++ ä¸­çš„å®‰å…¨æ€§å·®</u>ã€‚

ğŸš© ä¸‹é¢å½’çº³ä¸€ä¸‹ Java ç”¨äºæ§åˆ¶å¯è§æ€§çš„ 4 ä¸ªè®¿é—®ä¿®é¥°ç¬¦ï¼š

- ä»…å¯¹æœ¬ç±»å¯è§ `private`
- å¯¹æ‰€æœ‰ç±»å¯è§ `public`
- å¯¹æœ¬åŒ…å’Œæ‰€æœ‰å­ç±»å¯è§ `protected`
- å¯¹æœ¬åŒ…å¯è§ â€” ä¸éœ€è¦ä¿®é¥°ç¬¦ï¼ˆé»˜è®¤ï¼‰

## 3. Objectï¼šæ‰€æœ‰ç±»çš„è¶…ç±»

### â‘  æ¦‚è¿°

`Object` ç±»æ˜¯ Java ä¸­æ‰€æœ‰ç±»çš„å§‹ç¥–ï¼Œ åœ¨ Java ä¸­æ¯ä¸ªç±»éƒ½æ˜¯ç”±å®ƒæ‰©å±•è€Œæ¥çš„ã€‚ä½†æ˜¯å¹¶ä¸éœ€è¦è¿™æ ·å†™ :

```java
public class Employee extends Object
```

å¦‚æœæ²¡æœ‰æ˜ç¡®åœ°æŒ‡å‡ºè¶…ç±»ï¼ŒObject å°±è¢«è®¤ä¸ºæ˜¯è¿™ä¸ªç±»çš„è¶…ç±»ã€‚ç”±äºåœ¨ Javaä¸­ï¼Œæ¯ä¸ªç±»éƒ½ æ˜¯ç”± Object ç±»æ‰©å±•è€Œæ¥çš„ï¼Œæ‰€ä»¥ï¼Œ ç†Ÿæ‚‰è¿™ä¸ªç±»æä¾›çš„æ‰€æœ‰æœåŠ¡ååˆ†é‡è¦ã€‚

å¯ä»¥ä½¿ç”¨ Object ç±»å‹çš„å˜é‡å¼•ç”¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼š

```java
Object obj = new Employee("Harry Hacker", 35000);
```

å½“ç„¶ï¼Œ Object ç±»å‹çš„å˜é‡åªèƒ½ç”¨äºä½œä¸ºå„ç§å€¼çš„é€šç”¨æŒæœ‰è€…ã€‚è¦æƒ³å¯¹å…¶ä¸­çš„å†…å®¹è¿›è¡Œå…·ä½“çš„æ“ä½œï¼Œ è¿˜éœ€è¦æ¸…æ¥šå¯¹è±¡çš„åŸå§‹ç±»å‹ï¼Œ å¹¶è¿›è¡Œç›¸åº”çš„ç±»å‹è½¬æ¢ï¼š

```java
Employee e = (Employee) obj;
```

**åœ¨ Java ä¸­ï¼Œåªæœ‰åŸºæœ¬ç±»å‹ ï¼ˆprimitive types) ä¸æ˜¯å¯¹è±¡**ï¼Œ ä¾‹å¦‚ï¼Œæ•°å€¼ã€ å­—ç¬¦å’Œå¸ƒå°”ç±»å‹çš„å€¼éƒ½ä¸æ˜¯å¯¹è±¡ã€‚

 <u>æ‰€æœ‰çš„æ•°ç»„ç±»å‹ï¼Œä¸ç®¡æ˜¯å¯¹è±¡æ•°ç»„è¿˜æ˜¯åŸºæœ¬ç±»å‹çš„æ•°ç»„éƒ½æ‰©å±•äº† Object ç±»</u>ã€‚

```java
Employee[] staff = new Employee[10];
obj = staff; // OK
obj = new int[10]; // OK
```

> ğŸ“œ åœ¨ C++ ä¸­æ²¡æœ‰æ‰€æœ‰ç±»çš„æ ¹ç±»ï¼Œä¸è¿‡ï¼Œæ¯ä¸ªæŒ‡é’ˆéƒ½å¯ä»¥è½¬æ¢æˆ `void *` æŒ‡é’ˆã€‚

### â‘¡ equals æ–¹æ³•

Object ç±»ä¸­çš„ `equals` æ–¹æ³•ç”¨äºæ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ç­‰äºå¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚**åœ¨ Object ç±»ä¸­ï¼Œè¿™ ä¸ªæ–¹æ³•å°†åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰ç›¸åŒçš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰**ã€‚å¦‚æœä¸¤ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„å¼•ç”¨ï¼Œ å®ƒä»¬ä¸€å®šæ˜¯ç›¸ç­‰çš„ã€‚

```java
public boolean equals(Object otherObject){
        if(this == otherObject)
            return true;
        if(otherObject == null)
            return false;
        if(getClass() != otherObject.getClass())
            return false;
        Employee other = (Employee) otherObject;
        return name.equals(other.name) && salary.equals(other.salary) && hireDay.equals(other.salary);
}
```

`getClass` æ–¹æ³•å°†è¿”å›ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼Œæœ‰å…³è¿™ä¸ªæ–¹æ³•çš„è¯¦ç»†å†…å®¹ç¨ååœ¨åå°„ç« èŠ‚è¿›è¡Œä»‹ç»ã€‚

**åœ¨å­ç±»ä¸­å®šä¹‰ equals æ–¹æ³•æ—¶ï¼Œ é¦–å…ˆè°ƒç”¨è¶…ç±»çš„ equals**ã€‚å¦‚æœæ£€æµ‹å¤±è´¥ï¼Œ å¯¹è±¡å°±ä¸å¯èƒ½ç›¸ç­‰ã€‚å¦‚æœè¶…ç±»ä¸­çš„åŸŸéƒ½ç›¸ç­‰ï¼Œ å°±éœ€è¦æ¯”è¾ƒå­ç±»ä¸­çš„å®ä¾‹åŸŸã€‚

```java
public class Manager extends Employee
    public boolean equals(Object otherObject){
        if (!super.equals(otherObject)) 
            return false;
        // super.equals checked that this and otherObject belong to the same class
        Manager other = (Manager) otherObject;
        return bonus == other.bonus;
    }
}
```

ğŸš© **equals å’Œ == æ¯”è¾ƒï¼š**

- `==`: å®ƒçš„ä½œç”¨æ˜¯**åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯ä¸æ˜¯ç›¸ç­‰**ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚(åŸºæœ¬æ•°æ®ç±»å‹ `==` æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹ `==` æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€)
- `equals()` : å®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µï¼š
  - æƒ…å†µ1ï¼š<u>ç±»æ²¡æœ‰è¦†ç›– equals() æ–¹æ³•</u>ã€‚åˆ™é€šè¿‡ equals() æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ==â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚
  - æƒ…å†µ2ï¼š<u>ç±»è¦†ç›–äº† equals() æ–¹æ³•</u>ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›– equals() æ–¹æ³•æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å› true (å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

```java
public class test1 {
    public static void main(String[] args) {
        String a = new String("ab"); // a ä¸ºä¸€ä¸ªå¼•ç”¨
        String b = new String("ab"); // bä¸ºå¦ä¸€ä¸ªå¼•ç”¨,å¯¹è±¡çš„å†…å®¹ä¸€æ ·
        String aa = "ab"; // æ”¾åœ¨å¸¸é‡æ± ä¸­
        String bb = "ab"; // ä»å¸¸é‡æ± ä¸­æŸ¥æ‰¾
        if (aa == bb) // trueï¼ŒåŒä¸€ä½ç½®
            System.out.println("aa==bb");
        if (a == b) // falseï¼ŒéåŒä¸€å¯¹è±¡
            System.out.println("a==b");
        if (a.equals(b)) // true Stringçš„ equalsæ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„
            System.out.println("aEQb");
        if (42 == 42.0) { // true
            System.out.println("true");
        }
    }
}
```

ğŸ’¡ è¯´æ˜ï¼š

- **String ä¸­çš„ equals æ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸º object çš„ equals æ–¹æ³•æ˜¯æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œ String çš„ equals æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚**
- å½“åˆ›å»ºStringç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚ï¼ˆè¯¦è§å­—ç¬¦ä¸²ç« èŠ‚ï¼‰

### â‘£ hashCode æ–¹æ³•

**æ•£åˆ—ç ï¼ˆ hash code )** æ˜¯ç”±å¯¹è±¡å¯¼å‡ºçš„ä¸€ä¸ªæ•´å‹å€¼ã€‚æ•£åˆ—ç æ˜¯æ²¡æœ‰è§„å¾‹çš„ã€‚**å¦‚æœ x å’Œ y æ˜¯ ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼Œ `x.hashCode( )` ä¸ `y.hashCode( ) `åŸºæœ¬ä¸Šä¸ä¼šç›¸åŒ**ã€‚

ğŸ‘‰ String ç±»ä½¿ç”¨ä¸‹åˆ—ç®—æ³•è®¡ç®—æ•£åˆ—ç ï¼š 

```java
int hash = 0; 
for (int i = 0; i < length(); i++) 
	hash = 31 * hash + charAt(i);
```

ç”±äº **hashCodeæ–¹æ³•å®šä¹‰åœ¨ Object ç±»ä¸­**ï¼Œ å› æ­¤æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„æ•£åˆ—ç ï¼Œ**å…¶å€¼ä¸ºå¯¹è±¡çš„å­˜å‚¨åœ°å€**ã€‚æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚

```java
String s = "Ok";
StringBuilder sb = new StringBuilder(s);
System.out.println(s.hashCode() + " " + sb.hashCode());
String t = new String("Ok");
StringBuilder tb = new StringBuilder(t);
System.out.println(t.hashCode() + " " + tb.hashCode());
```

![](https://gitee.com/veal98/images/raw/master/img/20200619141650.png)

ğŸš¨ è¯·æ³¨æ„ï¼Œ **å­—ç¬¦ä¸² s ä¸ t æ‹¥æœ‰ç›¸åŒçš„æ•£åˆ—ç ï¼Œ è¿™æ˜¯å› ä¸ºå­—ç¬¦ä¸²çš„æ•£åˆ—ç æ˜¯ç”±å†…å®¹å¯¼å‡ºçš„ã€‚è€Œå­—ç¬¦ä¸²ç¼“å†² sb ä¸ tb å´æœ‰ç€ä¸åŒçš„æ•£åˆ—ç ï¼Œ è¿™æ˜¯å› ä¸ºåœ¨ StringBuffer ç±»ä¸­æ²¡æœ‰å®šä¹‰ hashCode æ–¹æ³•ï¼Œå®ƒçš„æ•£åˆ—ç æ˜¯ç”± Object ç±»çš„é»˜è®¤ hashCode æ–¹æ³•å¯¼å‡ºçš„å¯¹è±¡å­˜å‚¨åœ°å€**ã€‚

â­ å…³äº hashCode å’Œ equals æ–¹æ³•éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š

- **å¦‚æœé‡æ–°å®šä¹‰ equalsæ–¹æ³•ï¼Œå°±å¿…é¡»é‡æ–°å®šä¹‰ hashCode æ–¹æ³•**ï¼Œ ä»¥ä¾¿ç”¨æˆ·å¯ä»¥å°†å¯¹è±¡æ’äººåˆ°æ•£åˆ—è¡¨ä¸­ 

- `Equals ` ä¸ `hashCode` çš„å®šä¹‰å¿…é¡»ä¸€è‡´ï¼š**å¦‚æœ `x.equals(y)` è¿”å› true, é‚£ä¹ˆ `x.hashCode( )` å°±å¿…é¡»ä¸ `y.hashCode( )` å…·æœ‰ç›¸åŒçš„å€¼ã€‚**

  ä¾‹å¦‚ï¼Œ å¦‚æœç”¨å®šä¹‰çš„ `Employee.equals` æ¯”è¾ƒé›‡å‘˜çš„ IDï¼Œé‚£ ä¹ˆ `hashCode` æ–¹æ³•å°±éœ€è¦æ•£åˆ— IDï¼Œè€Œä¸æ˜¯é›‡å‘˜çš„å§“åæˆ–å­˜å‚¨åœ°å€ã€‚

- **ç­‰ä»·ï¼ˆequalsï¼‰çš„ä¸¤ä¸ªå¯¹è±¡æ•£åˆ—å€¼ä¸€å®šç›¸åŒï¼Œä½†æ˜¯æ•£åˆ—å€¼ç›¸åŒçš„ä¸¤ä¸ªå¯¹è±¡ä¸ä¸€å®šç­‰ä»·**ã€‚

### â‘¤ toString æ–¹æ³•

**`toString` æ–¹æ³•ç”¨äºè¿”å›è¡¨ç¤ºå¯¹è±¡å€¼çš„å­—ç¬¦ä¸²ã€‚**

ç»å¤§å¤šæ•°ï¼ˆä½†ä¸æ˜¯å…¨éƒ¨ï¼‰çš„ toStringæ–¹æ³•éƒ½éµå¾ªè¿™æ ·çš„æ ¼å¼ï¼šç±»çš„åå­—ï¼Œéšåæ˜¯ä¸€å¯¹æ–¹æ‹¬å·æ‹¬èµ·æ¥çš„åŸŸå€¼ã€‚ä¸‹é¢æ˜¯ Employee ç±»ä¸­çš„ toString æ–¹æ³•çš„å®ç°ï¼š

```java
public String toString(){
    return "Employee[name=" + name
        + ",salary=" + salary
        + ",hireDay=" + hireDay
        + "]";
}
```

å®é™…ä¸Šï¼Œè¿˜å¯ä»¥è®¾è®¡å¾—æ›´å¥½ä¸€äº›ã€‚æœ€å¥½é€šè¿‡è°ƒç”¨ `getClass().getName()` è·å¾—ç±»åçš„å­—ç¬¦ä¸²ï¼Œè€Œä¸è¦å°†ç±»åç¡¬åŠ åˆ° toString æ–¹æ³•ä¸­ã€‚

```java
public String toString(){
    return getClass().getName()
        + "[name=" + name
        + ",salary=" + salary
        + ",hireDay=" + hireDay
        + "]";
}
```

å¦‚æœè¶…ç±»ä½¿ç”¨äº† `getClass().getName()`, é‚£ä¹ˆå­ç±»åªè¦è°ƒç”¨ `super.toString()`å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚ï¼Œ ä¸‹é¢æ˜¯ Manager ç±»ä¸­çš„ toString æ–¹æ³•ï¼š

```java
public class Manager extends Employee
    ...
    public String toString(){
        return super.toString()
            + "[bonus=" + bonus
            + "]";
    }
}
```

éšå¤„å¯è§ toStringæ–¹æ³•çš„ä¸»è¦åŸå› æ˜¯ï¼š**åªè¦å¯¹è±¡ä¸ä¸€ä¸ªå­—ç¬¦ä¸²é€šè¿‡æ“ä½œç¬¦â€œ `+`â€ è¿æ¥èµ· æ¥ï¼ŒJava ç¼–è¯‘å°±ä¼šè‡ªåŠ¨åœ°è°ƒç”¨ toString æ–¹æ³•ï¼Œä»¥ä¾¿è·å¾—è¿™ä¸ªå¯¹è±¡çš„å­—ç¬¦ä¸²æè¿°**ã€‚ä¾‹å¦‚ï¼š

```java
Point p = new Point(10, 20);
String message = "The current position is " + p;
// automatically invokes p.toString()
```

å¦‚æœ x æ˜¯ä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œ å¹¶è°ƒç”¨

```java
System.out.println(x);
```

`println` æ–¹æ³•å°±ä¼šç›´æ¥åœ°è°ƒç”¨ `x.toString()`  ï¼Œå¹¶æ‰“å°è¾“å‡ºå¾—åˆ°çš„å­—ç¬¦ä¸²ã€‚

Object ç±»å®šä¹‰äº† toString æ–¹æ³•ï¼Œ ç”¨æ¥æ‰“å°è¾“å‡ºå¯¹è±¡æ‰€å±çš„ç±»åå’Œæ•£åˆ—ç ã€‚ä¾‹å¦‚ï¼š 

```java
System.out.println(System.out)
```

 å°†è¾“å‡ºä¸‹åˆ—å†…å®¹ï¼š 

> java.io.PrintStream@2f6684 

ä¹‹æ‰€ä»¥å¾—åˆ°è¿™æ ·çš„ç»“æœæ˜¯å› ä¸º PrintStream ç±»çš„è®¾è®¡è€…æ²¡æœ‰è¦†ç›– toString æ–¹æ³•ã€‚

> ğŸš¨ ä»¤äººçƒ¦æ¼çš„æ˜¯ï¼Œ æ•°ç»„ç»§æ‰¿äº† object ç±»çš„ toString æ–¹æ³•ï¼Œæ•°ç»„ç±»å‹å°†æŒ‰ç…§æ—§çš„æ ¼å¼æ‰“å°ã€‚ä¾‹å¦‚ï¼š 
>
> ```java
> int[] luckyNumbers = { 2, 3, 5, 7, 11, 13 }; 
> String s = "" + luckyNumbers;
> ```
>
> ç”Ÿæˆå­—ç¬¦ä¸²`â€œ[I@la46e30â€` ï¼ˆå‰ç¼€` [I` è¡¨æ˜æ˜¯ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼‰ã€‚
>
> ä¿®æ­£çš„æ–¹å¼æ˜¯è°ƒç”¨é™æ€æ–¹æ³• `Arrays.toString`ã€‚ä»£ç ï¼š 
>
> ```java
> String s = Arrays.toString(luckyNumbers);
> ```
>
> å°†ç”Ÿæˆå­—ç¬¦ä¸²`â€œ[2,3,5,7,11,13]â€`ã€‚ 
>
> è¦æƒ³æ‰“å°å¤šç»´æ•°ç»„ï¼ˆå³ï¼Œ æ•°ç»„çš„æ•°ç»„ï¼‰åˆ™éœ€è¦è°ƒç”¨ `Arrays.deepToString` æ–¹æ³•ã€‚

## 4. å¯¹è±¡åŒ…è£…å™¨ä¸è‡ªåŠ¨è£…ç®±

æœ‰æ—¶ï¼Œ éœ€è¦å°† int è¿™æ ·çš„åŸºæœ¬ç±»å‹è½¬æ¢ä¸ºå¯¹è±¡ã€‚ æ‰€æœ‰çš„åŸºæœ¬ç±»å‹éƒ½å†‡ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ç±»ã€‚ ä¾‹å¦‚ï¼Œ`Integer` ç±»å¯¹åº”åŸºæœ¬ç±»å‹ intã€‚é€šå¸¸ï¼Œ è¿™äº›ç±»ç§°ä¸º**åŒ…è£…å™¨ ï¼ˆ wrapper )** 

| åŸºæœ¬ç±»å‹ | å¯¹åº”çš„åŒ…è£…ç±»ï¼ˆä½äº java.lang åŒ…ä¸­ï¼‰ |
| -------- | ----------------------------------- |
| byte     | Byte                                |
| short    | Short                               |
| int      | **Integer**                         |
| long     | Long                                |
| float    | Float                               |
| double   | Double                              |
| char     | **Character**                       |
| boolean  | Boolean                             |
| void     | Void                                |

> ğŸ“œ å‰ 6 ä¸ªç±»æ´¾ç”Ÿäºå…¬å…±çš„è¶…ç±» `Number`

å¯¹è±¡åŒ…è£…å™¨ç±»æ˜¯ä¸å¯å˜çš„ï¼Œå³ä¸€æ—¦æ„é€ äº†åŒ…è£…å™¨ï¼Œå°±ä¸å…è®¸æ›´æ”¹åŒ…è£…åœ¨å…¶ä¸­çš„å€¼ã€‚åŒæ—¶ï¼Œ å¯¹è±¡åŒ…è£…å™¨ç±»è¿˜æ˜¯ `final`, å› æ­¤ä¸èƒ½å®šä¹‰å®ƒä»¬çš„å­ç±»ã€‚

å‡è®¾æƒ³å®šä¹‰ä¸€ä¸ªæ•´å‹æ•°ç»„åˆ—è¡¨ã€‚è€Œå°–æ‹¬å·ä¸­çš„ç±»å‹å‚æ•°ä¸å…è®¸æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ ä¸å…è®¸å†™æˆ ArrayListã€‚è¿™é‡Œå°±ç”¨åˆ°äº† Integer å¯¹è±¡åŒ…è£…å™¨ç±»ã€‚æˆ‘ä»¬å¯ä»¥å£°æ˜ä¸€ä¸ª Integer å¯¹è±¡çš„æ•°ç»„åˆ—è¡¨ã€‚ 

```java
ArrayList<Integer> list = new ArrayList<>()ï¼›
```

> ğŸš¨ ç”±äºæ¯ä¸ªå€¼åˆ†åˆ«åŒ…è£…åœ¨å¯¹è±¡ä¸­ï¼Œ æ‰€ä»¥ `ArrayList` çš„æ•ˆç‡è¿œè¿œä½äº `int[]` æ•° ç»„ã€‚ å› æ­¤ï¼Œ åº”è¯¥ç”¨å®ƒæ„é€ å°å‹é›†åˆï¼Œå…¶åŸå› æ˜¯æ­¤æ—¶ç¨‹åºå‘˜æ“ä½œçš„æ–¹ä¾¿æ€§è¦æ¯”æ‰§è¡Œæ•ˆç‡æ›´é‡è¦ã€‚

æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„ç‰¹æ€§ï¼Œ ä»è€Œæ›´åŠ ä¾¿äºæ·»åŠ  int ç±»å‹çš„å…ƒç´ åˆ° `ArrayList<Integer> `ä¸­ã€‚ä¸‹é¢è¿™ä¸ªè°ƒç”¨ 

```java
list.add(3); 
```

å°†è‡ªåŠ¨åœ°å˜æ¢æˆ

```java
list.add (Integer.valueOf(3));
```

 è¿™ç§å˜æ¢è¢«ç§°ä¸º**è‡ªåŠ¨è£…ç®±ï¼ˆautoboxing )**ã€‚

ç›¸ååœ°ï¼Œ å½“å°†ä¸€ä¸ª Integer å¯¹è±¡èµ‹ç»™ä¸€ä¸ª int å€¼æ—¶ï¼Œ å°†ä¼š**è‡ªåŠ¨æ‹†ç®±**ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ ç¼–è¯‘å™¨å°†ä¸‹åˆ—è¯­å¥ï¼š 

```java
int n = list.get(i);
```

 ç¿»è¯‘æˆ

```java
int n = list.get(i).intValue();
```

ç”šè‡³**åœ¨ç®—æœ¯è¡¨è¾¾å¼ä¸­ä¹Ÿèƒ½å¤Ÿè‡ªåŠ¨åœ°è£…ç®±å’Œæ‹†ç®±**ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†è‡ªå¢æ“ä½œç¬¦åº”ç”¨äºä¸€ä¸ªåŒ…è£…å™¨å¼•ç”¨ï¼š

```java
Integer n = 3; 
n++; 
```

ç¼–è¯‘å™¨å°†è‡ªåŠ¨åœ°æ’äººä¸€æ¡å¯¹è±¡æ‹†ç®±çš„æŒ‡ä»¤ï¼Œ ç„¶åè¿›è¡Œè‡ªå¢è®¡ç®—ï¼Œ æœ€åå†å°†ç»“æœè£…ç®±ã€‚ 

å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®¹æ˜“æœ‰ä¸€ç§å‡è±¡ï¼Œ å³åŸºæœ¬ç±»å‹ä¸å®ƒä»¬çš„å¯¹è±¡åŒ…è£…å™¨æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å®ƒä»¬çš„ç›¸ç­‰æ€§ä¸åŒã€‚å¤§å®¶çŸ¥é“ï¼Œ` ==` è¿ç®—ç¬¦ä¹Ÿå¯ä»¥åº”ç”¨äºå¯¹è±¡åŒ…è£…å™¨å¯¹è±¡ï¼Œ åªä¸è¿‡æ£€æµ‹çš„æ˜¯å¯¹è±¡æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå­˜å‚¨åŒºåŸŸï¼Œ å› æ­¤ï¼Œä¸‹é¢çš„æ¯”è¾ƒé€šå¸¸ä¸ä¼šæˆç«‹ï¼š 

```java
Integer a = 1000; 
Integer b = 1000; 
if (a = b) 
    // do something
```

 ç„¶è€Œï¼Œ**Java å®ç°å´æœ‰å¯èƒ½è®©å®ƒæˆç«‹**ã€‚<u>å¦‚æœå°†ç»å¸¸å‡ºç°çš„å€¼åŒ…è£…åˆ°åŒä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œ è¿™ç§æ¯”è¾ƒå°±æœ‰å¯èƒ½æˆç«‹</u>ã€‚è¿™ç§ä¸ç¡®å®šçš„ç»“æœå¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ã€‚**è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯åœ¨ä¸¤ä¸ªåŒ…è£…å™¨å¯¹è±¡æ¯”è¾ƒæ—¶è°ƒç”¨ `equals` æ–¹æ³•ã€‚**

> ğŸ“œ **è‡ªåŠ¨è£…ç®±è§„èŒƒè¦æ±‚ `boolean`ã€`byte`ã€`char` <= 127ï¼Œ ä»‹äº `-128 ~ 127` ä¹‹é—´çš„ `short` å’Œ `int` è¢«åŒ…è£…åˆ°å›ºå®šçš„å¯¹è±¡ä¸­ã€‚**
>
> ä¾‹å¦‚ï¼Œå¦‚æœåœ¨å‰é¢çš„ä¾‹å­ä¸­å°† a å’Œ b åˆå§‹åŒ–ä¸º 100ï¼Œå¯¹å®ƒä»¬è¿›è¡Œæ¯”è¾ƒçš„ç»“æœä¸€å®šæˆç«‹ã€‚

ä½¿ç”¨æ•°å€¼å¯¹è±¡åŒ…è£…å™¨è¿˜æœ‰å¦å¤–ä¸€ä¸ªå¥½å¤„ã€‚Java è®¾è®¡è€…å‘ç°ï¼Œ<u>å¯ä»¥å°†æŸäº›åŸºæœ¬æ–¹æ³•æ”¾ç½®åœ¨åŒ…è£…å™¨ä¸­</u>ï¼Œ ä¾‹å¦‚ï¼Œ å°†ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å€¼ã€‚ è¦æƒ³å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´å‹ï¼Œ å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™æ¡è¯­å¥ï¼š

```java
int x = Integer.parseInt(str); 
```

è¿™é‡Œä¸ Integer å¯¹è±¡æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œ `parseInt` æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚ä½† Integer ç±»æ˜¯æ”¾ç½®è¿™ä¸ªæ–¹æ³•çš„ä¸€ä¸ªå¥½åœ°æ–¹ã€‚

ğŸ‘‡ API æ³¨é‡Šè¯´æ˜äº† Integer ç±»ä¸­åŒ…å«çš„ä¸€äº›é‡è¦æ–¹æ³•ã€‚å…¶ä»–æ•°å€¼ç±»ä¹Ÿå®ç°äº†ç›¸åº”çš„æ–¹æ³•ã€‚

![](https://gitee.com/veal98/images/raw/master/img/20200619152608.png)

## ğŸ“š References

- ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ - å· 1 åŸºç¡€çŸ¥è¯† - ç¬¬ 10 ç‰ˆã€‹
- ã€ŠThinking In Javaï¼ˆJava ç¼–ç¨‹æ€æƒ³ï¼‰- ç¬¬ 4 ç‰ˆã€‹
- [javaç»éªŒæ€»ç»“-208é“é¢è¯•é¢˜](https://www.zhihu.com/question/27858692/answer/787505434)