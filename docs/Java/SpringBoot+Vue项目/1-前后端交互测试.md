# ğŸŒ¼ å‰åç«¯äº¤äº’æµ‹è¯•ï¼ˆç™»å½•ç•Œé¢ï¼‰

---

> ğŸ”Š æœ¬ç¯‡ä¸»è¦å®ç°åˆ›å»ºå‰åç«¯é¡¹ç›®é›å½¢ï¼Œå¹¶å®Œæˆç™»å½•ç•Œé¢çš„å‰åç«¯æ•°æ®äº¤äº’ã€‚

## 1. ä½¿ç”¨ Vue-cli æ­å»º Vue.js å‰ç«¯é¡¹ç›®

æ–°å»ºä¸€ä¸ª **ournote_vue** é¡¹ç›®ã€‚

å‚è€ƒ Vue æ¨¡å—çš„ä¸¤ç¯‡ç¬”è®°ï¼š

- [Vue / 2-å®‰è£…](https://veal98.gitee.io/cs-wiki/#/å‰ç«¯/Vue/2-å®‰è£…)

- [Vue / 3-ç›®å½•ç»“æ„](https://veal98.gitee.io/cs-wiki/#/å‰ç«¯/Vue/3-ç›®å½•ç»“æ„)

ä½¿ç”¨ Vs-Code æ‰“å¼€ï¼Œå¹¶åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š`npm run serve` å¯åŠ¨ Vue æœåŠ¡ï¼ˆå¯é€šè¿‡ **Ctrl + C** åœæ­¢ï¼‰

<img src="https://gitee.com/veal98/images/raw/master/img/20200725210057.png" style="zoom:80%;" />

## 2. åˆ›å»º SpringBoot åç«¯é¡¹ç›®

æ–°å»ºä¸€ä¸ª **ournot_springboot** é¡¹ç›®ï¼Œå¯¼å…¥åŸºæœ¬çš„ Web æ¨¡å—å³å¯ã€‚

## 3. å…³äºå‰åç«¯åˆ†ç¦»

**å‰åç«¯åˆ†ç¦»çš„æ„æ€æ˜¯å‰åç«¯ä¹‹é—´é€šè¿‡ RESTful API ä¼ é€’ JSON æ•°æ®è¿›è¡Œäº¤æµã€‚ä¸åŒäº JSP ä¹‹ç±»ï¼Œåç«¯æ˜¯ä¸æ¶‰åŠé¡µé¢æœ¬èº«çš„å†…å®¹çš„ã€‚**

åœ¨å¼€å‘çš„æ—¶å€™ï¼Œå‰ç«¯ç”¨å‰ç«¯çš„æœåŠ¡å™¨ï¼ˆNginxï¼‰ï¼Œåç«¯ç”¨åç«¯çš„æœåŠ¡å™¨ï¼ˆTomcatï¼‰ï¼Œå½“å¼€å‘å‰ç«¯å†…å®¹çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå‰ç«¯çš„è¯·æ±‚é€šè¿‡å‰ç«¯æœåŠ¡å™¨è½¬å‘ç»™åç«¯ï¼ˆç§°ä¸º**åå‘ä»£ç†**ï¼‰ï¼Œè¿™æ ·å°±èƒ½å®æ—¶è§‚å¯Ÿç»“æœï¼Œå¹¶ä¸”ä¸éœ€è¦çŸ¥é“åç«¯æ€ä¹ˆå®ç°ï¼Œè€Œåªéœ€è¦çŸ¥é“æ¥å£æä¾›çš„åŠŸèƒ½ï¼Œä¸¤è¾¹çš„å¼€å‘äººå‘˜å°±å¯ä»¥å„å¸å…¶èŒã€‚

## 4. ç™»å½•æ¨¡å—

### â‘  å‰ç«¯ç•Œé¢

#### â…  ç™»å½•é¡µ Login.Vue

åœ¨ `components `æ–‡ä»¶å¤¹ä¸‹æ–°å»º `Login.Vue`ï¼š

```vue
<template>
  <div>
      ç”¨æˆ·å:<input type="text" v-model="loginForm.username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å"/>
      <br><br>
      å¯†ç ï¼š <input type="password" v-model="loginForm.password" placeholder="è¯·è¾“å…¥å¯†ç "/>
      <br><br>
      <span>{{responseResult}}</span> <!-- æ˜¾ç¤ºé”™è¯¯æç¤ºä¿¡æ¯ -->
      <br><br>
      <button v-on:click="login">ç™»å½•</button>
  </div>
</template>

<script>

  export default {
    name: 'Login',
    data () {
      return {
        loginForm: {
          username: '',
          password: ''
        },
        responseResult: []
      }
    },
    methods: {
      login () {
        this.$axios
          .post('/login', {
            username: this.loginForm.username,
            password: this.loginForm.password
          })
          .then(successResponse => {
            if (successResponse.data.code === 200) { // ç™»å½•æˆåŠŸ
                this.$router.replace({path: '/index'})
            } else {
                this.responseResult = successResponse.data.code;
            } else{
              this.$alert('ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯', 'æç¤º', {
                confirmButtonText: 'ç¡®å®š'
              })
            }
          })
          .catch(failResponse => {
          })
      }
    }
  }
</script>


```

`<template>` æ ‡ç­¾ä¸­éšä¾¿å†™äº†ä¸€ä¸ªç™»å½•çš„ç•Œé¢ï¼Œ methods ä¸­å®šä¹‰äº†ç™»å½•æŒ‰é’®çš„ç‚¹å‡»æ–¹æ³•ï¼Œå³å‘åç«¯` /login` æ¥å£å‘é€æ•°æ®ï¼Œè·å¾—æˆåŠŸçš„å“åº”åï¼Œé¡µé¢è·³è½¬åˆ° ` /index`ã€‚

**å…¶ä¸­è¿”å›ç  `code = 200` æ˜¯æˆ‘ä»¬åœ¨ `LoginController `ä¸­å®šä¹‰çš„**ï¼Œè§ä¸‹æ–‡ã€‚

> ğŸš© ä¸‹é¢æˆ‘ä»¬ä¼šé…ç½®åå‘ä»£ç†ï¼Œè®¾ç½®äº†é»˜è®¤çš„ URLï¼Œæ‰€ä»¥è¯·æ±‚å®é™…ä¸Šå‘åˆ°äº† `http://localhost:8443/api/login`ã€‚

#### â…¡ é¦–é¡µ Index.Vue

åœ¨ `components `æ–‡ä»¶å¤¹ä¸‹æ–°å»º `home/Index.Vue`ï¼š

```vue
<template>
    <div>
        Hello World!
    </div>
</template>

<script>
  export default {
    name: 'Index'
  }
</script>

<style scoped>

</style>
```

è¿™é‡Œæš‚æ—¶ä¸åšè¿‡å¤šå¼€å‘ï¼Œå…ˆéšä¾¿å†™ä¸ª Hello Worldã€‚

### â‘¡ å‰ç«¯ç›¸å…³é…ç½®

#### â…  è®¾ç½®åå‘ä»£ç†

ä¿®æ”¹ `src\main.js` ä»£ç å¦‚ä¸‹ï¼š

```js
import Vue from 'vue'
import App from './App.vue'
import router from './router'
import store from './store'

Vue.config.productionTip = false

// è®¾ç½®åå‘ä»£ç†ï¼Œå‰ç«¯è¯·æ±‚é»˜è®¤å‘é€åˆ° http://localhost:8082/api (åç«¯)
var axios = require('axios')
axios.defaults.baseURL = 'http://localhost:8082/api'

// å…¨å±€æ³¨å†Œï¼Œä¹‹åå¯åœ¨å…¶ä»–ç»„ä»¶ä¸­é€šè¿‡ this.$axios å‘é€æ•°æ®
Vue.prototype.$axios = axios

new Vue({
  router,
  store,
  render: h => h(App)
}).$mount('#app')

```

ğŸš¨ æ³¨æ„æ­¤å¤„å‘é€çš„ç«¯å£å· 8082 ä¸€å®šè¦ä¸ SpringBoot é…ç½®çš„ç«¯å£å·ä¸€è‡´ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200726102450.png)

å› ä¸ºä½¿ç”¨äº†æ–°çš„æ¨¡å— `axios`ï¼Œæ‰€ä»¥éœ€è¦è¿›å…¥åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼ˆæˆ–è€…ç›´æ¥åœ¨ Vs-Code çš„é¡¹ç›®ç»ˆç«¯æ‰§è¡Œï¼‰ï¼Œæ‰§è¡Œ `npm install --save axios`ï¼Œä»¥å®‰è£…è¿™ä¸ªæ¨¡å—ï¼š

![](https://gitee.com/veal98/images/raw/master/img/20200725212129.png)

#### â…¡ é…ç½®é¡µé¢è·¯ç”±

ä¿®æ”¹ `src\router\index.js` ä»£ç å¦‚ä¸‹

```js
import Vue from 'vue'
import VueRouter from 'vue-router'
import Index from '@/components/home/Index'
import Login from '@/components/Login'

Vue.use(VueRouter)

const routes = [
  {
    path: '/login',
    name: 'Login',
    component: Login
  },
  {
    path: '/index',
    name: 'Index',
    component: Index
    
  }
]

const router = new VueRouter({
  mode: 'history',
  base: process.env.BASE_URL,
  routes
})

export default router

```

#### â…¢ è·¨åŸŸæ”¯æŒ

å‰åç«¯åˆ†ç¦»å¼€å‘æ—¶ï¼Œä¸å¾—ä¸é¢å¯¹è·¨åŸŸé—®é¢˜ã€‚å¯¹äºè·¨åŸŸï¼Œå¯ä»¥ç”¨ä¸¤ç§åŠæ³•è¿›è¡Œå¤„ç†ã€‚

- å®‰è£… nginxï¼Œå°†åç«¯å’Œå‰ç«¯éƒ½ä»£ç†å¸¦ nginx ä¸Šã€‚

- åœ¨ vue-cli ä¸­é…ç½® proxyï¼Œå°† API è¯·æ±‚ä»£ç†åˆ° API æœåŠ¡å™¨ä¸Šï¼ˆç›®å‰å…ˆé‡‡ç”¨è¿™ç§æ–¹å¼ï¼‰ã€‚

ä½¿ç”¨ Vue-CLI 3+ åˆ›å»ºçš„é¡¹ç›®ä¸­æ²¡æœ‰ `config `æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `package.json` æ–‡ä»¶çš„åŒçº§ç›®å½•ä¸‹åˆ›å»º `vue.config.js` æ–‡ä»¶ã€‚

```js
module.exports = {
  outputDir: "dist", //buildè¾“å‡ºç›®å½•
  assetsDir: "assets", //é™æ€èµ„æºç›®å½•ï¼ˆjs, css, imgï¼‰
  lintOnSave: true, //æ˜¯å¦å¼€å¯eslint
  devServer: {
    open: true, //æ˜¯å¦è‡ªåŠ¨å¼¹å‡ºæµè§ˆå™¨é¡µé¢
    host: "localhost",
    port: "8080", // Vue è¿è¡Œç«¯å£
    https: false, //æ˜¯å¦ä½¿ç”¨httpsåè®®
    hotOnly: true, //æ˜¯å¦å¼€å¯çƒ­æ›´æ–°
    proxy: { // è·¨åŸŸæ”¯æŒ
      "/api": {
        target: "http://localhost:8082", //APIæœåŠ¡å™¨çš„åœ°å€(åç«¯ï¼‰
        changeOrigin: true, // è™šæ‹Ÿçš„ç«™ç‚¹éœ€è¦æ›´ç®¡ origin
        pathRewrite: {
          //é‡å†™è·¯å¾„ æ¯”å¦‚'/api/aaa/ccc'é‡å†™ä¸º'/aaa/ccc'
          "^/api": "",
        },
      },
    },
  },
};

```

æ‰€ä»¥è‹¥æ˜¯åç«¯çš„APIä¸º `'/aaa/ccc'`ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘è¯·æ±‚æ—¶å°†è·¯å¾„è®¾ç½®ä¸º `'/api/aaa/ccc'`, è¿™æ ·æˆ‘ä»¬çš„è¯·æ±‚æ‰ä¼šè¢«proxy ä»£ç†åˆ°ã€‚

#### â…£ è¿è¡Œé¡¹ç›®

è®¿é—®åœ°å€ï¼š[http://localhost:8081/login](http://localhost:8081/login)

<img src="https://gitee.com/veal98/images/raw/master/img/20200725220359.png" style="zoom:80%;" />

### â‘¢ åç«¯å¼€å‘

#### â…  User ç±»

åœ¨ `Login.vue` ä¸­ï¼Œå‰ç«¯å‘é€æ•°æ®çš„ä»£ç æ®µä¸º

```vue
.post('/login', {
            username: this.loginForm.username,
            password: this.loginForm.password
          })
```


åç«¯å¦‚ä½•æ¥æ”¶è¿™ä¸ª JS å¯¹è±¡å‘¢ï¼Ÿæˆ‘ä»¬å¾ˆè‡ªç„¶åœ°æƒ³åˆ°åœ¨éœ€è¦åˆ›å»ºä¸€ä¸ªå½¢å¼ä¸Šä¸€è‡´çš„ Java ç±»ã€‚

æ‰“å¼€æˆ‘ä»¬çš„åç«¯é¡¹ç›®ï¼Œæ–°å»º `entity/User `ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public class User {
    int id;
    String username;
    String password;

    public User() {
    }

    public User(int id, String username, String password) {
        this.id = id;
        this.username = username;
        this.password = password;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    @Override
    public String toString() {
        return "User{" +
                "id=" + id +
                ", username='" + username + '\'' +
                ", password='" + password + '\'' +
                '}';
    }
}
```

#### â…¡ Result ç±»

`Result `ç±»æ˜¯ä¸ºäº†æ„é€  responseï¼Œä¸»è¦æ˜¯**å“åº”ç **ã€‚æ–°å»º `result` åŒ…ï¼Œåˆ›å»º `Result` ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public class Result {

    // å“åº”ç 
    private int code;

    public Result(int code){
        this.code = code;
    }
    public int getCode() {
        return code;
    }

    public void setCode(int code) {
        this.code = code;
    }
}
```

å®é™…ä¸Šç”±äºå“åº”ç æ˜¯å›ºå®šçš„ï¼Œ`code` å±æ€§åº”è¯¥æ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œè¿™é‡Œä½œäº†ä¸€äº›ç®€åŒ–ã€‚

#### â…¢ LoginController

`Controller `æ˜¯å¯¹å“åº”è¿›è¡Œå¤„ç†çš„éƒ¨åˆ†ã€‚è¿™é‡Œæˆ‘ä»¬è®¾å®šè´¦å·æ˜¯ adminï¼Œå¯†ç æ˜¯ 123456ï¼Œåˆ†åˆ«ä¸æ¥æ”¶åˆ°çš„ `User `ç±»çš„ `username `å’Œ `password `è¿›è¡Œæ¯”è¾ƒï¼Œæ ¹æ®ç»“æœè¿”å›ä¸åŒçš„ `Result`ï¼Œå³ä¸åŒçš„å“åº”ç ã€‚å‰ç«¯å¦‚æœæ¥æ”¶åˆ°æˆåŠŸçš„å“åº”ç ï¼ˆ200ï¼‰ï¼Œåˆ™è·³è½¬åˆ° `/index` é¡µé¢ã€‚

æ–°å»º `controller/LoginController `ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
@Controller
public class LoginController {

    @CrossOrigin
    @PostMapping(value = "api/login")
    @ResponseBody
    public Result login(@RequestBody User requestUser) {
        String username = requestUser.getUsername();
        String password = requestUser.getPassword();
        System.out.println("username: " + username);
        System.out.println("password: " + password);
        
        if (!Objects.equals("admin", username) || !Objects.equals("123456", password)) {
            System.out.println("è´¦å·å¯†ç é”™è¯¯");
            return new Result(400);
        } else {
            System.out.println("Successful");
            return new Result(200);
        }
    }
}
```

è¿™é‡Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºå‰åç«¯çš„äº¤äº’è¿‡ç¨‹ï¼ŒçœŸæ­£çš„ç™»å½•éªŒè¯è¦è€ƒè™‘æ›´å¤šå› ç´ ï¼Œåé¢çš„æ–‡ç« ä¼šæœ‰è¯¦ç»†ä»‹ç»ã€‚åˆæœŸå¯¹é¡¹ç›®ç»“æ„åšäº†ä¸€äº›ç®€åŒ–ï¼Œå®é™…ä¸Šåœ¨ `controller `é‡Œå†™è¿™ä¹ˆå¤šé€»è¾‘æ˜¯ä¸åˆç†çš„ï¼Œè¦å°½é‡å°è£…åˆ° `service `é‡Œé¢å»ã€‚

### â‘£ æµ‹è¯•

åŒæ—¶è¿è¡Œå‰ç«¯å’Œåç«¯é¡¹ç›®ï¼Œè®¿é—® `localhost:8080/login`ï¼Œè¾“å…¥ç”¨æˆ·å `admin`ï¼Œå¯†ç  `123456`ï¼ŒæˆåŠŸè¿›å…¥ `localhost:8080/index`ã€‚

![](https://gitee.com/veal98/images/raw/master/img/20200725233749.gif)

åç«¯èƒ½å¤Ÿæ”¶åˆ°å‰ç«¯ä¼ è¿‡æ¥çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå‰ç«¯èƒ½å¤Ÿæ”¶åˆ°åç«¯ä¼ è¿‡æ¥çš„çŠ¶æ€ç ï¼Œå‰åç«¯æˆåŠŸå®Œæˆäº¤äº’ ğŸ‰

## â›µ Next

ä¸‹ä¸€ç¯‡å°†å¼•å…¥ MySQLæ•°æ®åº“ï¼Œé€šè¿‡ Spring Data JPA æ“ä½œæ•°æ®åº“ï¼Œå®ç°éªŒè¯ç”¨æˆ·åå’Œå¯†ç ã€‚

## ğŸ“š References

- [Vue + Spring Boot é¡¹ç›®å®æˆ˜ â€” ç™½å·](https://blog.csdn.net/Neuf_Soleil/article/details/88925013)

- [vue-cli3é…ç½®ä¸è·¨åŸŸå¤„ç†æ–¹æ³•](https://www.jb51.net/article/167890.htm)

- [springbootå’Œvueçš„å‰åç«¯åˆ†ç¦»æŠ€æœ¯çš„ç›¸å…³é…ç½®](https://www.pianshen.com/article/6592152737/)

  