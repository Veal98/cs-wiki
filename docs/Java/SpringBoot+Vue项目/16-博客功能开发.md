# âœ åšå®¢åŠŸèƒ½å¼€å‘

---

## 1. æ•°æ®åº“è¡¨åŠå®ä½“ç±»

ä¸ºäº†ä¿å­˜æ–‡ç« ç›¸å…³çš„ä¿¡æ¯ï¼Œè®¾è®¡ `article` è¡¨å¦‚ä¸‹ï¼š

<img src="https://gitee.com/veal98/images/raw/master/img/20200902152916.png" style="zoom: 67%;" />

åŒ…å«çš„å­—æ®µæ˜¯ idã€æ ‡é¢˜ã€æ–‡ç«  htmlã€md åŸæ–‡ã€æ–‡ç« æ‘˜è¦ã€æ–‡ç« æ ‡é¢˜å’Œå‘æ–‡æ—¥æœŸã€‚

```sql
-- ----------------------------
-- Table structure for article
-- ----------------------------
DROP TABLE IF EXISTS `article`;
CREATE TABLE `article` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `article_title` varchar(255) DEFAULT NULL,
  `article_content_html` longtext CHARACTER SET utf8,
  `article_content_md` longtext CHARACTER SET utf8,
  `article_abstract` varchar(255) DEFAULT NULL,
  `article_cover` varchar(255) DEFAULT NULL,
  `article_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB;

-- ----------------------------
-- Records of article
-- ----------------------------
INSERT INTO `article` VALUES ('1', 'å‡‰é£æœ‰å…´', 'å‡‰é£æœ‰å…´ï¼Œç§‹æœˆæ— è¾¹ï¼Œè€Œæˆ‘æ€ä¹¡çš„æƒ…ç»ªå¥½æ¯”åº¦æ—¥å¦‚å¹´ã€‚è™½ç„¶æˆ‘é£æµå€œå‚¥ç‰æ ‘ä¸´é£ï¼Œä½†æˆ‘è¿˜æ˜¯æœ‰èªæ˜çš„å¤´è„‘å’Œå¼ºå¥çš„è‡‚è…•ã€‚', 'å‡‰é£æœ‰å…´ï¼Œç§‹æœˆæ— è¾¹ï¼Œè€Œæˆ‘æ€ä¹¡çš„æƒ…ç»ªå¥½æ¯”åº¦æ—¥å¦‚å¹´ã€‚è™½ç„¶æˆ‘é£æµå€œå‚¥ç‰æ ‘ä¸´é£ï¼Œä½†æˆ‘è¿˜æ˜¯æœ‰èªæ˜çš„å¤´è„‘å’Œå¼ºå¥çš„è‡‚è…•ã€‚', 'å‡‰é£æœ‰å…´ï¼Œç§‹æœˆæ— è¾¹ï¼Œè€Œæˆ‘æ€ä¹¡çš„æƒ…ç»ªå¥½æ¯”åº¦æ—¥å¦‚å¹´ã€‚', 'https://i.loli.net/2020/01/16/d2ZlKI1WRE4p7XB.png', '2020-01-13 21:14:27');

INSERT INTO `article` VALUES ('2', 'çˆ±ä½ ä¸€ä¸‡å¹´', '<p>æ›¾ç»æœ‰ä»½çœŸæŒšçš„çˆ±æƒ…æ‘†åœ¨æˆ‘çš„é¢å‰ï¼Œæˆ‘æ²¡æœ‰çæƒœï¼Œç­‰åˆ°å¤±å»çš„æ—¶å€™æ‰åæ‚”è«æ€¥ï¼Œäººä¸–é—´æœ€ç—›è‹¦çš„äº‹è«è¿‡ä½™æ­¤ï¼Œå¦‚æœä¸Šå¤©åœ¨ç»™æˆ‘ä¸€æ¬¡æœºä¼šï¼Œæˆ‘ä¼šå¯¹é‚£ä¸ªå¥³å­©è¯´æˆ‘çˆ±ä½ ï¼Œå¦‚æœè¦åœ¨è¿™ä»½çˆ±ä¸ŠåŠ ä¸ªæœŸé™ï¼Œæˆ‘å¸Œæœ›æ˜¯ä¸€ä¸‡å¹´ã€‚</p>\n', 'æ›¾ç»æœ‰ä»½çœŸæŒšçš„çˆ±æƒ…æ‘†åœ¨æˆ‘çš„é¢å‰ï¼Œæˆ‘æ²¡æœ‰çæƒœï¼Œç­‰åˆ°å¤±å»çš„æ—¶å€™æ‰åæ‚”è«æ€¥ï¼Œäººä¸–é—´æœ€ç—›è‹¦çš„äº‹è«è¿‡ä½™æ­¤ï¼Œå¦‚æœä¸Šå¤©åœ¨ç»™æˆ‘ä¸€æ¬¡æœºä¼šï¼Œæˆ‘ä¼šå¯¹é‚£ä¸ªå¥³å­©è¯´æˆ‘çˆ±ä½ ï¼Œå¦‚æœè¦åœ¨è¿™ä»½çˆ±ä¸ŠåŠ ä¸ªæœŸé™ï¼Œæˆ‘å¸Œæœ›æ˜¯ä¸€ä¸‡å¹´ã€‚', 'æ›¾ç»æœ‰ä»½çœŸæŒšçš„çˆ±æƒ…æ‘†åœ¨æˆ‘çš„é¢å‰ï¼Œæˆ‘æ²¡æœ‰çæƒœï¼Œç­‰åˆ°å¤±å»çš„æ—¶å€™æ‰åæ‚”è«åŠï¼Œäººä¸–é—´æœ€ç—›è‹¦çš„äº‹è«è¿‡äºæ­¤ã€‚', 'https://i.loli.net/2020/01/16/DdGBk1R3mj5er6v.png', '2020-01-16 00:00:00');
```

å¯¹åº”çš„ POJO æ˜¯ï¼š

```java
@Entity
@Table(name = "article")
@JsonIgnoreProperties({"handler","hibernateLazyInitializer"})
public class Article {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id")
    private int id;
    private String articleTitle;
    private String articleContentHtml;
    private String articleContentMd;
    private String articleAbstract;
    private String articleCover;
    private Date articleDate;
    
    // Consturctor And No-Args Constructor
    // Getter And Setter
```

## 2. æ–‡ç« åˆ—è¡¨ç•Œé¢

![](https://gitee.com/veal98/images/raw/master/img/20200902203733.png)

è¯¥ç•Œé¢å¯¹åº”ç¬”è®°æœ¬æŒ‰é’® `/jotter` ï¼š

```js
{
  path: '/jotter',
  name: 'Articles',
  component: Articles,
},
```

```vue
<template>
  <div style="margin-top: 40px">
    <div class="articles-area">
      <el-card style="text-align: left">
        <div v-for="article in articles.slice((currentPage-1)*pagesize,currentPage*pagesize)" :key="article.id">
          <div style="float:left;width:85%;height: 150px;">
            <router-link class="article-link" :to="{path:'jotter/article',query:{id: article.id}}"><span style="font-size: 20px"><strong>{{article.articleTitle}}</strong></span></router-link>
            <el-divider content-position="left">{{article.articleDate}}</el-divider>
            <router-link class="article-link" :to="{path:'jotter/article',query:{id: article.id}}"><p>{{article.articleAbstract}}</p></router-link>
          </div>
          <el-image
            style="margin:18px 0 0 30px;width:100px;height: 100px"
            :src="article.articleCover"
            fit="cover"></el-image>
          <el-divider></el-divider>
        </div>
      </el-card>
    </div>

    <el-pagination
      @current-change="handleCurrentChange"
      :current-page="currentPage"
      :page-size="pagesize"
      :total="articles.length">
    </el-pagination>

  </div>
</template>

<script>
  export default {
    name: 'Articles',
    data () {
      return {
        articles: [],
        currentPage: 1,
        pagesize: 5
      }
    },
    mounted () {
      this.loadArticles()
    },
    methods: {
      loadArticles () {
        var _this = this
        this.$axios.get('/article').then(resp => {
          if (resp && resp.status === 200) {
            _this.articles = resp.data
          }
        })
      },
      handleCurrentChange (page) {
        this.currentPage = currentPage
      }
    }
  }
</script>

<style scoped>
  .articles-area {
    width: 990px;
    height: 750px;
    margin-left: auto;
    margin-right: auto;
  }
  .article-link {
    text-decoration: none;
    color: #606266;
  }
  .article-link:hover {
    color: #409EFF;
  }
</style>
```

å¯¹åº”çš„åç«¯æ¥å£ `/article`ï¼š

```java
// è·å–æ‰€æœ‰æ–‡ç« 
@GetMapping("/api/article")
public List<Article> listArticles(){
    return articleService.list();
}
```

Service å±‚ï¼ŒDAO å±‚è¿™é‡Œå°±ä¸è´´äº†ï¼Œéƒ½æ˜¯å¤§åŒå°å¼‚çš„ã€‚

éœ€è¦è¯¦ç»†è§£é‡Šçš„åœ°æ–¹å°±æ˜¯å‘è¯¦æƒ…ç•Œé¢ä¼ å…¥å‚æ•°ï¼Œ ç‚¹å‡»æ–‡ç« åç§°æˆ–è€…æ¦‚è¦å°±è·³è½¬è‡³è¯¦æƒ…ç•Œé¢ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦ä¼ å…¥è¯¥æ–‡ç« çš„ idï¼Œä»¥ä¾¿æ ¹æ® id æŸ¥è¯¢è¯¥æ–‡ç« çš„è¯¦ç»†å†…å®¹ã€‚

é€šè¿‡ vue çš„ router ä¼ é€’å‚æ•°æœ‰ä¸¤ç§æ–¹å¼ï¼š

- ç¬¬ä¸€ç§ç§°ä¸º**å‘½åè·¯ç”±ä¼ å‚**ï¼Œå³ä½¿ç”¨ paramsï¼Œå½¢å¼å¦‚ä¸‹ï¼š

  ```js
  this.$router.push({ name: 'ArticleEditor', params: { id: 1 }})
  ```

  **è¿™ç§æ–¹å¼é‡Œé¢ `name` æ˜¯æŒ‡åœ¨è·¯ç”±ä¸­å®šä¹‰çš„é‚£ä¸ª `name`ï¼Œè€Œä¸æ˜¯é¡µé¢è·¯å¾„**ã€‚è·³è½¬åˆ°çš„é¡µé¢è·¯ç”±ä¸ä¼šåŒ…å«ç›¸å…³å‚æ•°ä¿¡æ¯ï¼Œæ‰€ä»¥åˆ·æ–°åå°±ä¸¢å¤±äº†ã€‚æˆ‘ä»¬å¯èƒ½ä¼šæƒ³è¦æŠŠæŸä¸€ç¯‡æ–‡ç« åˆ†äº«ç»™åˆ«äººï¼Œå¦‚æœé‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå°±æ— æ³•å®ç°é“¾æ¥åˆ†äº«ï¼Œæ‰€ä»¥è¿™é‡Œé‡‡ç”¨ç¬¬äºŒç§ï¼Œç§°ä¸º**æŸ¥è¯¢ä¼ å‚**

- **æŸ¥è¯¢ä¼ å‚**ï¼š

  ```js
  this.$router.push({ path: 'jotter/article', query: { id: 1 }});
  ```

  `path` å³è¦è·³è½¬çš„é¡µé¢è·¯å¾„ï¼Œid å³æˆ‘ä»¬è¦ä¼ é€’çš„å‚æ•°ï¼Œåªè¦åœ¨è¯¦æƒ…é¡µé¢è·å–åˆ°è¯¥å‚æ•°å¹¶å‘æ•°æ®åº“å‘é€è¯·æ±‚å³å¯ã€‚è·å–å‚æ•°çš„å½¢å¼å¦‚ä¸‹ï¼š

  ```js
  this.$route.query.id
  ```

## 3. æ–‡ç« è¯¦æƒ…ç•Œé¢

![](https://gitee.com/veal98/images/raw/master/img/20200902203858.png)

ç‚¹å‡»æ–‡ç« åˆ—è¡¨ä¸­çš„æ–‡ç« æ ‡é¢˜æˆ–è€…æ¦‚è¦ï¼Œè·³è½¬è‡³è¯¥æ–‡ç« çš„è¯¦æƒ…é¡µï¼Œæ–‡ç« è¯¦æƒ…é¡µç»„ä»¶çš„è·¯ç”±ä¸ºï¼š

```js
{
  path: '/jotter/article',
  name: 'ArticleDetails',
  component: ArticleDetails,
},
```

æ–‡ç« è¯¦æƒ…é¡µé¢çš„éœ€è¦è§£å†³çš„é—®é¢˜ä¸»è¦æ˜¯æ­£ç¡®æ¸²æŸ“ htmlã€‚æ¸²æŸ“çš„ç»“æœæœ€å¥½ä¸åŸç¼–è¾‘å™¨ï¼ˆæˆ‘ä»¬å°†è¦é‡‡ç”¨çš„ md ç¼–è¾‘å™¨æ˜¯ mavon-editorï¼Œè¯¦è§ ã€5.æ–‡ç« ç¼–è¾‘/å‘å¸ƒã€‘ï¼‰ä¸­é¢„è§ˆçš„æ•ˆæœä¸€è‡´ï¼Œä½†ä½œè€…åˆæ²¡æœ‰æä¾›ç›¸å…³æ¥å£ï¼Œæ²¡åŠæ³•ï¼Œåªèƒ½æŠŠç¼–è¾‘å™¨çš„ css æ–‡ä»¶ç»™æ•´åˆ°æœ¬åœ°äº†ï¼šç›´æ¥æ‹·è´æœ¬é¡¹ç›®å‰ç«¯æºç çš„ `/src/style/markdown.css` å°±è¡Œ

æ¥ç€æˆ‘ä»¬åœ¨ `component/jotter` æ–‡ä»¶å¤¹ä¸­æ–°å»º `ArticleDetails` ç»„ä»¶ï¼Œåœ¨ style ä¸­å¼•å…¥ cssï¼š

```vue
<template>
  <div class="articles-area">
    <el-card style="text-align: left;width: 990px;margin: 35px auto 0 auto">
      <div>
        <span style="font-size: 20px"><strong>{{article.articleTitle}}</strong></span>
        <el-divider content-position="left">{{article.articleDate}}</el-divider>
        <div class="markdown-body">
          <div v-html="article.articleContentHtml"></div>
        </div>
      </div>
    </el-card>
  </div>
</template>

<script>
  export default {
    name: 'ArticleDetails',
    data () {
      return {
        article: []
      }
    },
    mounted () {
      this.loadArticle()
    },
    methods: {
      loadArticle () {
        var _this = this
        this.$axios.get('/article/' + this.$route.query.id).then(resp => {
          if (resp && resp.status === 200) {
            console.log(resp.data)
            _this.article = resp.data
          }
        })
      }
    }
  }
</script>

<style scoped>
  @import "../../styles/markdown.css";
</style>
```

ä½¿ç”¨ vue çš„ `v-html` å±æ€§å³å¯æ–¹ä¾¿åœ°æ¸²æŸ“ã€‚åç«¯åªéœ€è¦ç¼–å†™ä¸€ä¸ªå¯¹åº”çš„æ–¹æ³•æ ¹æ® id æŸ¥è¯¢æ–‡ç« å³å¯ï¼š

```java
// æ ¹æ® id æŸ¥è¯¢æ–‡ç« 
@GetMapping("/api/article/{id}")
public Article getOneArticle(@PathVariable("id") int id) {
    return articleService.findById(id);
}
```

## 4. æ–‡ç« åå°ç®¡ç†ç•Œé¢

![](https://gitee.com/veal98/images/raw/master/img/20200902203915.png)

<img src="https://gitee.com/veal98/images/raw/master/img/20200902211617.png" style="zoom:80%;" />

è¯¥ç•Œé¢å¯¹åº”çš„è·¯ç”±ï¼š

```js
{
  path: "/admin/content/article",
  name: "ArticleManagement",
  component: ArticleManagement,
  meta: {
    requireAuth: true
  }
},
```

```vue
<template>
  <div>
    
    <el-link href="/admin/content/editor" :underline="false" target="_blank" class="add-link">
      <el-button type="success">å†™æ–‡ç« </el-button>
    </el-link>

    <el-card style="margin: 18px 2%;width: 95%">
      <el-table
        :data="articles"
        stripe
        style="width: 100%"
        :max-height="tableHeight">
        
        <el-table-column
          prop="articleTitle"
          label="é¢˜ç›®"
          width="200">
        </el-table-column>
        <el-table-column
          prop="articleDate"
          label="å‘å¸ƒæ—¥æœŸ"
         fit>
        </el-table-column>
        <el-table-column
          fixed="right"
          label="æ“ä½œ"
          width="200">
          <template slot-scope="scope">
            <el-button
              @click.native.prevent="viewArticle(scope.row.id)"
              type="text"
              size="small">
              æŸ¥çœ‹
            </el-button>
            <el-button
              @click.native.prevent="editArticle(scope.row)"
              type="text"
              size="small">
              ç¼–è¾‘
            </el-button>
            <el-button
              @click.native.prevent="deleteArticle(scope.row.id)"
              type="text"
              size="small">
              ç§»é™¤
            </el-button>
          </template>
        </el-table-column>
      </el-table>
  
    </el-card>
  </div>
</template>

<script>
  export default {
    name: 'ArticleManagement',
    data () {
      return {
        articles: []
      }
    },
    mounted () {
      this.loadArticles()
    },
    computed: {
      tableHeight () {
        return window.innerHeight - 250
      }
    },
    methods: {
      loadArticles () {
        var _this = this
        this.$axios.get('/article').then(resp => {
          if (resp && resp.status === 200) {
            _this.articles = resp.data
          }
        })
      },

      viewArticle (id) {
        let articleUrl = this.$router.resolve(
          {
            path: '../../jotter/article',
            query: {
              id: id
            }
          }
        )
        window.open(articleUrl.href, '_blank')
      },

      editArticle (article) {
        this.$router.push(
          {
            name: 'ArticleEditor',
            params: {
              article: article
            }
          }
        )
      },
      deleteArticle (id) {
        this.$confirm('æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤è¯¥æ–‡ç« , æ˜¯å¦ç»§ç»­?', 'æç¤º', {
          confirmButtonText: 'ç¡®å®š',
          cancelButtonText: 'å–æ¶ˆ',
          type: 'warning'
        }).then(() => {
            this.$axios
              .delete('/admin/content/article/' + id).then(resp => {
              if (resp && resp.status === 200) {
                this.loadArticles()
              }
            })
          }
        ).catch(() => {
          this.$message({
            type: 'info',
            message: 'å·²å–æ¶ˆåˆ é™¤'
          })
        })
      }
    }
  }
</script>

<style scoped>
  .add-link {
    margin: 18px 0 15px 10px;
    float: left;
  }
</style>
```

è¿™é‡Œç”±äºæƒ³è¦**å®ç°åœ¨æ–°çª—å£æ‰“å¼€æ–‡ç« è¯¦æƒ…é¡µï¼Œåˆè¦ä¼ å…¥å‚æ•°**ï¼Œæ‰€ä»¥éœ€è¦å†™æˆå¦‚ä¸‹å½¢å¼ï¼š

```js
 viewArticle (id) {
   let articleUrl = this.$router.resolve(
     {
       path: '../../jotter/article',
       query: {
         id: id
       }
     }
   )
   window.open(articleUrl.href, '_blank')
 }
```

è€Œ**ç¼–è¾‘æ–¹æ³•åˆ™ä½¿ç”¨ params ä¼ å…¥äº†å‚æ•°ï¼Œæ¯•ç«Ÿä¸ç”¨åˆ†äº«ç¼–è¾‘å™¨é“¾æ¥ç»™åˆ«äºº**ã€‚

åç«¯æ–°å¢äº†ä¸€ä¸ªæ ¹æ® id åˆ é™¤æ–‡ç« çš„æ–¹æ³•ï¼š

```java
// æ ¹æ® id åˆ é™¤æ–‡ç« 
@DeleteMapping("/api/admin/content/article/{id}")
public void deleteArticle(@PathVariable("id") int id) {
    articleService.delete(id);
}
```

## 5. æ–‡ç« ç¼–è¾‘/å‘å¸ƒ

mavon-editor ç¼–è¾‘å™¨åº”è¯¥æ˜¯æœ€ç«çš„å›½äº§å¼€æº markdown ç¼–è¾‘å™¨é‡Œæœ€ç«çš„ä¸€ä¸ªï¼ŒåŠŸèƒ½æ¯”è¾ƒé½å…¨ï¼Œç•Œé¢æ¯”è¾ƒèˆ’æœï¼Œä»“åº“åœ°å€ ï¼š[https://github.com/hinesboy/mavonEditor](https://github.com/hinesboy/mavonEditor)

æ‰“å¼€ vue é¡¹ç›®çš„å‘½ä»¤è¡Œç»ˆç«¯ï¼Œå®‰è£… mavonEditor

```shell
npm install mavon-editor --save
```

æ¥ä¸‹æ¥å¼•å…¥è¯¥ç¼–è¾‘å™¨

`index.js`:

```js
    // å…¨å±€æ³¨å†Œ
    // import with ES6
    import Vue from 'vue'

    import mavonEditor from 'mavon-editor'
    import 'mavon-editor/dist/css/index.css'

    // use
    Vue.use(mavonEditor)
    new Vue({
        'el': '#main',
        data() {
            return { value: '' }
        }
    })
```

è™½ç„¶ç¼–è¾‘å™¨æä¾›é¢„è§ˆåŠŸèƒ½ï¼Œä½†ä¸€èˆ¬æˆ‘ä»¬åœ¨å‰å°åªä¸éœ€è¦å‘ç”¨æˆ·å±•ç¤º markdown åŸæ–‡ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯å•ç‹¬ç¼–å†™ä¸€ä¸ª**æ–‡ç« è¯¦æƒ…**é¡µé¢æ¸²æŸ“å‡º htmlã€‚æœ‰ä¸¤ç§æ€è·¯ï¼š

- ç¬¬ä¸€ç§ï¼šåœ¨æ•°æ®åº“ä¸­ä»…ä¿å­˜ markdown è¯­æ³•çš„æ–‡æœ¬ï¼Œåœ¨éœ€è¦ä½¿ç”¨æ—¶è§£æä¸º htmlï¼Œå¹¶åœ¨å‰å°æ¸²æŸ“
- ç¬¬äºŒç§ï¼šmarkdownã€html å‡ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œéœ€è¦ä½¿ç”¨æ—¶å–å‡º html å¹¶åœ¨å‰å°æ¸²æŸ“

ç¬¬ä¸€ç§çš„å¥½å¤„å°±æ˜¯èŠ‚çœä¼ è¾“çš„æ•°æ®é‡ä¸æ•°æ®åº“ç©ºé—´ï¼Œåå¤„å°±æ˜¯éœ€è¦è‡ªå·±ç¼–å†™è§£ææ–¹æ³•ï¼Œç›¸å½“äºåˆé‡å†™äº†ä¸€éç¼–è¾‘å™¨ï¼Œè€Œä¸”éš¾ä»¥ä¿è¯è§£æå‡ºæ¥çš„æ ·å¼è·ŸåŸç¼–è¾‘å™¨ä¸€è‡´ï¼ˆç”¨ä¸€äº›å…¬å¼€çš„è§£æå‡½æ•°ä¹Ÿå­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼‰ã€‚

å½“ç„¶ï¼Œå¦‚æœç¼–è¾‘å™¨æä¾›äº†è§£æçš„ API é‚£å°±æ¯”è¾ƒèˆ’æœäº†ï¼Œä½†æˆ‘æš‚æ—¶æ²¡æ‰¾åˆ°ç›¸å…³çš„å†…å®¹ã€‚ä½œè€…å¯èƒ½å¹¶ä¸æƒ³è¿™ä¹ˆåšï¼Œè€Œæ˜¯æä¾›äº†ä¸€ä¸ªå¯ä»¥ä¼ é€’ markdown ä¸ html å€¼çš„ save æ–¹æ³•ï¼Œå› æ­¤å°±è¿™ä¸ªç¼–è¾‘å™¨è€Œè¨€ï¼Œæˆ‘è§‰å¾—é€‰æ‹©ç¬¬äºŒç§æ–¹æ³•æ–¹ä¾¿ä¸€äº›ã€‚

![](https://gitee.com/veal98/images/raw/master/img/20200902203928.png)

è¯¥ç•Œé¢çš„è·¯ç”±ï¼š

```js
{
  path: '/admin/content/editor',
  name: 'ArticleEditor',
  component: ArticleEditor,
  meta: {
    requireAuth: true
  }
},
```



```vue
<template>
  <div>
    
    <el-row>
      <el-input
        v-model="article.articleTitle"
        style="margin: 10px 0px;font-size: 18px;"
        placeholder="è¯·è¾“å…¥æ ‡é¢˜"></el-input>
    </el-row>

    <el-row style="height: calc(100vh - 140px);">
      <mavon-editor
        v-model="article.articleContentMd"
        style="height: 100%;"
        ref=md
        @save="saveArticles"
        fontSize="16px">
		
         <!-- ä»¿ç…§ mavon-editor æºç  tool-bar -->
        <button type="button" class="op-icon el-icon-document" :title="'æ‘˜è¦/å°é¢'" slot="left-toolbar-after"
                @click="dialogVisible = true">
        </button>

      </mavon-editor>

      <el-dialog
        :visible.sync="dialogVisible"
        width="30%">
        <el-divider content-position="left">æ‘˜è¦</el-divider>
        <el-input
          type="textarea"
          v-model="article.articleAbstract"
          rows="6"
          maxlength="255"
          show-word-limit></el-input>
        <el-divider content-position="left">å°é¢</el-divider>
        <div style="margin-top: 20px">
          <el-input v-model="article.articleCover" autocomplete="off" placeholder="å›¾ç‰‡ URL"></el-input>
          <img-upload @onUpload="uploadImg" ref="imgUpload" style="margin-top: 5px"></img-upload>
        </div>
        <span slot="footer" class="dialog-footer">
          <el-button @click="dialogVisible = false">å– æ¶ˆ</el-button>
          <el-button type="primary" @click="dialogVisible = false">ç¡® å®š</el-button>
        </span>
      </el-dialog>

    </el-row>
  </div>
</template>

<script>
  import ImgUpload from '../book/ImgUpload'
  export default {
    name: 'ArticleEditor',
    components: {ImgUpload},
    data () {
      return {
        article: {},
        dialogVisible: false
      }
    },
    mounted () {
      if (this.$route.params.article) {
        this.article = this.$route.params.article
      }
    },
    methods: {
      saveArticles (value, render) {
        // value æ˜¯ mdï¼Œrender æ˜¯ html
        this.$confirm('æ˜¯å¦ä¿å­˜å¹¶å‘å¸ƒæ–‡ç« ?', 'æç¤º', {
          confirmButtonText: 'ç¡®å®š',
          cancelButtonText: 'å–æ¶ˆ',
          type: 'warning'
        }).then(() => {
            this.$axios
              .post('/admin/content/article', {
                id: this.article.id,
                articleTitle: this.article.articleTitle,
                articleContentMd: value,
                articleContentHtml: render,
                articleAbstract: this.article.articleAbstract,
                articleCover: this.article.articleCover,
                articleDate: this.article.articleDate
              }).then(resp => {
              if (resp && resp.status === 200) {
                this.$message({
                  type: 'info',
                  message: 'å·²ä¿å­˜æˆåŠŸ'
                })
              }
            })
          }
        ).catch(() => {
          this.$message({
            type: 'info',
            message: 'å·²å–æ¶ˆå‘å¸ƒ'
          })
        })
      },
      uploadImg () {
        this.article.articleCover = this.$refs.imgUpload.url
      }
    }
  }
</script>
```

æ·»åŠ /æ›´æ–°æ–‡ç« å¯¹åº”çš„åç«¯æ¥å£:

```java
// æ·»åŠ /æ›´æ–°æ–‡ç« 
@PostMapping("api/admin/content/article")
public void saveArticle(@RequestBody Article article) {
    articleService.addOrUpdate(article);
}
```

```java
public void addOrUpdate(Article article) {
    articleDAO.save(article);
}
```

## ğŸ‰ END

è‡³æ­¤ï¼Œæœ¬é¡¹ç›®çš„æ‰€æœ‰åŠŸèƒ½åŸºæœ¬å…¨éƒ¨å®ç°äº†ï¼Œè™½ç„¶ä»£ç æ‚ä¹±ä¸å ªï¼Œå¥½æ­¹åŠŸèƒ½å…¨éƒ¨å®ç°äº†ï¼Œè¿˜æœ‰ä¸€ä¸ª Redis ç¼“å­˜æ²¡æœ‰åŠ è¿›æ¥ã€‚å‡†å¤‡äºŒæ¬¡é‡æ„è¿™ä¸ªé¡¹ç›®ï¼Œåˆ°æ—¶å€™å†åŠ å…¥ Redis å§ã€‚è·Ÿç€å¤§ä½¬çš„æ•™ç¨‹æ–­æ–­ç»­ç»­åšäº†å¿«ä¸€ä¸ªæœˆï¼Œçš„çš„ç¡®ç¡®å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œæ„Ÿè°¢ ï¼~ ğŸ™ [Vue + Spring Boot é¡¹ç›®å®æˆ˜ â€” ç™½å·](https://blog.csdn.net/Neuf_Soleil/article/details/88925013)ï¼

## ğŸ“š References

- [Vue + Spring Boot é¡¹ç›®å®æˆ˜ â€” ç™½å·](https://blog.csdn.net/Neuf_Soleil/article/details/88925013)