#  ğŸ”… è®¡ç®—æœºç½‘ç»œ è€ƒç ”å¸¸è§å¤è¯•é¢˜æ±‡æ€»

> é¢˜ç›®æ¥æºï¼šğŸ“ ç°ç°è€ƒç ”è®¡ç®—æœºå¤è¯•å…¨ä¹¦

---

# ä¸€ã€ç½‘ç»œæ¨¡å‹

## ä¸ƒå±‚ç½‘ç»œæ¨¡å‹

- ç‰©ç†å±‚
- æ•°æ®é“¾è·¯å±‚ï¼ˆCSMAã€CSMA/CAã€CSMA/CDï¼‰
- ç½‘ç»œå±‚ï¼ˆIPã€ARPï¼ˆIP->MACï¼‰ã€RARP (MAC->IP)ã€ICMPï¼‰
- ä¼ è¾“å±‚ï¼ˆTCPã€UDPï¼‰
- ä¼šè¯å±‚
- è¡¨ç¤ºå±‚
- åº”ç”¨å±‚

![](https://cdn.nlark.com/yuque/0/2020/png/1237282/1585996706065-4ed09af3-7948-4fd4-bf48-f59399d8f768.png#align=left&display=inline&height=366&originHeight=366&originWidth=755&size=0&status=done&style=none&width=755)

<img src="https://cdn.nlark.com/yuque/0/2020/png/1237282/1585996706231-6e75c868-ebd0-49e6-9bf8-ec30e065a3d1.png#align=left&amp;display=inline&amp;height=1000&amp;originHeight=1000&amp;originWidth=1999&amp;size=0&amp;status=done&amp;style=none&amp;width=1999" style="zoom: 45%;" />

## è®¡ç®—æœºç½‘ç»œä¸­å„å±‚çš„ä½œç”¨

- **ç‰©ç†å±‚çš„ä½œç”¨**
   åœ¨ç‰©ç†å±‚ä¸Šæ‰€ä¼ é€çš„æ•°æ®å•ä½æ˜¯æ¯”ç‰¹ã€‚ ç‰©ç†å±‚(physical layer)çš„ä½œç”¨æ˜¯**å®ç°ç›¸é‚»è®¡ç®—æœºèŠ‚ç‚¹ä¹‹é—´æ¯”ç‰¹æµçš„é€æ˜ä¼ é€ï¼Œå°½å¯èƒ½å±è”½æ‰å…·ä½“ä¼ è¾“ä»‹è´¨å’Œç‰©ç†è®¾å¤‡çš„å·®å¼‚ã€‚** ä½¿å…¶ä¸Šé¢çš„æ•°æ®é“¾è·¯å±‚ä¸å¿…è€ƒè™‘ç½‘ç»œçš„å…·ä½“ä¼ è¾“ä»‹è´¨æ˜¯ä»€ä¹ˆã€‚â€œ**é€æ˜ä¼ é€æ¯”ç‰¹æµ**â€è¡¨ç¤ºç»å®é™…ç”µè·¯ä¼ é€åçš„æ¯”ç‰¹æµæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå¯¹ä¼ é€çš„æ¯”ç‰¹æµæ¥è¯´ï¼Œè¿™ä¸ªç”µè·¯å¥½åƒæ˜¯çœ‹ä¸è§çš„ã€‚
- **æ•°æ®é“¾è·¯å±‚**
   æ•°æ®é“¾è·¯å±‚åœ¨ç‰©ç†å±‚æä¾›çš„æœåŠ¡çš„åŸºç¡€ä¸Šå‘ç½‘ç»œå±‚æä¾›æœåŠ¡ï¼Œå°†åŸå§‹çš„ã€æœ‰å·®é”™çš„ç‰©ç†çº¿è·¯æ”¹è¿›æˆé€»è¾‘ä¸Š æ— å·®é”™çš„æ•°æ®é“¾è·¯ï¼Œä»è€Œå‘ç½‘ç»œå±‚æä¾›é«˜è´¨é‡çš„æœåŠ¡ã€‚**æ•°æ®é“¾è·¯å±‚å°†ç½‘ç»œå±‚äº¤ä¸‹æ¥çš„ IP æ•°æ®æŠ¥ç»„è£…æˆå¸§**ï¼Œåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹é—´çš„é“¾è·¯ä¸Šä¼ é€å¸§ã€‚ 
  åŠŸèƒ½ä¸»è¦æœ‰ï¼š
   â‘ é“¾è·¯ç®¡ç†ï¼›
   â‘¡å°è£…æˆå¸§ï¼›
   â‘¢é€æ˜ä¼ è¾“ï¼›
   â‘£å·®é”™æ£€æµ‹
- **ç½‘ç»œå±‚çš„ä½œç”¨**
   åœ¨ è®¡ç®—æœºç½‘ç»œä¸­è¿›è¡Œé€šä¿¡çš„ä¸¤ä¸ªè®¡ç®—æœºä¹‹é—´å¯èƒ½ä¼šç»è¿‡å¾ˆå¤šä¸ªæ•°æ®é“¾è·¯ï¼Œä¹Ÿå¯èƒ½è¿˜è¦ç»è¿‡å¾ˆå¤šé€šä¿¡å­ç½‘ã€‚**ç½‘ç»œå±‚çš„ä»»åŠ¡å°±æ˜¯é€‰æ‹©åˆé€‚çš„ç½‘é—´è·¯ç”±å’Œäº¤æ¢ç»“ç‚¹ï¼Œ ç¡®ä¿æ•°æ®åŠæ—¶ä¼ é€ã€‚** åœ¨å‘é€æ•°æ®æ—¶ï¼Œ**ç½‘ç»œå±‚æŠŠè¿è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æ®µæˆ–ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆIPæ•°æ®æŠ¥/åˆ†ç»„å’ŒåŒ…è¿›è¡Œä¼ é€**ã€‚åœ¨ TCP/IP ä½“ç³»ç»“æ„ä¸­ï¼Œç”±äºç½‘ç»œå±‚ä½¿ç”¨ IP åè®®ï¼Œå› æ­¤åˆ†ç»„ä¹Ÿå« IP æ•°æ®æŠ¥ ï¼Œç®€ç§° æ•°æ®æŠ¥ã€‚
- **ä¼ è¾“å±‚çš„ä½œç”¨**
   **è¿è¾“å±‚(transport layer)çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯è´Ÿè´£å‘ä¸¤å°ä¸»æœºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›é€šç”¨çš„æ•°æ®ä¼ è¾“æœåŠ¡**ã€‚åº”ç”¨è¿›ç¨‹åˆ©ç”¨è¯¥æœåŠ¡ä¼ é€åº”ç”¨å±‚æŠ¥æ–‡ã€‚â€œé€šç”¨çš„â€æ˜¯æŒ‡å¹¶ä¸é’ˆå¯¹æŸä¸€ä¸ªç‰¹å®šçš„ç½‘ç»œåº”ç”¨ï¼Œè€Œæ˜¯å¤šç§åº”ç”¨å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªè¿è¾“å±‚æœåŠ¡ã€‚ç”±äºä¸€å°ä¸»æœºå¯åŒæ—¶è¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå› æ­¤è¿è¾“å±‚æœ‰**å¤ç”¨å’Œåˆ†ç”¨**çš„åŠŸèƒ½ã€‚æ‰€è°“å¤ç”¨å°±æ˜¯æŒ‡å¤šä¸ªåº”ç”¨å±‚è¿›ç¨‹å¯åŒæ—¶ä½¿ç”¨ä¸‹é¢è¿è¾“å±‚çš„æœåŠ¡ï¼Œåˆ†ç”¨å’Œå¤ç”¨ç›¸åï¼Œæ˜¯è¿è¾“å±‚æŠŠæ”¶åˆ°çš„ä¿¡æ¯åˆ†åˆ«äº¤ä»˜ä¸Šé¢åº”ç”¨å±‚ä¸­çš„ç›¸åº”è¿›ç¨‹ã€‚
- **åº”ç”¨å±‚çš„ä½œç”¨**
   **åº”ç”¨å±‚(application-layerï¼‰çš„ä»»åŠ¡æ˜¯é€šè¿‡åº”ç”¨è¿›ç¨‹é—´çš„äº¤äº’æ¥å®Œæˆç‰¹å®šç½‘ç»œåº”ç”¨**ã€‚åº”ç”¨å±‚åè®®å®šä¹‰çš„æ˜¯åº”ç”¨è¿›ç¨‹ï¼ˆè¿›ç¨‹ï¼šä¸»æœºä¸­æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼‰é—´çš„é€šä¿¡å’Œäº¤äº’çš„è§„åˆ™ã€‚å¯¹äºä¸åŒçš„ç½‘ç»œåº”ç”¨éœ€è¦ä¸åŒçš„åº”ç”¨å±‚åè®®ã€‚åœ¨äº’è”ç½‘ä¸­åº”ç”¨å±‚åè®®å¾ˆå¤šï¼Œå¦‚åŸŸåç³»ç»ŸDNSï¼Œæ”¯æŒä¸‡ç»´ç½‘åº”ç”¨çš„ HTTPåè®®ï¼Œæ”¯æŒç”µå­é‚®ä»¶çš„ SMTPåè®®ç­‰ç­‰ã€‚æˆ‘ä»¬æŠŠåº”ç”¨å±‚äº¤äº’çš„æ•°æ®å•å…ƒç§°ä¸ºæŠ¥æ–‡ã€‚



# äºŒã€æ•°æ®é“¾è·¯å±‚

## æ•°æ®é“¾è·¯å±‚åè®®

- `CSMA è½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®åè®®`ï¼šå…ˆå¬å†è¯´
- `CSMA/CD è½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥/ç¢°æ’æ£€æµ‹`ï¼šå…ˆå¬å†è¯´ï¼Œè¾¹å¬è¾¹è¯´ï¼ˆä¸€è¾¹å‘é€ä¸€è¾¹æ£€æµ‹å…¶ä»–ç«™æ˜¯å¦ä¹Ÿåœ¨å‘é€æ•°æ®ï¼‰ï¼Œå†²çªåœå‘ã€éšæœºé‡å‘
- `CSMA/CA è½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥/ç¢°æ’é¿å…`ï¼š
- `PPPç‚¹å¯¹ç‚¹åè®®`ï¼šç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„æ•°æ®é“¾è·¯å±‚åè®®ï¼Œç”¨æˆ·ä½¿ç”¨æ‹¨å·ç”µè¯æ¥å…¥å› ç‰¹ç½‘æ—¶ä¸€èˆ¬éƒ½ä½¿ç”¨PPPåè®®ã€‚é¢å‘å­—èŠ‚ï¼›
   ä¸éœ€è¦çš„åŠŸèƒ½ï¼šçº é”™ï¼ˆPPPåè®®åªè´Ÿè´£æ£€é”™ï¼‰ã€æµé‡æ§åˆ¶ï¼ˆç”±TCP è´Ÿè´£ï¼‰ã€åºå·ï¼ˆPPPåè®®æ˜¯ä¸å¯é ä¼ è¾“åè®®ï¼Œæ•…ä¸éœ€è¦å¯¹å¸§è¿›è¡Œç¼–å·ï¼‰ã€å¤šç‚¹çº¿è·¯ï¼ˆPPPåè®®æ˜¯ç‚¹å¯¹ç‚¹ çš„é€šä¿¡æ–¹å¼ï¼‰ã€åŠåŒå·¥æˆ–å•å·¥ï¼ˆ**PPPåªæ”¯æŒå…¨åŒå·¥é“¾è·¯**ï¼‰

- `ARQ åœç­‰åè®®`

## å•å·¥ã€åŠåŒå·¥ã€å…¨åŒå·¥

- å•å·¥ï¼šåˆç§°ä¸ºå•å‘é€šä¿¡ï¼Œå³åªèƒ½æœ‰ä¸€ä¸ªæ–¹å‘çš„é€šä¿¡è€Œæ²¡æœ‰åæ–¹å‘çš„äº¤äº’ã€‚ä¾‹ï¼šæ— çº¿ç”µå¹¿æ’­ï¼Œç”µè§†å¹¿æ’­
- åŠåŒå·¥ï¼šåˆç§°ä¸ºåŒå‘äº¤æ›¿é€šä¿¡ï¼Œå³é€šä¿¡çš„åŒæ–¹éƒ½å¯ä»¥å‘é€ä¿¡æ¯ï¼Œä½†ä¸èƒ½åŒæ–¹åŒæ—¶å‘é€ï¼ˆå½“ç„¶ä¹Ÿå°±ä¸èƒ½åŒæ—¶æ¥å—ï¼‰ä¾‹ï¼šå¯¹è®²æœº
- å…¨åŒå·¥ï¼šåˆç§°ä¸ºåŒå‘åŒæ—¶é€šä¿¡ï¼Œå³é€šä¿¡çš„åŒæ–¹å¯ä»¥åŒæ—¶å‘é€å’Œæ¥å—ä¿¡æ¯ã€‚ä¾‹ï¼šæ‰“ç”µè¯



**å•å·¥åªè¦ä¸€æ¡ä¿¡é“ï¼Œè€ŒåŠåŒå·¥å’Œå…¨åŒå·¥éœ€éƒ½éœ€è¦ä¸¤æ¡ä¿¡é“ï¼ˆæ¯ä¸ªæ–¹å‘å„ä¸€æ¡ï¼‰ã€‚**

## é¢‘åˆ†å¤ç”¨ æ—¶åˆ†å¤ç”¨ æ³¢åˆ†å¤ç”¨ ç åˆ†å¤ç”¨

- é¢‘åˆ†å¤ç”¨ FDMï¼šç»™æ¯ä¸ªä¿¡å·åˆ†é…å”¯ä¸€çš„è½½æ³¢é¢‘ç‡å¹¶é€šè¿‡å•ä¸€åª’ä½“æ¥ä¼ è¾“å¤šä¸ªç‹¬ç«‹ä¿¡å·çš„æ–¹æ³•ã€‚
- æ—¶åˆ†å¤ç”¨ TDMï¼šæŠŠå¤šä¸ªä¿¡å·å¤ç”¨åˆ°å•ä¸ªç¡¬ä»¶ä¼ è¾“ä¿¡é“ï¼Œå®ƒå…è®¸æ¯ä¸ªä¿¡å·åœ¨ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´ä½¿ç”¨ä¿¡é“ï¼Œæ¥ç€å†è®© ä¸‹ä¸€ä¸ªä¿¡å·ä½¿ç”¨ã€‚
- æ³¢åˆ†å¤ç”¨ WDMï¼šå°±æ˜¯å…‰çš„é¢‘åˆ†å¤ç”¨ã€‚ç”¨ä¸€æ ¹å…‰çº¤åŒæ—¶ä¼ è¾“å¤šä¸ªé¢‘ç‡å¾ˆæ¥è¿‘çš„å…‰è½½æ³¢ä¿¡å·ã€‚
- ç åˆ†å¤ç”¨ CDMï¼šç åˆ†å¤ç”¨æ˜¯ç”¨ä¸€ç»„åŒ…å«äº’ç›¸æ­£äº¤çš„ç å­—çš„ç ç»„æºå¸¦å¤šè·¯ä¿¡å·ã€‚**æ¯ä¸€ä¸ªç”¨æˆ·å¯ä»¥åœ¨åŒæ ·çš„æ—¶é—´ä½¿ ç”¨åŒæ ·çš„é¢‘å¸¦è¿›è¡Œé€šä¿¡ã€‚ç”±äºå„ç”¨æˆ·ä½¿ç”¨ç»è¿‡ç‰¹æ®ŠæŒ‘é€‰çš„ä¸åŒç å‹ï¼Œå„ç”¨æˆ·ä¹‹é—´ä¸ä¼šé€ æˆå¹²æ‰°**ï¼Œå› æ­¤è¿™ç§ ç³»ç»Ÿå‘é€çš„ä¿¡å·æœ‰å¾ˆå¼ºçš„æŠ—å¹²æ‰°èƒ½åŠ›ã€‚

## é¢‘åˆ†å¤ç”¨å¦‚ä½•é¿å…å„è·¯ä¿¡å·é—´çš„å¹²æ‰°

**é¢‘åˆ†å¤ç”¨è¦æ±‚æ€»é¢‘ç‡å®½åº¦å¤§äºå„ä¸ªå­ä¿¡é“é¢‘ç‡ä¹‹å’Œ**ï¼ŒåŒæ—¶ä¸ºäº†ä¿è¯å„å­ä¿¡é“ä¸­æ‰€ä¼ è¾“çš„ä¿¡å·äº’ä¸å¹²æ‰°ï¼Œ**åº”åœ¨å„å­ä¿¡é“ä¹‹é—´è®¾ç«‹éš”ç¦»å¸¦ï¼ˆä¹Ÿå°±æ˜¯ä¿æŠ¤é¢‘å¸¦ï¼Œå³æ’å…¥ä¸€äº› ç©ºç™½çš„é¢‘æ®µ ï¼‰**ï¼Œè¿™æ ·å°±ä¿è¯äº†å„è·¯ä¿¡å·äº’ä¸å¹²æ‰°ã€‚

## CSMA/CD åè®®   å¦‚æœä¸¤ç«¯åŒæ—¶å‘é€ä¿¡æ¯ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Œä¸ºä»€ä¹ˆï¼Ÿ

ä¸¤ç«¯éƒ½æ£€æµ‹åˆ°å†²çªï¼Œå‡åœæ­¢å‘é€æ•°æ®ï¼Œç­‰å¾…ä¸€ä¸ªéšæœºæ—¶é—´å†é‡å‘



## ç®€è¿°ä¸€ä¸‹åœç­‰åè®®ARQ (é“¾è·¯å±‚/ä¼ è¾“å±‚)

åœæ­¢ç­‰å¾…åè®®æ˜¯æ•°æ®é“¾è·¯å±‚ï¼ˆæœ‰äº›ä¹¦è¯´æ˜¯ä¼ è¾“å±‚ï¼‰ä¸ºä¿è¯å¯é ä¼ è¾“ï¼Œä»¥æµé‡æ§åˆ¶ä¸ºç›®çš„çš„ä¸€ä¸ªåè®®ã€‚é€šè¿‡æ»‘åŠ¨çª—å£æ¥é™åˆ¶å‘é€æ–¹çš„å‘é€é€Ÿåº¦



å…¶å·¥ä½œåŸç†ç®€å•çš„è¯´å°±æ˜¯æ¯å‘é€ä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹çš„ç¡®è®¤ï¼Œåœ¨æ”¶åˆ°ç¡®è®¤åå†å‘é€ä¸‹ä¸€ä¸ªåˆ†ç»„ï¼Œå¦‚æœæ¥å—æ–¹ä¸è¿”å›åº”ç­”ï¼Œåˆ™å‘é€æ–¹å¿…é¡»ä¸€ç›´ç­‰å¾…ã€‚å³å‘é€çª—å£å’Œæ¥æ”¶çª—å£éƒ½ä¸º1



ç»†èŠ‚æè¿°ï¼š

â‘ å¦‚æœå‘é€æ–¹å¦‚æœä¸€æ®µæ—¶é—´ä»æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±è®¤ä¸ºåˆšæ‰å‘é€çš„åˆ†ç»„ä¸¢å¤±äº†ï¼Œå› è€Œé‡ä¼ å‰é¢å‘é€è¿‡çš„åˆ†ç»„ã€‚

â‘¡**å¦‚æœæ¥æ”¶æ–¹çš„ç¡®è®¤åˆ†ç»„ä¸¢å¤±æˆ–è€…å› å…¶ä»–åŸå› ï¼Œæ”¶åˆ°äº†é‡ä¼ åˆ†ç»„ï¼Œåˆ™ï¼šä¸¢å¼ƒè¿™ä¸ªé‡ä¼ åˆ†ç»„ï¼Œå¹¶ä¸”å‘å‘é€æ–¹å‘é€ç¡®è®¤ã€‚**



ARQåè®®è¿˜æœ‰`åé€€Nå¸§åè®® GBN `(å‘é€çª—å£ >= 1ï¼Œæ¥æ”¶çª—å£ = 1 , å‘ä¿¡ä¾§ä¸ç”¨ç­‰å¾…æ”¶ä¿¡ä¾§çš„åº”ç­”ï¼ŒæŒç»­çš„å‘é€å¤šä¸ªå¸§ï¼Œå‡å¦‚å‘ç°å·²å‘é€çš„å¸§ä¸­æœ‰é”™è¯¯å‘ç”Ÿï¼Œé‚£ä¹ˆä»é‚£ä¸ªå‘ç”Ÿé”™è¯¯çš„å¸§å¼€å§‹åŠå…¶ä¹‹åæ‰€æœ‰çš„å¸§å…¨éƒ¨å†é‡æ–°å‘é€ã€‚)ï¼Œ`é€‰æ‹©é‡ä¼ åè®®SR`(å‘é€çª—å£ >= 1ï¼Œæ¥æ”¶çª—å£ = 1 , å‘ä¿¡ä¾§ä¸ç”¨ç­‰å¾…æ”¶ä¿¡ä¾§çš„åº”ç­”ï¼ŒæŒç»­çš„å‘é€å¤šä¸ªå¸§ï¼Œå‡å¦‚å‘ç°å·²å‘é€çš„å¸§ä¸­æœ‰é”™è¯¯å‘ç”Ÿï¼Œé‚£ä¹ˆä»é‚£ä¸ªå‘ç”Ÿé”™è¯¯çš„å¸§å¼€å§‹åŠå…¶ä¹‹åæ‰€æœ‰çš„å¸§å…¨éƒ¨å†é‡æ–°å‘é€ã€‚)



è¯¦è§ [æ•°æ®é“¾è·¯å±‚æµé‡æ§åˆ¶çš„æ–¹æ³• â€”â€” ARQåè®®](https://veal98.github.io/CS-Wiki/#/è®¡ç®—æœºç½‘ç»œ/[ä¸‰]æ•°æ®é“¾è·¯å±‚?id=_2-æ•°æ®é“¾è·¯å±‚æµé‡æ§åˆ¶çš„æ–¹æ³•-arqåè®®)

## è¿æ¥ä¸¤ä¸ªå±€åŸŸç½‘éœ€è¦ç”¨ä»€ä¹ˆè®¾å¤‡ï¼Œåœ¨å“ªä¸€å±‚

é¦–å…ˆï¼Œæ¥åŒºåˆ†ä»¥ä¸‹å‡ ä¸ªå¸¸è§è®¾å¤‡ï¼š



**ç‰©ç†å±‚è®¾å¤‡ï¼šä¸­ç»§å™¨ï¼Œé›†çº¿å™¨** â€”â€” å‡ä¸èƒ½éš”ç¦»å†²çªåŸŸå’Œå¹¿æ’­åŸŸ

- `ä¸­ç»§å™¨ï¼ˆRP repeaterï¼‰`ï¼šæ˜¯å·¥ä½œåœ¨ç‰©ç†å±‚ä¸Šçš„è¿æ¥è®¾å¤‡ã€‚é€‚ç”¨äºå®Œå…¨ç›¸åŒçš„ä¸¤ä¸ªç½‘ç»œçš„äº’è¿ï¼Œä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡å¯¹æ•°æ®ä¿¡å·çš„é‡æ–°å‘é€æˆ–è€…è½¬å‘ï¼Œæ¥**æ‰©å¤§ç½‘ç»œä¼ è¾“çš„è·ç¦»**ã€‚ ä¸­ç»§å™¨æ˜¯å¯¹ä¿¡å·è¿›è¡Œå†ç”Ÿå’Œè¿˜åŸçš„ç½‘ç»œè®¾å¤‡ï¼Œè®¾è®¡çš„ç›®çš„æ˜¯ç»™ä½ çš„ç½‘ç»œä¿¡å·ä»¥æ¨åŠ¨ï¼Œä»¥ä½¿å®ƒä»¬ä¼ è¾“å¾—æ›´è¿œã€‚
- `é›†çº¿å™¨(Hub)`ï¼šâ€œHubâ€æ˜¯â€œä¸­å¿ƒâ€çš„æ„æ€ï¼Œé›†çº¿å™¨çš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¹æ¥æ”¶åˆ°çš„ä¿¡å·è¿›è¡Œå†ç”Ÿæ•´å½¢æ”¾å¤§ï¼Œä»¥æ‰©å¤§ç½‘ç»œçš„ä¼ è¾“è·ç¦»ï¼ŒåŒæ—¶æŠŠæ‰€æœ‰èŠ‚ç‚¹é›†ä¸­åœ¨ä»¥å®ƒä¸ºä¸­å¿ƒçš„èŠ‚ç‚¹ä¸Šã€‚**å®ƒå¯ä»¥è§†ä½œå¤šç«¯å£çš„ä¸­ç»§å™¨**ï¼Œè‹¥å®ƒä¾¦æµ‹åˆ°ç¢°æ’ï¼Œå®ƒä¼šæäº¤é˜»å¡ä¿¡å·ã€‚
   ![img](https://cdn.nlark.com/yuque/0/2020/jpeg/1237282/1586070307165-3532b0cf-71ca-43e3-88d6-8fef18d9ebcc.jpeg)



**é“¾è·¯å±‚è®¾å¤‡ï¼šç½‘æ¡¥ï¼Œäº¤æ¢æœº** â€”â€” éš”ç¦»å†²çªåŸŸä¸èƒ½éš”ç¦»å¹¿æ’­åŸŸ

- `ç½‘æ¡¥ï¼ˆBridgeï¼‰` : æ˜¯æ—©æœŸçš„ä¸¤ç«¯å£äºŒå±‚ç½‘ç»œè®¾å¤‡ï¼Œç”¨æ¥è¿æ¥ä¸åŒç½‘æ®µã€‚ç½‘æ¡¥çš„ä¸¤ä¸ªç«¯å£åˆ†åˆ«æœ‰ä¸€æ¡ç‹¬ç«‹çš„äº¤æ¢ä¿¡é“ï¼Œä¸æ˜¯å…±äº«ä¸€æ¡èƒŒæ¿æ€»çº¿ï¼Œå¯éš”ç¦»å†²çªåŸŸã€‚ç½‘æ¡¥æ¯”é›†çº¿å™¨ï¼ˆHubï¼‰æ€§èƒ½æ›´å¥½ï¼Œé›†çº¿å™¨ä¸Šå„ç«¯å£éƒ½æ˜¯å…±äº«åŒä¸€æ¡èƒŒæ¿æ€»çº¿çš„ã€‚åæ¥ï¼Œç½‘æ¡¥è¢«å…·æœ‰æ›´å¤šç«¯å£ã€åŒæ—¶ä¹Ÿå¯éš”ç¦»å†²çªåŸŸçš„äº¤æ¢æœºï¼ˆSwitchï¼‰æ‰€å–ä»£ã€‚ 
  ç½‘æ¡¥ï¼ˆBridgeï¼‰åƒä¸€ä¸ªèªæ˜çš„ä¸­ç»§å™¨ã€‚ä¸­ç»§å™¨ä»ä¸€ä¸ªç½‘ç»œç”µç¼†é‡Œæ¥æ”¶ä¿¡å·ï¼Œ æ”¾å¤§å®ƒä»¬ï¼Œå°†å…¶é€å…¥ä¸‹ä¸€ä¸ªç”µç¼†ã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œç½‘æ¡¥å¯¹ä»å…³å¡ä¸Šä¼ ä¸‹æ¥çš„ä¿¡æ¯æ›´æ•é”ä¸€äº›ã€‚**ç½‘æ¡¥æ˜¯ä¸€ç§å¯¹å¸§è¿›è¡Œè½¬å‘çš„æŠ€æœ¯ï¼Œæ ¹æ®MACåˆ†åŒºå—ï¼Œå¯éš”ç¦»ç¢°æ’ã€‚ç½‘æ¡¥å°†ç½‘ç»œçš„å¤šä¸ªç½‘æ®µåœ¨æ•°æ®é“¾è·¯å±‚è¿æ¥èµ·æ¥ã€‚** 
  ç½‘æ¡¥ä¹Ÿå«æ¡¥æ¥å™¨ï¼Œæ˜¯è¿æ¥ä¸¤ä¸ªå±€åŸŸç½‘çš„ä¸€ç§å­˜å‚¨/è½¬å‘è®¾å¤‡ï¼Œå®ƒèƒ½å°†ä¸€ä¸ªå¤§çš„LANåˆ†å‰²ä¸ºå¤šä¸ªç½‘æ®µï¼Œæˆ–å°†ä¸¤ä¸ªä»¥ä¸Šçš„LANäº’è”ä¸ºä¸€ä¸ªé€»è¾‘LANï¼Œä½¿LANä¸Šçš„æ‰€æœ‰ç”¨æˆ·éƒ½å¯è®¿é—®æœåŠ¡å™¨ã€‚ 
  æ‰©å±•å±€åŸŸç½‘æœ€å¸¸è§çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç½‘æ¡¥ã€‚æœ€ç®€å•çš„ç½‘æ¡¥æœ‰ä¸¤ä¸ªç«¯å£ï¼Œå¤æ‚äº›çš„ç½‘æ¡¥å¯ä»¥æœ‰æ›´å¤šçš„ç«¯å£ã€‚ç½‘æ¡¥çš„æ¯ä¸ªç«¯å£ä¸ä¸€ä¸ªç½‘æ®µç›¸è¿ã€‚ 
  ![img](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586070307152-392187e6-2a59-4fd4-8451-d342ca5994bc.png)
- `äº¤æ¢æœºï¼ˆSwitchï¼‰` æ„ä¸ºâ€œå¼€å…³â€æ˜¯ä¸€ç§ç”¨äºç”µï¼ˆå…‰ï¼‰ä¿¡å·è½¬å‘çš„ç½‘ç»œè®¾å¤‡ã€‚å®ƒå¯ä»¥ä¸ºæ¥å…¥äº¤æ¢æœºçš„ä»»æ„ä¸¤ä¸ªç½‘ç»œèŠ‚ç‚¹æä¾›ç‹¬äº«çš„ç”µä¿¡å·é€šè·¯ã€‚æœ€å¸¸è§çš„äº¤æ¢æœºæ˜¯ä»¥å¤ªç½‘äº¤æ¢æœºã€‚å…¶ä»–å¸¸è§çš„è¿˜æœ‰ç”µè¯è¯­éŸ³äº¤æ¢æœºã€å…‰çº¤äº¤æ¢æœºç­‰ã€‚ 
  äº¤æ¢æ˜¯æŒ‰ç…§é€šä¿¡ä¸¤ç«¯ä¼ è¾“ä¿¡æ¯çš„éœ€è¦ï¼Œç”¨äººå·¥æˆ–è®¾å¤‡è‡ªåŠ¨å®Œæˆçš„æ–¹æ³•ï¼ŒæŠŠè¦ä¼ è¾“çš„ä¿¡æ¯é€åˆ°ç¬¦åˆè¦æ±‚çš„ç›¸åº”è·¯ç”±ä¸Šçš„æŠ€æœ¯çš„ç»Ÿç§°ã€‚äº¤æ¢æœºæ ¹æ®å·¥ä½œä½ç½®çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºå¹¿åŸŸç½‘äº¤æ¢æœºå’Œå±€åŸŸç½‘äº¤æ¢æœºã€‚å¹¿åŸŸçš„äº¤æ¢æœºå°±æ˜¯ä¸€ç§åœ¨é€šä¿¡ç³»ç»Ÿä¸­å®Œæˆä¿¡æ¯äº¤æ¢åŠŸèƒ½çš„è®¾å¤‡ï¼Œå®ƒåº”ç”¨åœ¨æ•°æ®é“¾è·¯å±‚ã€‚äº¤æ¢æœºæœ‰å¤šä¸ªç«¯å£ï¼Œæ¯ä¸ªç«¯å£éƒ½å…·æœ‰æ¡¥æ¥åŠŸèƒ½ï¼Œå¯ä»¥è¿æ¥ä¸€ä¸ªå±€åŸŸç½‘æˆ–ä¸€å°é«˜æ€§èƒ½æœåŠ¡å™¨æˆ–å·¥ä½œç«™ã€‚**å®é™…ä¸Šï¼Œäº¤æ¢æœºæœ‰æ—¶è¢«ç§°ä¸ºå¤šç«¯å£ç½‘æ¡¥ã€‚** 
  ç½‘ç»œäº¤æ¢æœºï¼Œæ˜¯ä¸€ä¸ªæ‰©å¤§ç½‘ç»œçš„å™¨æï¼Œèƒ½ä¸ºå­ç½‘ç»œä¸­æä¾›æ›´å¤šçš„è¿æ¥ç«¯å£ï¼Œä»¥ä¾¿è¿æ¥æ›´å¤šçš„è®¡ç®—æœºã€‚éšç€é€šä¿¡ä¸šçš„å‘å±•ä»¥åŠå›½æ°‘ç»æµä¿¡æ¯åŒ–çš„æ¨è¿›ï¼Œç½‘ç»œäº¤æ¢æœºå¸‚åœºå‘ˆç¨³æ­¥ä¸Šå‡æ€åŠ¿ã€‚å®ƒå…·æœ‰æ€§ä»·æ¯”é«˜ã€é«˜åº¦çµæ´»ã€ç›¸å¯¹ç®€å•å’Œæ˜“äºå®ç°ç­‰ç‰¹ç‚¹ã€‚ä»¥å¤ªç½‘æŠ€æœ¯å·²æˆä¸ºå½“ä»Šæœ€é‡è¦çš„ä¸€ç§å±€åŸŸç½‘ç»„ç½‘æŠ€æœ¯ï¼Œç½‘ç»œäº¤æ¢æœºä¹Ÿå°±æˆä¸ºäº†æœ€æ™®åŠçš„äº¤æ¢æœºã€‚



**ç½‘è·¯å±‚è®¾å¤‡ï¼šè·¯ç”±å™¨** â€”â€” éš”ç¦»å†²çªåŸŸå’Œå¹¿æ’­åŸŸ

- `è·¯ç”±å™¨` åˆå¯ä»¥ç§°ä¹‹ä¸ºç½‘å…³è®¾å¤‡ã€‚å¯¹ä¸åŒçš„ç½‘ç»œä¹‹é—´çš„æ•°æ®åŒ…è¿›è¡Œå­˜å‚¨ã€åˆ†ç»„è½¬å‘å¤„ç†ï¼Œå…¶ä¸»è¦å°±æ˜¯åœ¨ä¸åŒçš„é€»è¾‘åˆ†å¼€ç½‘ç»œã€‚è€Œæ•°æ®åœ¨ä¸€ä¸ªå­ç½‘ä¸­ä¼ è¾“åˆ°å¦ä¸€ä¸ªå­ç½‘ä¸­ï¼Œå¯ä»¥é€šè¿‡è·¯ç”±å™¨çš„è·¯ç”±åŠŸèƒ½è¿›è¡Œå¤„ç†ã€‚åœ¨ç½‘ç»œé€šä¿¡ä¸­ï¼Œè·¯ç”±å™¨å…·æœ‰åˆ¤æ–­ç½‘ç»œåœ°å€ä»¥åŠé€‰æ‹©IPè·¯å¾„çš„ä½œç”¨ï¼Œå¯ä»¥åœ¨å¤šä¸ªç½‘ç»œç¯å¢ƒä¸­ï¼Œæ„å»ºçµæ´»çš„é“¾æ¥ç³»ç»Ÿï¼Œé€šè¿‡ä¸åŒçš„æ•°æ®åˆ†ç»„ä»¥åŠä»‹è´¨è®¿é—®æ–¹å¼å¯¹å„ä¸ªå­ç½‘è¿›è¡Œé“¾æ¥ã€‚è·¯ç”±å™¨åœ¨æ“ä½œä¸­ä»…æ¥å—æºç«™æˆ–è€…å…¶ä»–ç›¸å…³è·¯ç”±å™¨ä¼ é€’çš„ä¿¡æ¯ï¼Œæ˜¯ä¸€ç§åŸºäºç½‘ç»œå±‚çš„äº’è”è®¾å¤‡ã€‚ 
  æ¯”å¦‚ä½ ä¹°äº†ä¸ªè·¯ç”±å™¨ï¼Œæœ‰2å°ç”µè„‘ï¼Œåœ¨è·¯ç”±å™¨çš„è¿™è¾¹ä½ å®¶å°±æ˜¯ä¸€ä¸ªå±€åŸŸç½‘ï¼Œè€Œåœ¨è·¯ç”±å™¨çš„é‚£è¾¹å´æ˜¯ä¸€ä¸ªäº’è”ç½‘ï¼Œ**æ‰€ä»¥è·¯ç”±å™¨å¯ä»¥è¿æ¥ä¸¤ä¸ªä¸åŒç±»å‹çš„ç½‘ç»œã€‚** 
  ![img](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586070307273-3d609256-83bf-47b5-a0cf-d5b6266a6501.png)



**ç»¼ä¸Šå¯å¾—ï¼Œè¿æ¥ä¸¤ä¸ªå±€åŸŸç½‘ï¼Œå³è¿æ¥ä¸¤ä¸ªåŒç±»å‹ç½‘ç»œï¼Œéœ€è¦ä½¿ç”¨ç½‘æ¡¥æˆ–è€…äº¤æ¢æœºï¼Œå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ã€‚**



## ç”µè·¯äº¤æ¢ï¼ŒæŠ¥æ–‡äº¤æ¢ï¼Œåˆ†ç»„äº¤æ¢ä¹‹é—´çš„åŒºåˆ«ä»¥åŠè”ç³»

**ä¸ºä»€ä¹ˆè¦æ•°æ®äº¤æ¢**ï¼šäº¤æ¢æ˜¯é€šè¿‡æŸäº›äº¤æ¢ä¸­å¿ƒå°†æ•°æ®è¿›è¡Œé›†ä¸­å’Œä¼ é€ï¼Œä¼ è¾“çº¿è·¯ä¸ºå„ä¸ªç”¨æˆ·å…±ç”¨ï¼Œä»è€Œå¤§å¤§èŠ‚çœé€šä¿¡çº¿è·¯ï¼Œé™ä½ç³»ç»Ÿè´¹ç”¨

![img](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586070307153-4d54cc8c-40c6-49bf-aa67-ee49d0bb1b21.png)

![img](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586070307236-4aeb684d-d468-431c-91fa-efa6686a4a98.png)



ç”µè·¯äº¤æ¢ï¼šç±»ä¼¼æ‰“ç”µè¯ï¼Œç‹¬å è¿™æ¡çº¿è·¯ï¼Œå…¶ä»–äººæ— æ³•å‚åŠ ï¼ˆç”µè·¯äº¤æ¢ä¼ bitæµï¼Œå‘ç”Ÿåœ¨ç‰©ç†å±‚ï¼‰

æŠ¥æ–‡äº¤æ¢ï¼šæŠ¥æ–‡æ˜¯åº”ç”¨å±‚ä¼ è¾“å•ä½ï¼Œå³ç«™ç‚¹ä¸€æ¬¡æ€§è¦å‘é€çš„æ•°æ®å—ï¼ˆæŠ¥æ–‡äº¤æ¢ä¼ æŠ¥æ–‡ï¼Œå‘ç”Ÿåœ¨ä¼ è¾“å±‚ï¼‰

åˆ†ç»„äº¤æ¢ï¼šæ˜¯å°†è¾ƒå¤§çš„æ•°æ®åˆ†å‰²æˆå°å—ï¼ˆåˆ†ç»„äº¤æ¢ä¼ åˆ†ç»„/IPæ•°æ®æŠ¥ï¼Œå‘ç”Ÿåœ¨ç½‘ç»œå±‚ï¼‰



## åˆ†ç»„äº¤æ¢çš„ä¼˜ç‚¹å’Œç¼ºç‚¹

ä¸æŠ¥æ–‡äº¤æ¢ç›¸æ¯”è¾ƒï¼Œåˆ†ç»„äº¤æ¢çš„ä¼˜ç‚¹å’Œç¼ºç‚¹å¦‚ä¸‹ã€‚

**ä¼˜ç‚¹ï¼š**

- â‘  **åŠ é€Ÿä¼ è¾“**ï¼šå› ä¸ºåˆ†ç»„äº¤æ¢æ˜¯é€ä¸ªä¼ è¾“ï¼Œæ‰€ä»¥å¯ä»¥ä½¿åä¸€ä¸ªåˆ†ç»„çš„å­˜å‚¨æ“ä½œä¸å‰ä¸€ä¸ªåˆ†ç»„çš„è½¬å‘æ“ä½œå¹¶ è¡Œï¼Œè¿™ç§æµæ°´çº¿å¼ä¼ è¾“æ–¹å¼å‡å°‘äº†æŠ¥æ–‡çš„ä¼ è¾“æ—¶é—´ï¼Œæ­¤å¤–ï¼Œä¼ è¾“ä¸€ä¸ªåˆ†ç»„æ‰€éœ€çš„ç¼“å†²åŒºæ¯”ä¼ è¾“ä¸€ä¸ªæŠ¥ æ–‡æ‰€éœ€çš„ç¼“å†²åŒºå°å¾—å¤šï¼Œè¿™æ ·å› ç¼“å†²åŒºä¸è¶³è€Œç­‰å¾…å‘é€çš„å‡ ç‡åŠç­‰å¾…çš„æ—¶é—´ä¹Ÿå¿…ç„¶å‡å°‘ã€‚
- â‘¡ **ç®€åŒ–äº†å­˜å‚¨ç®¡ç†**ï¼šåˆ†ç»„çš„é•¿åº¦å›ºå®šï¼Œç›¸åº”çš„ç¼“å†²åŒºå¤§å°ä¹Ÿå›ºå®šã€‚
- â‘¢ **å‡å°‘å‡ºé”™å‡ ç‡å’Œé‡å‘æ•°æ®é‡**ï¼šå› ä¸ºåˆ†ç»„è¾ƒçŸ­ï¼Œå…¶å‡ºé”™å‡ ç‡å¿…ç„¶å‡å°‘ï¼Œæ‰€ä»¥æ¯æ¬¡é‡å‘çš„æ•°æ®é‡ä¹Ÿå°±å¤§å¤§ å‡å°‘ï¼Œè¿™æ ·ä¸ä»…æé«˜äº†å¯é æ€§ï¼Œä¹Ÿå‡å°‘äº†ä¼ è¾“æ—¶å»¶ã€‚



**ç¼ºç‚¹**ï¼š

- â‘  **å­˜åœ¨ä¼ è¾“æ—¶å»¶**ï¼šå°½ç®¡ä¸æŠ¥æ–‡äº¤æ¢ç›¸æ¯”çš„ä¼ è¾“æ—¶å»¶è¾ƒçŸ­ï¼Œä½†æ˜¯ä¸ç”µè·¯äº¤æ¢ç›¸æ¯”ä»ç„¶å­˜åœ¨å­˜å‚¨è½¬å‘æ—¶å»¶ï¼Œ è€Œä¸”å¯¹å…¶ç»“ç‚¹äº¤æ¢æœºçš„å¤„ç†èƒ½åŠ›æœ‰æ›´é«˜çš„è¦æ±‚ã€‚
- â‘¡ å½“åˆ†ç»„äº¤æ¢é‡‡ç”¨æ•°æ®æŠ¥æœåŠ¡æ—¶ï¼Œå¯èƒ½å‡ºç°å¤±åºã€ä¸¢å¤±æˆ–é‡å¤åˆ†ç»„ï¼Œ**åˆ†ç»„åˆ°è¾¾çš„ç›®çš„åœ°çš„ç»“ç‚¹æ—¶ï¼Œè¦å¯¹ åˆ†ç»„æŒ‰ç¼–å·è¿›è¡Œæ’åºå·¥ä½œï¼Œå·¥ä½œé‡è¾ƒå¤§ã€‚**



# ä¸‰ã€ç½‘ç»œå±‚

## ç½‘ç»œçš„åˆ†ç±»

![img](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586070307247-9d6f2eba-73e4-4e94-9252-4b1c66b23b64.png)

## ç½‘ç»œå±‚åè®®

- `ARP åœ°å€è§£æåè®®` ï¼ˆARP å®ç°ç”± IP åœ°å€å¾—åˆ° MAC åœ°å€ï¼‰

- `ICMP ç½‘é™…æŠ¥æ–‡æ§åˆ¶åè®®` ï¼ˆICMP æ˜¯ä¸ºäº†æ›´æœ‰æ•ˆåœ°è½¬å‘ IP æ•°æ®æŠ¥å’Œæé«˜äº¤ä»˜æˆåŠŸçš„æœºä¼šï¼‰

- è·¯ç”±è½¬å‘åè®®

  **å†…éƒ¨ç½‘å…³åè®®ï¼š**(ä¸€ä¸ªè‡ªæ²»ç³»ç»ŸASå†…çš„ç½‘å…³åè®®)

  - `RIP è·¯ç”±ä¿¡æ¯åè®®`ï¼šä»…å’Œé‚»å±…äº¤æ¢ä¿¡æ¯ï¼Œä¸”äº¤æ¢çš„æ˜¯æ•´ä¸ªè·¯ç”±è¡¨ï¼Œé€‚ç”¨äºå°è§„æ¨¡ç½‘ç»œï¼Œä¼ è¾“å±‚ä½¿ç”¨UDP

  - `OSPF å¼€æ”¾æœ€çŸ­è·¯ç”±åè®®`ï¼šå‘è‡ªæ²»åŸŸä¸­æ‰€æœ‰è·¯ç”±å™¨å‘é€ä¿¡æ¯ï¼Œä¸”å‘é€çš„æ˜¯é“¾è·¯çŠ¶æ€è¡¨ï¼Œæ ¹æ®ä»£ä»·é€‰æ‹©æœ€ä½³è·¯ç”±ï¼ŒåŸºäºIPåè®®
  
  **å¤–éƒ¨ç½‘å…³åè®®ï¼š**
  
  - `BGP å¤–éƒ¨ç½‘å…³åè®®`ï¼šä¸åŒASçš„è·¯ç”±å™¨ä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯çš„åè®®

## IPV4å’ŒIPV6çš„ä½æ•°

IPV4æ˜¯32ä½ï¼›IPV6æ˜¯128ä½

## IPv4åœ°å€ç¼ºä¹çš„è§£å†³åŠæ³•(æ›¿ä»£æ–¹æ¡ˆ)

- `NAT ç½‘ç»œåœ°å€è½¬æ¢`ï¼šæ ¹æ®NATè½¬æ¢è¡¨ï¼Œ**NATè·¯ç”±å™¨å°† ä¸“ç”¨ç½‘ä¸Šçš„IPåœ°å€ å’Œ å› ç‰¹ç½‘ä¸Šçš„å¤–éƒ¨å…¨çƒå”¯ä¸€IPåœ°å€ è¿›è¡Œè½¬åŒ–**
- `CIDR æ— åˆ†ç±»ç¼–å€ï¼Œæ„æˆè¶…ç½‘`ï¼šCIDRæ¶ˆé™¤äº†ä¼ ç»Ÿçš„Aç±»ã€Bç±»å’ŒCç±»åœ°å€ä»¥åŠåˆ’åˆ†å­ç½‘çš„æ¦‚å¿µï¼Œèåˆå­ç½‘åœ°å€å’Œå­ç½‘æ©ç ï¼Œæ–¹ä¾¿å­ç½‘åˆ’åˆ†ï¼Œ**æŠŠç½‘ç»œå‰ç¼€éƒ½ç›¸åŒçš„è¿ç»­IPåœ°å€ç»„æˆä¸€ä¸ªCIDRåœ°å€å—**

## IPv4å’ŒIPv6å¦‚ä½•ç›¸äº’é€šä¿¡ï¼Ÿ

32ä½çš„IPV4åœ°å€ç©ºé—´å·²åˆ†é…æ®†å°½ï¼ŒCIDRã€NATæ²»æ ‡ä¸æ²»æœ¬ï¼ŒIPV6ä»æ ¹æœ¬ä¸Šè§£å†³åœ°å€è€—å°½é—®é¢˜ã€‚

IPV4å‘IPV6è¿‡æ¸¡çš„ç­–ç•¥ï¼š

- `åŒæ ˆåè®®`ï¼šåŒæ—¶å¯ç”¨IPV4å’ŒIPV6åè®®æ ˆ
- `éš§é“æŠ€æœ¯`ï¼šå°†å…¶ä»–åè®®çš„æ•°æ®å¸§æˆ–åŒ…**é‡æ–°å°è£…**ç„¶åé€šè¿‡éš§é“å‘é€

## è·¯ç”±å™¨å’Œäº¤æ¢æœºçš„åŒºåˆ«

- äº¤æ¢æœºå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œäº¤æ¢æœºæ ¹æ®MACåœ°å€å¯»å€ã€‚

  è·¯ç”±å™¨å·¥ä½œåœ¨ç½‘ç»œå±‚ï¼Œæ ¹æ®IPåœ°å€å¯»å€ï¼Œè·¯ç”±å™¨å¯ä»¥å¤„ç†TCP/IPåè®®ï¼Œè€Œäº¤æ¢æœºä¸å¯ä»¥ã€‚

- è·¯ç”±å™¨å¯ä»¥ä¸ºå±€åŸŸç½‘è‡ªåŠ¨åˆ†é…IPå’Œè™šæ‹Ÿæ‹¨å·ã€‚

  äº¤æ¢æœºåªæ˜¯ç”¨æ¥åˆ†é…ç½‘ç»œæ•°æ®çš„ã€‚

- è·¯ç”±å™¨å¯ä»¥æŠŠä¸€ä¸ªIPåˆ†ç»™å¤šä¸ªä¸»æœºä½¿ç”¨ï¼Œå¯¹å¤–IPç›¸åŒã€‚

  äº¤æ¢æœºå¯ä»¥æŠŠå¾ˆå¤šä¸»æœºè¿æ¥èµ·æ¥ï¼Œå¯¹å¤–çš„IPä¸åŒã€‚

- è·¯ç”±å™¨å¯ä»¥æä¾›é˜²ç«å¢™ï¼Œäº¤æ¢æœºä¸èƒ½æä¾›è¿™ä¸ªåŠŸèƒ½ã€‚

- äº¤æ¢æœºæ˜¯åšæ‰©å¤§å±€åŸŸç½‘æ¥å…¥ç‚¹çš„ï¼Œå¯ä»¥è®©å±€åŸŸç½‘è¿è¿›æ›´å¤šçš„ç”µè„‘ã€‚

  è·¯ç”±å™¨æ˜¯ç”¨æ¥åšç½‘é—´è¿æ¥ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥è¿æ¥ä¸åŒç½‘ç»œçš„ã€‚

## è¯´ä¸€ä¸‹è·¯ç”±å™¨çš„åŸç†

ä¼ ç»Ÿåœ°ï¼Œè·¯ç”±å™¨å·¥ä½œäºOSIä¸ƒå±‚åè®®ä¸­çš„ç¬¬ä¸‰å±‚ç½‘ç»œå±‚ï¼Œ**å…¶ä¸»è¦ä»»åŠ¡æ˜¯æ¥æ”¶æ¥è‡ªä¸€ä¸ªç½‘ç»œæ¥å£çš„æ•°æ®åŒ…ï¼Œæ ¹æ® å…¶ä¸­æ‰€å«çš„ç›®çš„åœ°å€ï¼Œå†³å®šè½¬å‘åˆ°ä¸‹ä¸€ä¸ªç›®çš„åœ°å€**ã€‚å› æ­¤ï¼Œè·¯ç”±å™¨é¦–å…ˆå»æ‰æ•°æ®åŒ…çš„äºŒå±‚å¤´ï¼Œå–å‡ºç›®çš„ IPåœ°å€ï¼Œ**åœ¨è½¬å‘è·¯ç”±è¡¨ä¸­æŸ¥æ‰¾å®ƒå¯¹åº”çš„ä¸‹ä¸€è·³åœ°å€**ï¼Œè‹¥æ‰¾åˆ°ï¼Œå°±åœ¨æ•°æ®åŒ…çš„å¸§æ ¼å‰æ·»åŠ ä¸‹ä¸€ä¸ªMACåœ° å€ï¼ŒåŒæ—¶IPæ•°æ®åŒ…å¤´çš„TTLï¼ˆTime To Liveï¼‰åŸŸä¹Ÿå‡ä¸€ï¼Œå¹¶é‡æ–°è®¡ç®—æ ¡éªŒå’Œã€‚å½“æ•°æ®åŒ…è¢«é€åˆ°è¾“å‡ºç«¯å£ æ—¶ï¼Œå®ƒéœ€è¦æŒ‰é¡ºåºç­‰å¾…ï¼Œä»¥ä¾¿è¢«ä¼ é€åˆ°è¾“å‡ºé“¾è·¯ä¸Š



# å››ã€è¿è¾“å±‚

## TCPä¸UDPçš„è¿æ¥åŒºåˆ«åŠé€‚ç”¨æƒ…å†µ

- `ç”¨æˆ·æ•°æ®æŠ¥åè®® UDPï¼ˆUser Datagram Protocolï¼‰`

  **UDP åœ¨ä¼ é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å…ˆå»ºç«‹è¿æ¥**ï¼Œè¿œåœ°ä¸»æœºåœ¨æ”¶åˆ° UDP æŠ¥æ–‡åï¼Œä¸éœ€è¦ç»™å‡ºä»»ä½•ç¡®è®¤ã€‚è™½ç„¶ 

  UDP **ä¸æä¾›å¯é äº¤ä»˜**ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ UDP ç¡®æ˜¯ä¸€ç§æœ€æœ‰æ•ˆçš„å·¥ä½œæ–¹å¼ï¼ˆ**ä¸€èˆ¬ç”¨äºå³æ—¶é€šä¿¡ï¼‰ï¼Œæ¯”**

  **å¦‚ï¼š QQ è¯­éŸ³ã€ QQ è§†é¢‘ ã€ç›´æ’­ç­‰ç­‰**

- `ä¼ è¾“æ§åˆ¶åè®® TCPï¼ˆTransmission Control Protocolï¼‰`

  TCP æä¾›**é¢å‘è¿æ¥**çš„æœåŠ¡ã€‚åœ¨ä¼ é€æ•°æ®ä¹‹å‰å¿…é¡»å…ˆå»ºç«‹è¿æ¥ï¼Œæ•°æ®ä¼ é€ç»“æŸåè¦é‡Šæ”¾è¿æ¥ã€‚

  TCP ä¸æä¾›å¹¿æ’­æˆ–å¤šæ’­æœåŠ¡ã€‚ç”±äº TCP è¦æä¾›**å¯é **çš„ï¼Œé¢å‘è¿æ¥çš„ä¼ è¾“æœåŠ¡ï¼ˆTCPçš„å¯é ä½“ç°åœ¨TCPåœ¨ä¼ é€’æ•°æ®ä¹‹å‰ï¼Œä¼šæœ‰ä¸‰æ¬¡æ¡æ‰‹æ¥å»ºç«‹è¿æ¥ï¼Œè€Œä¸”åœ¨æ•°æ®ä¼ é€’æ—¶ï¼Œæœ‰ç¡®è®¤ã€çª—å£ã€é‡ä¼ ã€æµé‡æ§åˆ¶ã€æ‹¥å¡æ§åˆ¶æœºåˆ¶ï¼Œåœ¨æ•°æ®ä¼ å®Œåï¼Œè¿˜ä¼šæ–­å¼€è¿æ¥ç”¨æ¥èŠ‚çº¦ç³»ç»Ÿèµ„æºã€‚è¿™ä¸ä»…ä½¿åè®®æ•°æ®å•å…ƒçš„é¦–éƒ¨å¢å¤§å¾ˆå¤šï¼Œè¿˜è¦å ç”¨è®¸å¤šå¤„ç†æœºèµ„æºã€‚TCP **ä¸€èˆ¬ç”¨äºæ–‡ä»¶ä¼ è¾“ã€å‘é€å’Œæ¥æ”¶é‚®ä»¶ã€è¿œç¨‹ç™»å½•ç­‰åœºæ™¯**ã€‚

## TCPä¸‰æ¬¡æ¡æ‰‹/å››æ¬¡æ¡æ‰‹

è¯¦è§ [TCPè¿æ¥å»ºç«‹å’Œé‡Šæ”¾](https://veal98.github.io/CS-Wiki/#/è®¡ç®—æœºç½‘ç»œ/[äº”]ä¼ è¾“å±‚?id=ä¸ƒã€tcpä¸‰æ¬¡æ¡æ‰‹-å»ºç«‹è¿æ¥)

## ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£åè®®

æµé‡æ§åˆ¶æ˜¯ä¸ºäº†**æ§åˆ¶å‘é€æ–¹å‘é€é€Ÿç‡**ï¼Œä¿è¯æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚

TCPå®ç°æµé‡æ§åˆ¶ä¸»è¦æ˜¯ **æ»‘åŠ¨çª—å£åè®®**ï¼Œ ä½¿ç”¨è¿™ç§æ–¹æ³•çš„æ—¶å€™ï¼Œå‘é€æ–¹å’Œæ¥æ”¶æ–¹å‘å¤–é€šä¿¡å„ä½¿ç”¨ä¸€ä¸ªçª—å£ã€‚çª—å£å¤§å°å–å†³äºä¸‹é¢ä¸¤ä¸ªæ•°ï¼šæ¥æ”¶çª—å£ï¼ˆrwndï¼‰å’Œæ‹¥å¡çª—å£ï¼ˆcwndï¼‰ã€‚

æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µ rwnd è®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®ã€‚

ï¼ˆæ¥æ”¶æ–¹æ ¹æ®è‡ªå·±æ¥æ”¶ç¼“å­˜çš„å¤§å°ï¼Œå³æ¥æ”¶çª—å£`rwnd`ï¼ŒåŠ¨æ€çš„è°ƒæ•´å‘é€æ–¹çš„å‘é€çª—å£å¤§å°ï¼Œå‘é€æ–¹çš„å‘é€çª—å£å–æ¥æ”¶çª—å£rwndå’Œ**æ‹¥å¡çª—å£cwnd**çš„æœ€å°å€¼ã€‚ï¼‰



>  æ»‘åŠ¨çª—å£åè®®çš„å®é™…åº”ç”¨ï¼šæ•°æ®é“¾è·¯å±‚çš„ä¸‰ä¸ªARQåè®®

## æµé‡æ§åˆ¶åœ¨å“ªäº›å±‚å®ç°

æµé‡æ§åˆ¶å°±æ˜¯è¦æ§åˆ¶å‘é€æ–¹æ•°æ®ä¼ è¾“çš„é€Ÿç‡ï¼Œä½¿æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶

**ä¼ è¾“å±‚**

- TCPæµé‡æ§åˆ¶ï¼Œåˆ©ç”¨æ»‘åŠ¨çª—å£æœºåˆ¶æ§åˆ¶å‘é€æ–¹çš„é€Ÿåº¦

**æ•°æ®é“¾è·¯å±‚/ä¼ è¾“å±‚**

- ARQåœç­‰åè®®

## æ‹¥å¡æ§åˆ¶

ç½‘ç»œä¸­å­˜åœ¨å¤ªå¤šçš„æ•°æ®åŒ…å¯¼è‡´æ•°æ®åŒ…è¢«å»¶è¿Ÿæˆ–ä¸¢å¤±ï¼Œä»è€Œé™ä½äº†æ•´ä¸ªç½‘ç»œçš„ä¼ è¾“æ€§èƒ½ï¼Œè¿™ç§æƒ…å†µå«åšæ‹¥å¡ã€‚ å¦‚æœäº§ç”Ÿç½‘ç»œæ‹¥å¡ï¼Œåˆ™ç½‘ç»œçš„æ€§èƒ½æ˜æ˜¾ä¸‹é™ï¼Œæ•´ä¸ªç½‘ç»œçš„ååé‡å°†éšç€è¾“å…¥è´Ÿè·çš„å¢å¤§è€Œä¸‹é™ã€‚



æ‹¥å¡æ§åˆ¶ï¼šå¯åˆ†ä¸ºé—­ç¯æ§åˆ¶å’Œå¼€ç¯æ§åˆ¶ã€‚å¼€ç¯æ§åˆ¶æ˜¯åœ¨è®¾è®¡ç½‘ç»œæ—¶äº‹å…ˆå°†æœ‰å…³æ‹¥å¡çš„å› ç´ è€ƒè™‘åˆ°ï¼ŒåŠ›æ±‚ç½‘ ç»œåœ¨å·¥ä½œæ—¶ä¸äº§ç”Ÿæ‹¥å¡ã€‚é—­ç¯æ‹¥å¡æ˜¯åŸºäºåé¦ˆç¯è·¯çš„æ¦‚å¿µã€‚



æ‹¥å¡æ§åˆ¶çš„4ç§ç®—æ³•ï¼š

- â‘  æ…¢å¼€å§‹ç®—æ³•ï¼ˆæŒ‡æ•°å¢é•¿ï¼‰
- â‘¡ æ‹¥å¡é¿å…ç®—æ³•ï¼ˆåŠ æ³•å¢å¤§ï¼Œä¹˜æ³•å‡å°ï¼‰
- â‘¢ å¿«é‡ä¼ ç®—æ³•
- â‘£ å¿«æ¢å¤ç®—æ³•



# äº”ã€åº”ç”¨å±‚

## åº”ç”¨å±‚æœ‰ä»€ä¹ˆåè®®ï¼Œä¸¾å‡ºä¸¤ä¸ªåè®®çš„ä½œç”¨

- `DNS`
   å°†åŸŸåè§£ææˆIPåœ°å€
- `DHCP`
   ä½¿ä¸»æœºåŠ¨æ€è·å–IPåœ°å€
- `HTTP`
   è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ‰€æœ‰çš„ WWWï¼ˆä¸‡ç»´ç½‘ï¼‰ æ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚è®¾è®¡ HTTP æœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶ HTML é¡µé¢çš„æ–¹æ³•ã€‚
- `FTP(æ–‡ä»¶ä¼ è¾“åè®®)`
- `SMTP é‚®ä»¶å‘é€åè®®`
- `POP3ã€IMAP é‚®ä»¶æ¥æ”¶åè®®`

## ç½‘ç»œé€šä¿¡è¿‡ç¨‹

æ‰“å¼€ä¸€ä¸ªç½‘é¡µç½‘ç»œé€šä¿¡è¿‡ç¨‹ï¼š

- `åº”ç”¨å±‚`ï¼šé¦–å…ˆé€šè¿‡**DNSåè®®**è¿›è¡ŒåŸŸåè§£æï¼Œè·å¾—IPåœ°å€ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š

  - æµè§ˆå™¨æœç´¢**è‡ªå·±çš„DNSç¼“å­˜**ï¼Œç¼“å­˜ä¸­ç»´æŠ¤ä¸€å¼ åŸŸåä¸IPåœ°å€çš„å¯¹åº”è¡¨ï¼›

  - è‹¥æ²¡æœ‰ï¼Œåˆ™æœç´¢**æ“ä½œç³»ç»Ÿçš„DNSç¼“å­˜**ï¼›

  - è‹¥æ²¡æœ‰ï¼Œåˆ™æ“ä½œç³»ç»Ÿå°†åŸŸåå‘é€è‡³**æœ¬åœ°åŸŸåæœåŠ¡å™¨**ï¼ˆé€’å½’æŸ¥è¯¢æ–¹å¼ï¼‰ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨æŸ¥è¯¢è‡ªå·±çš„DNSç¼“å­˜ï¼ŒæŸ¥æ‰¾æˆåŠŸåˆ™è¿”å›ç»“æœï¼Œå¦åˆ™ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼è¿­ä»£æŸ¥æ‰¾ï¼š

    æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘æ ¹åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œæ ¹åŸŸåæœåŠ¡å™¨è¿”å›comåŸŸçš„é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€ï¼›

    æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘comåŸŸçš„é¡¶çº§åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œè¿”å›æƒé™åŸŸåæœåŠ¡å™¨åœ°å€ï¼›

    æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘æƒé™åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå¾—åˆ°IPåœ°å€ï¼›

  - æœ¬åœ°åŸŸåæœåŠ¡å™¨å°†å¾—åˆ°çš„IPåœ°å€è¿”å›ç»™æ“ä½œç³»ç»Ÿï¼ŒåŒæ—¶è‡ªå·±å°†IPåœ°å€ç¼“å­˜èµ·æ¥ï¼›

  - æ“ä½œç³»ç»Ÿå°†IPåœ°å€è¿”å›ç»™æµè§ˆå™¨ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå°†IPåœ°å€ç¼“å­˜èµ·æ¥ï¼›

  è‡³æ­¤ï¼Œæµè§ˆå™¨å·²ç»å¾—åˆ°äº†åŸŸåå¯¹åº”çš„IPåœ°å€ã€‚

- æµè§ˆå™¨å‘é€**HTTP**è¯·æ±‚ï¼›

- æ¥ä¸‹æ¥åˆ°äº†`ä¼ è¾“å±‚`ï¼Œ**TCP**ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼›

- æ¥ä¸‹æ¥åˆ°æ¥`ç½‘ç»œå±‚`ï¼Œå»ºç«‹TCPè¿æ¥æ—¶éœ€è¦ä¼ é€æ•°æ®ï¼Œä¼ é€æ•°æ®åœ¨ç½‘ç»œå±‚ä½¿ç”¨**IPåè®®**ï¼Œé€šè¿‡IPåè®®å°†IPåœ°å€å°è£…ä¸ºIPæ•°æ®æŠ¥ï¼›

  IPæ•°æ®æŠ¥åœ¨è·¯ç”±å™¨ä¹‹é—´è¿›è¡Œä¼ é€çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨**è·¯ç”±é€‰æ‹©åè®®OSPFï¼›**

  è·¯ç”±å™¨åœ¨ä¸æœåŠ¡å™¨é€šä¿¡çš„æ—¶å€™ï¼Œéœ€è¦å°†IPåœ°å€è½¬æ¢ä¸ºMACåœ°å€ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨**ARPåè®®ï¼›**ä¸»æœºå‘é€ä¿¡æ¯æ—¶å°†åŒ…å«ç›®æ ‡IPåœ°å€ï¼Œå°†ARPè¯·æ±‚å¹¿æ’­åˆ°ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºï¼Œå¹¶æ¥æ”¶è¿”å›æ¶ˆæ¯ï¼Œä»¥æ­¤ç¡®å®šç›®æ ‡çš„ç‰©ç†åœ°å€ï¼Œæ‰¾åˆ°ç›®çš„MACåœ°å€ï¼›

- æ¥ä¸‹æ¥åˆ°äº†`æ•°æ®é“¾è·¯å±‚`ï¼ŒæŠŠç½‘ç»œå±‚äº¤ä¸‹æ¥çš„IPæ•°æ®æŠ¥æ·»åŠ é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œå°è£…ä¸ºMACå¸§ï¼Œç°åœ¨æ ¹æ®ç›®çš„MACåœ°å€å¼€å§‹**å»ºç«‹TCPè¿æ¥**ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼Œæ¥æ”¶ç«¯åœ¨æ”¶åˆ°ç‰©ç†å±‚ä¸Šäº¤çš„æ¯”ç‰¹æµåï¼Œæ ¹æ®é¦–å°¾çš„æ ‡è®°ï¼Œè¯†åˆ«å¸§çš„å¼€å§‹å’Œç»“æŸï¼Œå°†ä¸­é—´çš„æ•°æ®éƒ¨åˆ†ä¸Šäº¤ç»™ç½‘ç»œå±‚ï¼Œç„¶åå±‚å±‚å‘ä¸Šä¼ é€’åˆ°åº”ç”¨å±‚ï¼›

- æœåŠ¡å™¨**å“åº”æµè§ˆå™¨å‘é€çš„HTTPè¯·æ±‚**å¹¶è¯·æ±‚å®¢æˆ·ç«¯è¦çš„èµ„æºï¼Œä¼ å›ç»™å®¢æˆ·ç«¯ï¼›

- æ–­å¼€TCPè¿æ¥ï¼Œæµè§ˆå™¨é€šè¿‡**HTTPåè®®**å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™å®¢æˆ·ç«¯ã€‚



**æ€»ç»“ä»¥ä¸Šè¿‡ç¨‹ï¼Œç”¨åˆ°çš„åè®®ä¾æ¬¡ä¸ºï¼š**

**DNS â€”â€”> HTTP** **â€”â€”> TCP** **â€”â€”> IP** **â€”â€”> OSPF** **â€”â€”>ARP** **â€”â€”>TCP** **â€”â€”>HTTP**